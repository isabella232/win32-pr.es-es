---
title: Mixed-Mode DE ESCALADO DE PPP y API con reconocimiento de PPP
description: Mixed-Mode DE ESCALADO DE PPP y API con reconocimiento de PPP
ms.assetid: 44AC0B29-3283-4801-90F5-3E78CCD87B9F
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d6f5b16e4c438cfe1f0d04e61524899e213b25ea
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/30/2021
ms.locfileid: "113119730"
---
# <a name="mixed-mode-dpi-scaling-and-dpi-aware-apis"></a><span data-ttu-id="273d2-103">Mixed-Mode DE ESCALADO DE PPP y API con reconocimiento de PPP</span><span class="sxs-lookup"><span data-stu-id="273d2-103">Mixed-Mode DPI Scaling and DPI-aware APIs</span></span>

## <a name="sub-process-dpi-awareness-support"></a><span data-ttu-id="273d2-104">Sub-Process reconocimiento de PPP</span><span class="sxs-lookup"><span data-stu-id="273d2-104">Sub-Process DPI Awareness Support</span></span>

<span data-ttu-id="273d2-105">[**SetThreadDpiAwarenessContext permite**](/windows/desktop/api/Winuser/nf-winuser-setthreaddpiawarenesscontext) el uso de diferentes modos de escalado de PPP dentro de un único proceso.</span><span class="sxs-lookup"><span data-stu-id="273d2-105">[**SetThreadDpiAwarenessContext**](/windows/desktop/api/Winuser/nf-winuser-setthreaddpiawarenesscontext) enables the use of different DPI scaling modes within a single process.</span></span> <span data-ttu-id="273d2-106">Antes de la Actualización de aniversario de Windows 10, el reconocimiento de PPP de una ventana se enlazaba al modo de reconocimiento de PPP en todo el proceso (PPP no consciente, compatible con PPP del sistema o Per-Monitor reconocimiento de PPP).</span><span class="sxs-lookup"><span data-stu-id="273d2-106">Prior to the Windows 10 Anniversary Update, a window s DPI awareness was bound to the process-wide DPI awareness mode (DPI unaware, System DPI aware, or Per-Monitor DPI aware).</span></span> <span data-ttu-id="273d2-107">Pero ahora, con **SetThreadDpiAwarenessContext,** las ventanas de nivel superior pueden tener un modo de reconocimiento de PPP diferente al del modo de reconocimiento de PPP en todo el proceso.</span><span class="sxs-lookup"><span data-stu-id="273d2-107">But now, with **SetThreadDpiAwarenessContext**, top-level windows can have a DPI awareness mode that is different than that of the process-wide DPI awareness mode.</span></span> <span data-ttu-id="273d2-108">Esto también afecta a las ventanas secundarias, ya que siempre tendrán el mismo modo de reconocimiento de PPP que su ventana primaria.</span><span class="sxs-lookup"><span data-stu-id="273d2-108">This also effects child windows, as they will always have the same DPI awareness mode as their parent window.</span></span>

<span data-ttu-id="273d2-109">El uso de **SetThreadDpiAwarenessContext** permite a los desarrolladores decidir dónde quieren centrar sus esfuerzos de desarrollo al definir el comportamiento específico de PPP para las aplicaciones de escritorio.</span><span class="sxs-lookup"><span data-stu-id="273d2-109">The use of **SetThreadDpiAwarenessContext** enables developers to decide where they want to focus their development efforts when defining DPI-specific behavior for desktop applications.</span></span> <span data-ttu-id="273d2-110">Por ejemplo, la ventana de nivel superior principal de una aplicación se podría escalar por monitor, mientras que las ventanas secundarias de nivel superior se podrían escalar mediante el escalado de mapas de bits por parte del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="273d2-110">For example, an application's primary top-level window could be scaled on a per-monitor basis while secondary top-level windows could be scaled via bitmap-scaling by the operating system.</span></span>

## <a name="the-dpi-awareness-context"></a><span data-ttu-id="273d2-111">Contexto de reconocimiento de PPP</span><span class="sxs-lookup"><span data-stu-id="273d2-111">The DPI Awareness Context</span></span>

<span data-ttu-id="273d2-112">Antes de la disponibilidad de **SetThreadDpiAwarenessContext,** el reconocimiento de PPP de un proceso se definió en el manifiesto del binario de la aplicación o mediante una llamada a [**SetProcessDpiAwareness**](/windows/desktop/api/ShellScalingAPI/nf-shellscalingapi-setprocessdpiawareness) durante la inicialización del proceso.</span><span class="sxs-lookup"><span data-stu-id="273d2-112">Prior to the availability of **SetThreadDpiAwarenessContext** the DPI awareness of a process was defined either in the manifest of the application binary or via a call to [**SetProcessDpiAwareness**](/windows/desktop/api/ShellScalingAPI/nf-shellscalingapi-setprocessdpiawareness) during process initialization.</span></span> <span data-ttu-id="273d2-113">Con **SetThreadDpiAwarenessContext,** cada subproceso puede tener un contexto de reconocimiento de PPP individual que puede ser diferente del modo de reconocimiento de PPP en todo el proceso.</span><span class="sxs-lookup"><span data-stu-id="273d2-113">With **SetThreadDpiAwarenessContext**, each thread can have an individual DPI awareness context that may be different than that of the process-wide DPI awareness mode.</span></span> <span data-ttu-id="273d2-114">El contexto de reconocimiento de PPP de un subproceso se representa con el tipo \*:CONTEXTO DE RECONOCIMIENTO de [ \_ \_ PPP\*"](dpi-awareness-context.md) y se comporta de las maneras siguientes:</span><span class="sxs-lookup"><span data-stu-id="273d2-114">The DPI awareness context of a thread is represented with the [\*\*\*\*DPI\_AWARENESS\_CONTEXT\*\*\*\*](dpi-awareness-context.md) type, and behaves in the following ways:</span></span>

-   <span data-ttu-id="273d2-115">Un subproceso puede cambiar su contexto de reconocimiento de PPP en cualquier momento.</span><span class="sxs-lookup"><span data-stu-id="273d2-115">A thread can have its DPI awareness context changed at any time.</span></span>
-   <span data-ttu-id="273d2-116">Las llamadas API que se realizan después de cambiar el contexto se ejecutarán en el contexto de PPP correspondiente (y se pueden virtualizar).</span><span class="sxs-lookup"><span data-stu-id="273d2-116">Any API calls that are made after the context is changed will run in the corresponding DPI context (and may be virtualized).</span></span>
-   <span data-ttu-id="273d2-117">Cuando se crea una ventana, su reconocimiento de PPP se define como el reconocimiento de PPP del subproceso que realiza la llamada en ese momento.</span><span class="sxs-lookup"><span data-stu-id="273d2-117">When a window is created, its DPI awareness is defined as the DPI awareness of the calling thread at that time.</span></span>
-   <span data-ttu-id="273d2-118">Cuando se llama al procedimiento de ventana para una ventana, el subproceso cambia automáticamente al contexto de reconocimiento de PPP que estaba en uso cuando se creó la ventana.</span><span class="sxs-lookup"><span data-stu-id="273d2-118">When the window procedure for a window is called, the thread is automatically switched to the DPI awareness context that was in use when the window was created.</span></span>

<span data-ttu-id="273d2-119">Un escenario común para el uso de **SetThreadDpiAwarenessContext** es el siguiente: Comience con un subproceso que se ejecuta con un contexto (por ejemplo, CONTEXTO DE RECONOCIMIENTO DE **PPP PER MONITOR \_ \_ \_ \_ \_ AWARE)** cambie temporalmente a otro contexto (PPP **AWARENESS CONTEXT \_ \_ \_ UNAWARE),** cree una ventana y, a continuación, vuelva a cambiar inmediatamente el contexto del subproceso a su estado anterior.</span><span class="sxs-lookup"><span data-stu-id="273d2-119">A common scenario for the use of **SetThreadDpiAwarenessContext** is as follows: Begin with a thread that is running with one context (such as **DPI\_AWARENESS\_CONTEXT\_PER\_MONITOR\_AWARE**) temporarily switch to a different context (**DPI\_AWARENESS\_CONTEXT\_UNAWARE**), create a window, and then immediately switch the thread context back to its previous state.</span></span> <span data-ttu-id="273d2-120">La ventana creada tendrá un contexto de PPP de PPP **\_ AWARENESS CONTEXT \_ \_ UNWARE**, mientras que el contexto del subproceso que realiza la llamada se restaurará a CONTEXTO DE RECONOCIMIENTO DE **PPP PER MONITOR \_ \_ \_ \_ \_ AWARE** con una llamada posterior a **SetThreadDpiAwarenessContext**.</span><span class="sxs-lookup"><span data-stu-id="273d2-120">The created window will have a DPI context of **DPI\_AWARENESS\_CONTEXT\_UNAWARE**, while the calling thread s context will be restored to **DPI\_AWARENESS\_CONTEXT\_PER\_MONITOR\_AWARE** with a subsequent call to **SetThreadDpiAwarenessContext**.</span></span> <span data-ttu-id="273d2-121">En este escenario, la ventana asociada al subproceso que realiza la llamada se ejecutaría con un contexto por monitor (y, por lo tanto, el sistema operativo no ajustaría el mapa de bits), mientras que la ventana recién creada no sería compatible con PPP (y, por lo tanto, se ajustaría automáticamente el mapa de bits en un conjunto de pantalla >un escalado del 100 %).</span><span class="sxs-lookup"><span data-stu-id="273d2-121">In this scenario, the window associated with the calling thread would run with a per-monitor context (and therefore not be bitmap-stretched by the operating system) while the newly-created window would not be DPI aware (and therefore would be automatically bitmap stretched on a display set to >100% scaling).</span></span>

<span data-ttu-id="273d2-122">En la figura 1 se muestra cómo se ejecuta el subproceso de proceso principal con CONTEXTO DE RECONOCIMIENTO DE **PPP \_ POR \_ \_ \_ MONITOR,** cambia su contexto a CONTEXTO DE RECONOCIMIENTO DE **PPP \_ \_ \_ SIN** RECONOCIMIENTO y crea una nueva ventana.</span><span class="sxs-lookup"><span data-stu-id="273d2-122">Figure 1 illustrates how the main process thread executes with **DPI\_AWARENESS\_CONTEXT\_PER\_MONITOR**, switches its context to **DPI\_AWARENESS\_CONTEXT\_UNAWARE**, and creates a new window.</span></span> <span data-ttu-id="273d2-123">A continuación, la ventana recién creada se ejecuta con un contexto de reconocimiento de PPP de CONTEXTO DE RECONOCIMIENTO DE **PPP \_ \_ \_ UNAWARE** cada vez que se le envía un mensaje o se realizan llamadas API desde él.</span><span class="sxs-lookup"><span data-stu-id="273d2-123">The newly created window then executes with a DPI awareness context of **DPI\_AWARENESS\_CONTEXT\_UNAWARE** whenever a message is dispatched to it or API calls are made from it.</span></span> <span data-ttu-id="273d2-124">Inmediatamente después de crear la nueva ventana, el subproceso principal se restaura a su contexto anterior de **CONTEXTO DE RECONOCIMIENTO DE PPP POR \_ \_ \_ \_ MONITOR**.</span><span class="sxs-lookup"><span data-stu-id="273d2-124">Immediately after creating the new window the main thread is restored to its previous context of **DPI\_AWARENESS\_CONTEXT\_PER\_MONITOR**.</span></span>

![diagrama que muestra el reconocimiento de ppp por monitor en acción](images/dpi-awareness-context.png)

## <a name="new-dpi-related-apis"></a><span data-ttu-id="273d2-126">Nuevas API relacionadas con PPP</span><span class="sxs-lookup"><span data-stu-id="273d2-126">New DPI-related APIs</span></span>

<span data-ttu-id="273d2-127">Además de la compatibilidad con diferentes modos de reconocimiento de PPP dentro de un único proceso que **ofrece SetThreadDpiAwarenessContext,** se ha agregado la siguiente funcionalidad específica de PPP para las aplicaciones de escritorio:</span><span class="sxs-lookup"><span data-stu-id="273d2-127">In addition to the support for different DPI awareness modes within a single process that **SetThreadDpiAwarenessContext** offers, the following DPI-specific functionality has been added for desktop applications:</span></span><dl> <dd>[<span data-ttu-id="273d2-128">EnableNonClientDpiScaling\*\*\*</span><span class="sxs-lookup"><span data-stu-id="273d2-128">\*\*\*\*EnableNonClientDpiScaling\*\*\*\*</span></span>](/windows/desktop/api/Winuser/nf-winuser-enablenonclientdpiscaling)<dl> <dt>



> [!Note]  
> <span data-ttu-id="273d2-129">El modo de reconocimiento de PPP por monitor **V2** habilita automáticamente esta funcionalidad y, por tanto, no es necesario llamar a **EnableNonClientDpiScaling** en las aplicaciones que la usan.</span><span class="sxs-lookup"><span data-stu-id="273d2-129">The **Per Monitor V2** DPI awareness mode automatically enables this functionality, and calling **EnableNonClientDpiScaling** is therefore unnecessary in applications using it.</span></span>

 

<span data-ttu-id="273d2-130">Al llamar a **EnableNonClientDpiScaling** desde dentro del controlador **\_ WM NCCREATE** de una ventana, el área no cliente de una ventana de nivel superior se escalará automáticamente para PPP.</span><span class="sxs-lookup"><span data-stu-id="273d2-130">Calling **EnableNonClientDpiScaling** from within a window s **WM\_NCCREATE** handler will result in the non-client area of a top-level window automatically scaling for DPI.</span></span> <span data-ttu-id="273d2-131">Si la ventana de nivel superior es compatible con PPP por monitor (ya sea porque el proceso en sí es compatible con PPP por monitor o porque la ventana se creó dentro de un subproceso compatible con PPP por monitor), la barra de subtítulos, las barras de desplazamiento, los menús y las barras de menú de estas ventanas se escalarán con PPP cada vez que cambie el PPP de la ventana.</span><span class="sxs-lookup"><span data-stu-id="273d2-131">If the top-level window is per-monitor DPI-aware (whether because the process itself is per-monitor DPI-aware or because the window was created within a per-monitor DPI-aware thread), the caption bar, scroll bars, menus, and menu bars of these windows will DPI-scale whenever the window s DPI changes.</span></span>
</dt> <dt>

<span data-ttu-id="273d2-132">Tenga en cuenta que las áreas que no son cliente de una ventana secundaria, como las barras de desplazamiento que no son de cliente de un control de edición secundario, no escalarán ppp automáticamente cuando se utilice esta API.</span><span class="sxs-lookup"><span data-stu-id="273d2-132">Note that non-client areas of a child window, such as non-client scroll bars of a child edit control, will not DPI scale automatically when this API is used.</span></span>
</dt> <dt>

> [!Note]  
> <span data-ttu-id="273d2-133">**Se debe llamar a EnableNonClientDpiScaling** desde el **controlador WM \_ NCCREATE.**</span><span class="sxs-lookup"><span data-stu-id="273d2-133">**EnableNonClientDpiScaling** must be called from the **WM\_NCCREATE** handler.</span></span>

</dt> </dl> </dd> <dd> <span data-ttu-id="273d2-134"><b> Las API \*ForDpi </b></span><span class="sxs-lookup"><span data-stu-id="273d2-134"><b> The \*ForDpi APIs </b></span></span>

-   <span data-ttu-id="273d2-135">Varias API de uso frecuente, como [**GetSystemMetrics,**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) no tienen ningún contexto de HWND y, por tanto, no tienen ninguna manera de inducir el reconocimiento de PPP adecuado para sus valores devueltos.</span><span class="sxs-lookup"><span data-stu-id="273d2-135">Several frequently-used APIs such as [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) do not have any context of an HWND and therefore have no way of deducing the proper DPI awareness for their return values.</span></span> <span data-ttu-id="273d2-136">Llamar a estas API desde un subproceso que se ejecuta en un contexto o modo de reconocimiento de PPP diferente puede devolver valores que no se escalan para el contexto del subproceso que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="273d2-136">Calling these APIs from a thread that is running in a different DPI awareness mode or context may return values that are not scaled for the context of the calling thread.</span></span> <span data-ttu-id="273d2-137">[*:GetSystemMetricForDpi*,*,SystemParametersInfoForDpi*'](/windows/desktop/api/Winuser/nf-winuser-getsystemmetricsfordpi)y [*:AdjustWindowRectExForDpi*\*](/windows/desktop/api/Winuser/nf-winuser-adjustwindowrectexfordpi) realizarán la misma funcionalidad que sus homólogos de PPP no conscientes, pero tomarán un VALOR DE PPP como argumento e deducirán el reconocimiento de ppp del contexto del subproceso actual. [](/windows/desktop/api/Winuser/nf-winuser-systemparametersinfofordpi)</span><span class="sxs-lookup"><span data-stu-id="273d2-137">[\*\*\*\*GetSystemMetricForDpi\*\*\*\*](/windows/desktop/api/Winuser/nf-winuser-getsystemmetricsfordpi), [\*\*\*\*SystemParametersInfoForDpi\*\*\*\*](/windows/desktop/api/Winuser/nf-winuser-systemparametersinfofordpi), and [\*\*\*\*AdjustWindowRectExForDpi\*\*\*\*](/windows/desktop/api/Winuser/nf-winuser-adjustwindowrectexfordpi) will perform the same functionality as their DPI unaware counterparts, but take a DPI as an argument and infer the dpi awareness from the current thread's context.</span></span>
-   <span data-ttu-id="273d2-138">**GetSystemMetricForDpi** y **SystemParametersInfoForDpi** devolverán valores de métricas del sistema a escala de PPP y valores de parámetros del sistema de acuerdo con esta ecuación:</span><span class="sxs-lookup"><span data-stu-id="273d2-138">**GetSystemMetricForDpi** and **SystemParametersInfoForDpi** will return DPI-scaled system metric values and system parameter values in accordance to this equation:</span></span>

    
    <span data-ttu-id="273d2-139">GetSystemMetrics(...) @ ppp == GetSystemMetricsForDpi(..., ppp)</span><span class="sxs-lookup"><span data-stu-id="273d2-139">GetSystemMetrics(...) @ dpi == GetSystemMetricsForDpi(..., dpi)</span></span>

    

     

    <span data-ttu-id="273d2-140">Por lo tanto, al llamar a **GetSystemMetrics** (o **SystemParametersInfoForDpi),** mientras se ejecuta en un dispositivo con un determinado valor de PPP del sistema, se devolverá el mismo valor que sus variantes con reconocimiento de PPP **(GetSystemMetricsForDpi** y **SystemParametersInfoForDpi),** dado el mismo valor de PPP que la entrada.</span><span class="sxs-lookup"><span data-stu-id="273d2-140">Therefore, calling **GetSystemMetrics** (or **SystemParametersInfoForDpi**), while running on a device with a certain system DPI value will return the same value that their DPI aware variants (**GetSystemMetricsForDpi** and **SystemParametersInfoForDpi**) will, given the same DPI value as input.</span></span>

-   <span data-ttu-id="273d2-141">[**AdjustWindowRectExForDpi**](/windows/desktop/api/Winuser/nf-winuser-adjustwindowrectexfordpi) toma un HWND y calculará el tamaño necesario de un rectángulo de ventana de una manera sensible a PPP.</span><span class="sxs-lookup"><span data-stu-id="273d2-141">[**AdjustWindowRectExForDpi**](/windows/desktop/api/Winuser/nf-winuser-adjustwindowrectexfordpi) takes an HWND and will calculate the required size of a window rectangle in a DPI-sensitive way.</span></span>

</dd> <dd>

</dd> <dd><span data-ttu-id="273d2-142"><b><a href="/windows/desktop/api/Winuser/nf-winuser-getdpiforwindow">GetDpiForWindow</a></b></span><span class="sxs-lookup"><span data-stu-id="273d2-142"><b><a href="/windows/desktop/api/Winuser/nf-winuser-getdpiforwindow">GetDpiForWindow</a></b></span></span><dl> <span data-ttu-id="273d2-143"><dt><b>GetDpiForWindow</b> devolverá el valor de PPP asociado al HWND proporcionado.</span><span class="sxs-lookup"><span data-stu-id="273d2-143"><dt> <b>GetDpiForWindow</b> will return the DPI associated with the HWND provided.</span></span> <span data-ttu-id="273d2-144">La respuesta dependerá del modo de reconocimiento de PPP del HWND:</span><span class="sxs-lookup"><span data-stu-id="273d2-144">The answer will depend on the DPI awareness mode of the HWND:</span></span>

| <span data-ttu-id="273d2-145">Modo de reconocimiento de PPP de HWND</span><span class="sxs-lookup"><span data-stu-id="273d2-145">DPI Awareness mode of HWND</span></span> | <span data-ttu-id="273d2-146">Valor devuelto</span><span class="sxs-lookup"><span data-stu-id="273d2-146">Return value</span></span>                                                                                                                                                                                                  |
|----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="273d2-147">Conscientes</span><span class="sxs-lookup"><span data-stu-id="273d2-147">Unaware</span></span>                    | <span data-ttu-id="273d2-148">96</span><span class="sxs-lookup"><span data-stu-id="273d2-148">96</span></span>                                                                                                                                                                                                            |
| <span data-ttu-id="273d2-149">Sistema</span><span class="sxs-lookup"><span data-stu-id="273d2-149">System</span></span>                     | <span data-ttu-id="273d2-150">Ppp del sistema</span><span class="sxs-lookup"><span data-stu-id="273d2-150">The system DPI</span></span>                                                                                                                                                                                                |
| <span data-ttu-id="273d2-151">Per-Monitor</span><span class="sxs-lookup"><span data-stu-id="273d2-151">Per-Monitor</span></span>                | <span data-ttu-id="273d2-152">Ppp de la pantalla en la que se encuentra principalmente la ventana de nivel superior asociada</span><span class="sxs-lookup"><span data-stu-id="273d2-152">The DPI of display that the associated top-level window is primarily located on</span></span> <br/> <span data-ttu-id="273d2-153">(Si se proporciona una ventana secundaria, se devolverá el valor de PPP de la ventana primaria de nivel superior correspondiente)</span><span class="sxs-lookup"><span data-stu-id="273d2-153">(If a child window is provided, the DPI of the corresponding top-level parent window will be returned)</span></span><br/> |

</dt> </dl> </dd> <dd><span data-ttu-id="273d2-154"><b><a href="/windows/desktop/api/Winuser/nf-winuser-getdpiforsystem">GetDpiForSystem</a></b></span><span class="sxs-lookup"><span data-stu-id="273d2-154"><b><a href="/windows/desktop/api/Winuser/nf-winuser-getdpiforsystem">GetDpiForSystem</a></b></span></span><dl> <dt>

<span data-ttu-id="273d2-155">Llamar **a GetDpiForSystem es** más eficaz que llamar a [**GetDC**](/windows/desktop/api/winuser/nf-winuser-getdc) y [**GetDeviceCaps**](/windows/desktop/api/wingdi/nf-wingdi-getdevicecaps) para obtener el ppp del sistema.</span><span class="sxs-lookup"><span data-stu-id="273d2-155">Calling **GetDpiForSystem** is more efficient than calling [**GetDC**](/windows/desktop/api/winuser/nf-winuser-getdc) and [**GetDeviceCaps**](/windows/desktop/api/wingdi/nf-wingdi-getdevicecaps) to obtain the system DPI.</span></span>
</dt> <dt>

<span data-ttu-id="273d2-156">Cualquier componente que pueda ejecutarse en una aplicación que use reconocimiento de PPP de sub process no debe suponer que el PPP del sistema es estático durante el ciclo de vida del proceso.</span><span class="sxs-lookup"><span data-stu-id="273d2-156">Any component that could be running in an application that uses sub-process DPI awareness should not assume that the system DPI is static during the lifecycle of the process.</span></span> <span data-ttu-id="273d2-157">Por ejemplo, si un subproceso que se ejecuta en CONTEXTO DE RECONOCIMIENTO DE **PPP \_ \_ \_ UNWARE** consulta el VALOR DE PPP del sistema, la respuesta será 96.</span><span class="sxs-lookup"><span data-stu-id="273d2-157">For example, if a thread that is running under **DPI\_AWARENESS\_CONTEXT\_UNAWARE** awareness context queries the system DPI, the answer will be 96.</span></span> <span data-ttu-id="273d2-158">Sin embargo, si ese mismo subproceso cambió al contexto de reconocimiento del SISTEMA DE CONTEXTO DE RECONOCIMIENTO DE PPP y volvió a consultar el VALOR PPP del sistema, la respuesta podría ser diferente. **\_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="273d2-158">However, if that same thread switched to **DPI\_AWARENESS\_CONTEXT\_SYSTEM** awareness context and queried the system DPI again, the answer could be different.</span></span> <span data-ttu-id="273d2-159">Para evitar el uso de un valor de PPP del sistema almacenado en caché (y posiblemente obsoleto), use **GetDpiForSystem** para recuperar el PPP del sistema con respecto al modo de reconocimiento de PPP del subproceso que realiza la llamada.</span><span class="sxs-lookup"><span data-stu-id="273d2-159">To avoid the use of a cached (and possibly stale) system-DPI value, use **GetDpiForSystem** to retrieve the system DPI relative to the DPI awareness mode of the calling thread.</span></span> 
</dt> </dl> </dd> </dl>
