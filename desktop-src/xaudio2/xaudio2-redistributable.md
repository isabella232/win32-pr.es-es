---
description: Guía del desarrollador para la versión redistribuible de XAudio 2.9
ms.assetid: ''
title: Guía del desarrollador para la versión redistribuible de XAudio 2.9
ms.topic: article
ms.date: 10/17/2019
ms.openlocfilehash: a73ebd01d599446dc96e1e6735d8af572203a23b
ms.sourcegitcommit: d0eb44d0a95f5e5efbfec3d3e9c143f5cba25bc3
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/17/2021
ms.locfileid: "112262597"
---
# <a name="developer-guide-for-redistributable-version-of-xaudio-29"></a><span data-ttu-id="0d0a3-103">Guía del desarrollador para la versión redistribuible de XAudio 2.9</span><span class="sxs-lookup"><span data-stu-id="0d0a3-103">Developer guide for redistributable version of XAudio 2.9</span></span>

<span data-ttu-id="0d0a3-104">Una versión de XAudio 2.9 está disponible como un [paquete NuGet](/nuget/what-is-nuget).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-104">A version of XAudio 2.9 is available as a [NuGet package](/nuget/what-is-nuget).</span></span> <span data-ttu-id="0d0a3-105">Los desarrolladores pueden redistribuir esta versión de XAudio 2.9 con sus aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-105">Developers can redistribute this version of XAudio 2.9 with their apps.</span></span> <span data-ttu-id="0d0a3-106">Esto permite que una aplicación use XAudio 2.9 en versiones anteriores de Windows que no incluyan XAudio 2.9 como parte de la imagen de sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-106">This allows an app to use XAudio 2.9 on older versions of Windows that do no not include XAudio 2.9 as part of the operating system image.</span></span> <span data-ttu-id="0d0a3-107">El uso de esta redistribuible es preferible a la redistribución de XAudio 2.7 desde el SDK de DirectX, ya que XAudio 2.7 no se ha actualizado desde 2010.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-107">Use of this redistributable is preferred over redistributing XAudio 2.7 from the DirectX SDK, as XAudio 2.7 has not been updated since 2010.</span></span>

<span data-ttu-id="0d0a3-108">Asegúrese de visitar la página de [aterrizaje de DirectX](https://devblogs.microsoft.com/directx/landing-page/) para obtener más recursos para los desarrolladores de DirectX.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-108">Make sure that you visit the [DirectX Landing Page](https://devblogs.microsoft.com/directx/landing-page/) for more resources for DirectX developers.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="0d0a3-109">Plataformas compatibles</span><span class="sxs-lookup"><span data-stu-id="0d0a3-109">Supported platforms</span></span>

<span data-ttu-id="0d0a3-110">El paquete NuGet XAudio 2.9 (*Microsoft.XAudio2.Redist. \* . nupkg*) incluye una versión de 32 bits y una versión de 64 bits de un archivo DLL que implementa la API de XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-110">The XAudio 2.9 NuGet package (*Microsoft.XAudio2.Redist.\*.nupkg*) includes a 32-bit and a 64-bit version of a DLL that implements the XAudio 2.9 API.</span></span> <span data-ttu-id="0d0a3-111">El archivo DLL se denomina XAUDIO2 \_9REDIST.DLL.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-111">The DLL is called XAUDIO2\_9REDIST.DLL.</span></span> <span data-ttu-id="0d0a3-112">Este archivo DLL funcionará en Windows 7 SP1, Windows 8, Windows 8.1 y Windows 10.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-112">This DLL will work on Windows 7 SP1, Windows 8, Windows 8.1 and Windows 10.</span></span>

<span data-ttu-id="0d0a3-113">Cuando el archivo DLL se usa en un sistema Windows 10, comprueba el número de versión del9.DLL XAUDIO2 que forma parte del sistema operativo y, si el sistema operativo es más reciente, delegará todas las llamadas API a \_ XAUDIO29.DLL en \_ el sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-113">When the DLL is used on a Windows 10 system, it checks the version number of the XAUDIO2\_9.DLL that is part of the operating system, and if the operating system is newer, it will delegate all API calls to XAUDIO2\_9.DLL in the operating system.</span></span> <span data-ttu-id="0d0a3-114">Esto garantiza que las aplicaciones siempre usen la versión más reciente de XAudio 2.9 que está disponible en la plataforma actual.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-114">This ensures that apps always use the latest version of XAudio 2.9 that is available on the current platform.</span></span>

<span data-ttu-id="0d0a3-115">El archivo DLL no está pensado para Xbox One.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-115">The DLL is not intended for Xbox One.</span></span> <span data-ttu-id="0d0a3-116">Si se usa en Xbox One, el archivo DLL siempre delegará todas las llamadas API a XAUDIO2 \_9.DLL en el Xbox One operativo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-116">If used on Xbox One, the DLL will always delegate all API calls to XAUDIO2\_9.DLL in the Xbox One operating system.</span></span>

<span data-ttu-id="0d0a3-117">El archivo DLL no está pensado para aplicaciones para UWP.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-117">The DLL is not intended for UWP apps.</span></span> <span data-ttu-id="0d0a3-118">Las aplicaciones para UWP deben usar el \_9.DLL XAUDIO2 que forma parte del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-118">UWP apps should use the XAUDIO2\_9.DLL that is part of the operating system.</span></span>

## <a name="installing-the-nuget-package"></a><span data-ttu-id="0d0a3-119">Instalación del paquete de NuGet</span><span class="sxs-lookup"><span data-stu-id="0d0a3-119">Installing the NuGet package</span></span>

<span data-ttu-id="0d0a3-120">La manera más fácil de instalar el paquete NuGet es usar el Administrador de paquetes [NuGet](/nuget/consume-packages/install-use-packages-visual-studio) en Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-120">The easiest way to install the NuGet package is to use the [NuGet Package Manager](/nuget/consume-packages/install-use-packages-visual-studio) in Microsoft Visual Studio.</span></span> <span data-ttu-id="0d0a3-121">Si lo hace, el archivo Visual Studio proyecto se actualizará automáticamente para incluir *Microsoft.XAudio2.Redist.targets.*</span><span class="sxs-lookup"><span data-stu-id="0d0a3-121">If you do this, your Visual Studio project file will be automatically updated to include *Microsoft.XAudio2.Redist.targets*.</span></span> <span data-ttu-id="0d0a3-122">El *archivo .targets* agrega la carpeta Include con los archivos de encabezado de XAudio2 a la colección de rutas de acceso de include del proyecto.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-122">The *.targets* file adds the Include folder with the header files for the XAudio2 to your collection of project include paths.</span></span> <span data-ttu-id="0d0a3-123">El *archivo .targets* también hará que el .DLL o .EXE vínculo con XAUDIO2REDIST. LIB y XAPOBASEREDIST. Lib.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-123">The *.targets* file will also make your .DLL or .EXE link with XAUDIO2REDIST.LIB and XAPOBASEREDIST.LIB.</span></span>

<span data-ttu-id="0d0a3-124">Biblioteca XAPOBASEREDIST. LIB solo es necesario si tiene previsto acotar un objeto de procesamiento XAudio (XAPO) personalizado y puede quitarlo de *Microsoft.XAudio2.Redist.targets* si no se usa.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-124">The library XAPOBASEREDIST.LIB is only needed if you intend to impement a custom XAudio Processing Object (XAPO) and you can remove it from the *Microsoft.XAudio2.Redist.targets* if it is unused.</span></span>

<span data-ttu-id="0d0a3-125">También puede usar otras herramientas para extraer el contenido del paquete NuGet o incluso cambiar el nombre de la extensión de archivo a .zip y extraer los archivos con cualquier herramienta extractora ZIP.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-125">You can also use other tools to extract the contents of the NuGet package, or even rename the file extension to .zip and extract the files with any ZIP extractor tool.</span></span>

> <span data-ttu-id="0d0a3-126">También hay un puerto ``xaudio2redist`` disponible para [vc++ Administrador de paquetes](https://github.com/microsoft/vcpkg).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-126">There is also an ``xaudio2redist`` port available for the [VC++ Package Manager](https://github.com/microsoft/vcpkg).</span></span>

## <a name="compiling-your-app"></a><span data-ttu-id="0d0a3-127">Compilación de la aplicación</span><span class="sxs-lookup"><span data-stu-id="0d0a3-127">Compiling your app</span></span>

### <a name="choosing-which-headers-to-include"></a><span data-ttu-id="0d0a3-128">Elección de los encabezados que se incluirán</span><span class="sxs-lookup"><span data-stu-id="0d0a3-128">Choosing which headers to include</span></span>

<span data-ttu-id="0d0a3-129">El paquete NuGet XAudio 2.9 incluye los mismos archivos de encabezado XAudio2 que se incluyen en Windows 10 SDK.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-129">The XAudio 2.9 NuGet package includes the same XAudio2 header files that are included in the Windows 10 SDK.</span></span> <span data-ttu-id="0d0a3-130">Sin embargo, los archivos de encabezado han tenido algunos ajustes para asegurarse de que puede usarlos al tener como destino explícitamente todas las plataformas [compatibles,](#supported-platforms)incluidas las versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-130">However, the header files have had some adjustments to them to make sure that you can use them while explicitly targeting all [supported platforms](#supported-platforms), including older versions of Windows.</span></span>

<span data-ttu-id="0d0a3-131">Si instala el paquete [NuGet](#installing-the-nuget-package) mediante el Administrador de paquetes NuGet en Microsoft Visual Studio, la ruta de acceso a los archivos de encabezado se coloca delante de la ruta de acceso a los archivos de encabezado Windows SDK encabezado.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-131">If you [install the NuGet package](#installing-the-nuget-package) using the NuGet Package Manager in Microsoft Visual Studio then the path to the header files is placed in front of the path to the Windows SDK header files.</span></span> <span data-ttu-id="0d0a3-132">Esto significa que si el código del proyecto incluye XAUDIO2. Encabezado H, recogerá el encabezado multiplataforma del paquete NuGet.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-132">That means that if code in your project includes the XAUDIO2.H header, it will pick up the cross-platform header from the NuGet package.</span></span> <span data-ttu-id="0d0a3-133">Este suele ser el comportamiento deseado.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-133">This is normally the desired behavior.</span></span>

<span data-ttu-id="0d0a3-134">Debe tener cuidado si agregar manualmente la ruta de acceso a los encabezados de include al proyecto, ya que especificarlos en el orden incorrecto puede provocar el XAUDIO2 específico de la [versión del sistema operativo. H](/windows/win32/api/xaudio2/) que se va a incluir desde Windows SDK, en lugar de la versión multiplataforma de XAUDIO2.H.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-134">You should be careful if adding the path to the include headers manually to the project, as specifying them in the wrong order can cause the OS-version specific [XAUDIO2.H](/windows/win32/api/xaudio2/) to be included from the Windows SDK, rather than the cross-platform version of XAUDIO2.H.</span></span>

<span data-ttu-id="0d0a3-135">Para que la inclusión de encabezados sea menos propensa a errores, el paquete NuGet contiene una versión de cada encabezado con "REDIST" anexado.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-135">To make the inclusion of headers less error-prone, the NuGet package contains a version of each header with "REDIST" appended to it.</span></span> <span data-ttu-id="0d0a3-136">Por ejemplo, además de XAUDIO2. H, el paquete NuGet también incluye XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-136">For example, in addition to XAUDIO2.H, the NuGet package also includes XAUDIO2REDIST.H.</span></span> <span data-ttu-id="0d0a3-137">Si lo prefiere, el código puede incluir directamente XAUDIO2REDIST. H para eliminar cualquier ambigüedad sobre qué archivo de encabezado se está utilizando.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-137">If you prefer, your code can directly include XAUDIO2REDIST.H to eliminate any ambiguity about which header file is being used.</span></span> <span data-ttu-id="0d0a3-138">Al incluir -REDIST. La versión H de un archivo de encabezado, el orden en el que los directorios de archivo de incluyen se enumeran en el archivo de proyecto no importa.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-138">When including the -REDIST.H version of a header file, the order in which the include file directories are listed in the project file do not matter.</span></span>

<span data-ttu-id="0d0a3-139">Tenga en cuenta que si la aplicación también se compila para Xbox One, debe seguir incluyendo XAUDIO2. H al compilar para Xbox One, ya que algunas API específicas Xbox One se excluyen de XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-139">Note that if your app is also being compiled for Xbox One, you should continue to include XAUDIO2.H when compiling for Xbox One, as some Xbox One-specific APIs are excluded from XAUDIO2REDIST.H.</span></span> <span data-ttu-id="0d0a3-140">Este paquete NuGet no está pensado para Xbox One.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-140">This NuGet package is not intended for Xbox One.</span></span>

### <a name="loading-the-dll"></a><span data-ttu-id="0d0a3-141">Carga del archivo DLL</span><span class="sxs-lookup"><span data-stu-id="0d0a3-141">Loading the DLL</span></span>

<span data-ttu-id="0d0a3-142">Se recomienda vincular la aplicación con XAUDIO2REDIST. LIB e instale XAUDIO2 \_9REDIST.DLL en la misma carpeta que el ejecutable de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-142">We recommend that you link your app with XAUDIO2REDIST.LIB and install XAUDIO2\_9REDIST.DLL in the same folder as your app's executable.</span></span> <span data-ttu-id="0d0a3-143">Esto hará que el9REDIST.DLL XAUDIO2 se cargue en cuanto \_ se inicia el archivo ejecutable.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-143">This will cause XAUDIO2\_9REDIST.DLL to be loaded as soon as your executable is launched.</span></span> <span data-ttu-id="0d0a3-144">Sin embargo, si lo prefiere, puede usar [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) y [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) para cargar XAUDIO2 \_9REDIST.DLL a petición.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-144">However, if you prefer, you may use [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) and [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) to load XAUDIO2\_9REDIST.DLL on demand.</span></span> <span data-ttu-id="0d0a3-145">Esta es una buena solución si la aplicación no siempre necesita usar las API de XAudio2.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-145">This is a good solution if your app does not always need to use the XAudio2 APIs.</span></span> <span data-ttu-id="0d0a3-146">Pero si lo hace, debe mantener el9REDIST.DLL XAUDIO2 cargado hasta que se cierre la aplicación, ya que intentar descargar el archivo DLL puede provocar un bloqueo si un subproceso en segundo plano sigue ejecutando código en el \_ archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-146">But if you do this, you should keep the XAUDIO2\_9REDIST.DLL loaded until the app exits, as attempting to unload the DLL can cause a crash if a background thread is still executing code in the DLL.</span></span>

<span data-ttu-id="0d0a3-147">A diferencia de la versión anterior de XAudio 2.7, no es posible usar CoCreateInstance para cargar el archivo DLL.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-147">Unlike the older XAudio 2.7, it is not possible to use CoCreateInstance to load the DLL.</span></span>

### <a name="verifying-the-dll-signature"></a><span data-ttu-id="0d0a3-148">Comprobación de la firma del archivo DLL</span><span class="sxs-lookup"><span data-stu-id="0d0a3-148">Verifying the DLL signature</span></span>

<span data-ttu-id="0d0a3-149">El archivo binario9REDIST.DLL XAUDIO2 \_ está firmado por Microsoft mediante una firma SHA-2.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-149">The XAUDIO2\_9REDIST.DLL binary is signed by Microsoft using a SHA-2 signature.</span></span> <span data-ttu-id="0d0a3-150">Cualquier código que intente validar la firma, por ejemplo, módulos anti-cheat para juegos, debe admitir SHA-2.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-150">Any code that attempts to validate the signature, e.g., anti-cheat modules for games, therefore needs to support SHA-2.</span></span> <span data-ttu-id="0d0a3-151">Tenga en cuenta que Windows 7 SP1 no era compatible originalmente con SHA-2 y requiere una actualización para agregar esa funcionalidad.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-151">Note that Windows 7 SP1 did not originally support SHA-2 and requires an update to add that functionality.</span></span> <span data-ttu-id="0d0a3-152">La actualización está disponible como [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-152">The update is available as [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span></span>

## <a name="testing"></a><span data-ttu-id="0d0a3-153">Prueba</span><span class="sxs-lookup"><span data-stu-id="0d0a3-153">Testing</span></span>

### <a name="spatial-sound-in-newer-versions-of-windows-10"></a><span data-ttu-id="0d0a3-154">Sonido espacial en versiones más recientes de Windows 10</span><span class="sxs-lookup"><span data-stu-id="0d0a3-154">Spatial sound in newer versions of Windows 10</span></span>

<span data-ttu-id="0d0a3-155">A partir de la Windows 10 1903, XAudio 2.9 usa automáticamente el sonido [envolvente virtual](#spatial-sound-and-virtual-surround), si se cumplen ciertas condiciones.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-155">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses [virtual surround sound](#spatial-sound-and-virtual-surround), if certain conditions are satisfied.</span></span> <span data-ttu-id="0d0a3-156">Se recomienda probar juegos que generen sonido multicanal en Windows 10 1903 (o posterior) para comprobar que el juego suena según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-156">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span>

#### <a name="enabling-spatial-sound"></a><span data-ttu-id="0d0a3-157">Habilitación del sonido espacial</span><span class="sxs-lookup"><span data-stu-id="0d0a3-157">Enabling spatial sound</span></span>

<span data-ttu-id="0d0a3-158">El usuario puede habilitar un formato de sonido espacial haciendo clic con el botón derecho en el icono del altavoz en la bandeja del sistema de Windows.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-158">The user can enable a spatial sound format by right-clicking on the speaker icon in the Windows system tray.</span></span> 

<span data-ttu-id="0d0a3-159">XAudio 2.9 solo usará el formato de sonido espacial seleccionado del usuario si windows reconoce el proceso que usa la API XAudio2 como un Game Bar juego.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-159">XAudio 2.9 will only use the user's selected spatial sound format if the process that is using the XAudio2 API is recognized as a game by the Windows Game Bar.</span></span> <span data-ttu-id="0d0a3-160">Durante el desarrollo, es posible que el proceso aún no se reconozca como un juego por parte del Game Bar.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-160">During development, it is possible that the process is not yet recognized as a game by the Game Bar.</span></span> <span data-ttu-id="0d0a3-161">Para cambiar esto, use el teclado Win+G abreviado para abrir el Game Bar mientras se ejecuta el juego.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-161">To change this, use the Win+G keyboard short-cut to bring up the Game Bar while the game is running.</span></span> <span data-ttu-id="0d0a3-162">A continuación, haga clic en el icono "Configuración" y active la casilla que dice "Recuerde que se trata de un juego".</span><span class="sxs-lookup"><span data-stu-id="0d0a3-162">Then click on the "Settings" icon and check the checkbox that says, "Remember that this is a game".</span></span>

#### <a name="opting-out-from-spatial-sound"></a><span data-ttu-id="0d0a3-163">No participar en el sonido espacial</span><span class="sxs-lookup"><span data-stu-id="0d0a3-163">Opting out from spatial sound</span></span>

<span data-ttu-id="0d0a3-164">Hay una manera de rechazar que XAudio2 use el codificador de sonido espacial especificando determinados valores para el parámetro [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) en [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-164">There is a way to opt out from having XAudio2 use the spatial sound encoder by specifying certain values for the [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) parameter in [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span> 

<span data-ttu-id="0d0a3-165">El sonido espacial está habilitado para estas categorías:</span><span class="sxs-lookup"><span data-stu-id="0d0a3-165">Spatial sound is enabled for these categories:</span></span>

* <span data-ttu-id="0d0a3-166">AudioCategory_ForegroundOnlyMedia</span><span class="sxs-lookup"><span data-stu-id="0d0a3-166">AudioCategory_ForegroundOnlyMedia</span></span>
* <span data-ttu-id="0d0a3-167">AudioCategory_GameEffects</span><span class="sxs-lookup"><span data-stu-id="0d0a3-167">AudioCategory_GameEffects</span></span>
* <span data-ttu-id="0d0a3-168">AudioCategory_GameMedia</span><span class="sxs-lookup"><span data-stu-id="0d0a3-168">AudioCategory_GameMedia</span></span>
* <span data-ttu-id="0d0a3-169">AudioCategory_Movie</span><span class="sxs-lookup"><span data-stu-id="0d0a3-169">AudioCategory_Movie</span></span>
* <span data-ttu-id="0d0a3-170">AudioCategory_Media</span><span class="sxs-lookup"><span data-stu-id="0d0a3-170">AudioCategory_Media</span></span>

<span data-ttu-id="0d0a3-171">El sonido espacial no está habilitado si se especifica alguna de las categorías siguientes:</span><span class="sxs-lookup"><span data-stu-id="0d0a3-171">Spatial sound is not enabled if any of the following categories are specified:</span></span>

* <span data-ttu-id="0d0a3-172">AudioCategory_Other</span><span class="sxs-lookup"><span data-stu-id="0d0a3-172">AudioCategory_Other</span></span>
* <span data-ttu-id="0d0a3-173">AudioCategory_Communications</span><span class="sxs-lookup"><span data-stu-id="0d0a3-173">AudioCategory_Communications</span></span>
* <span data-ttu-id="0d0a3-174">AudioCategory_Alerts</span><span class="sxs-lookup"><span data-stu-id="0d0a3-174">AudioCategory_Alerts</span></span>
* <span data-ttu-id="0d0a3-175">AudioCategory_SoundEffects</span><span class="sxs-lookup"><span data-stu-id="0d0a3-175">AudioCategory_SoundEffects</span></span>
* <span data-ttu-id="0d0a3-176">AudioCategory_GameChat</span><span class="sxs-lookup"><span data-stu-id="0d0a3-176">AudioCategory_GameChat</span></span>
* <span data-ttu-id="0d0a3-177">AudioCategory_Speech</span><span class="sxs-lookup"><span data-stu-id="0d0a3-177">AudioCategory_Speech</span></span>

### <a name="error-handling"></a><span data-ttu-id="0d0a3-178">Control de errores</span><span class="sxs-lookup"><span data-stu-id="0d0a3-178">Error handling</span></span>

<span data-ttu-id="0d0a3-179">Es importante probar que el juego puede controlar un cambio en el dispositivo de audio, por ejemplo, cuando los cascos están conectados o desconectados.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-179">It is important to test that you game can handle a change in audio device, for example, when headphones are plugged in, or unplugged.</span></span> <span data-ttu-id="0d0a3-180">Esto debe probarse con micrófonos que solo admiten una frecuencia de muestreo de 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-180">This should be tested with headphones that only support 44.1 kHz sampling rate.</span></span> <span data-ttu-id="0d0a3-181">Muchos micrófonos USB de gama baja y cascos Bluetooth solo admiten 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-181">Many low-end USB headphones and Bluetooth headsets only support 44.1 kHz.</span></span> <span data-ttu-id="0d0a3-182">La transición entre la frecuencia de muestreo de 48 kHz y la frecuencia de muestreo de 44,1 kHz puede producir un error incluso cuando se usa la característica punto de conexión [de audio virtual.](#virtual-audio-endpoint)</span><span class="sxs-lookup"><span data-stu-id="0d0a3-182">The transition between 48 kHz sampling rate and 44.1 kHz sampling rate can cause an error even when the [virtual audio endpoint](#virtual-audio-endpoint) feature is used.</span></span> <span data-ttu-id="0d0a3-183">El error no se producirá si los cascos también admiten 48 kHz.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-183">The error will not happen if the headphones also support 48 kHz.</span></span> <span data-ttu-id="0d0a3-184">Tenga en cuenta que la característica punto de conexión de audio virtual no está disponible en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-184">Note that the virtual audio endpoint feature is not available on Windows 7 SP1.</span></span>

<span data-ttu-id="0d0a3-185">El código de error devuelto por XAudio 2.9 cuando no se puede recuperar automáticamente de un cambio en el punto de conexión de audio es [XAUDIO2 \_ E \_ DEVICE \_ INVALIDATED](xaudio2-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-185">The error code returned by XAudio 2.9 when it cannot automatically recover from a change in audio endpoint is [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md).</span></span> <span data-ttu-id="0d0a3-186">Sin embargo, se recomienda que las aplicaciones no codimente una dependencia en el código de error que tenga un valor específico.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-186">However, we recommend that apps do not hard-code a dependency on the error code having a specific value.</span></span>

<span data-ttu-id="0d0a3-187">Para recibir una notificación del error, la aplicación debe implementar la interfaz [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) y proporcionar un puntero a esa interfaz invocando el método [**IXAudio2::RegisterForCallbacks.**](xaudio2-callbacks.md)</span><span class="sxs-lookup"><span data-stu-id="0d0a3-187">To be notified of the error, the app should implement the [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) interface and provide a pointer to that interface by invoking the [**IXAudio2::RegisterForCallbacks**](xaudio2-callbacks.md) method.</span></span> <span data-ttu-id="0d0a3-188">La API de XAudio2 invocará la implementación de [**la aplicación de IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) si se produce un error durante la reproducción.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-188">The app's implementation of the [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) will be invoked by the XAudio2 API if an error occurs during playback.</span></span>

<span data-ttu-id="0d0a3-189">Tenga en [**cuenta que IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) no se invoca necesariamente si la canalización de audio está en pausa.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-189">Note that [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) is not necessarily invoked if the audio pipeline is paused.</span></span> <span data-ttu-id="0d0a3-190">Por ejemplo, si el usuario minimiza la aplicación o la aplicación se suspende por cualquier motivo, la reproducción de audio podría pausarse.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-190">For example, if the user minimizes the app, or the app gets suspended for any reason, audio playback might be paused.</span></span> <span data-ttu-id="0d0a3-191">Si el cambio en el dispositivo de audio se produce durante este tiempo, el error solo se devuelve cuando la aplicación invoca [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) o invoca [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-191">If the change in audio device happens during this time, the error is only returned when the app invokes [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) and/or invokes [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span></span> <span data-ttu-id="0d0a3-192">Si la reproducción se puede pausar con la aplicación, debe probar el cambio del dispositivo de audio mientras la reproducción está en pausa, para comprobar que la aplicación todavía puede recuperarse de esta situación.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-192">If playback can be paused with your app, you should test changing the audio device while the playback is paused, to verify that the app still can recover from this situation.</span></span>

## <a name="xaudio-29-api-differences-compared-to-xaudio-27"></a><span data-ttu-id="0d0a3-193">Diferencias de API de XAudio 2.9 en comparación con XAudio 2.7</span><span class="sxs-lookup"><span data-stu-id="0d0a3-193">XAudio 2.9 API differences compared to XAudio 2.7</span></span>

<span data-ttu-id="0d0a3-194">En esta sección se proporciona un resumen de algunas de las diferencias de API entre XAudio 2.7 y la versión redistribuible de XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-194">This section provides a summary of some of the API differences between XAudio 2.7 and the redistributable version of XAudio 2.9.</span></span>

### <a name="supported-formats"></a><span data-ttu-id="0d0a3-195">Formatos compatibles</span><span class="sxs-lookup"><span data-stu-id="0d0a3-195">Supported formats</span></span>

<span data-ttu-id="0d0a3-196">XAudio 2.9 admite estos formatos de entrada en pc:</span><span class="sxs-lookup"><span data-stu-id="0d0a3-196">XAudio 2.9 supports these input formats on PC:</span></span>

* <span data-ttu-id="0d0a3-197">PCM lineal de 16 bits</span><span class="sxs-lookup"><span data-stu-id="0d0a3-197">Linear 16-bit PCM</span></span>
* <span data-ttu-id="0d0a3-198">PCM flotante lineal de 32 bits</span><span class="sxs-lookup"><span data-stu-id="0d0a3-198">Linear 32-bit Float PCM</span></span>
* <span data-ttu-id="0d0a3-199">ADPCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="0d0a3-199">16-bit ADPCM</span></span>
* <span data-ttu-id="0d0a3-200">xWMA</span><span class="sxs-lookup"><span data-stu-id="0d0a3-200">xWMA</span></span>

<span data-ttu-id="0d0a3-201">El formato XMA solo se admite en Xbox One.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-201">The XMA format is only supported on Xbox One.</span></span>

### <a name="preferred-cpu-core"></a><span data-ttu-id="0d0a3-202">Núcleo de CPU preferido</span><span class="sxs-lookup"><span data-stu-id="0d0a3-202">Preferred CPU core</span></span>

<span data-ttu-id="0d0a3-203">Es posible especificar qué núcleo de CPU XAudio 2.9 debe usar para su subproceso de procesamiento de audio.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-203">It is possible to specify which CPU core XAudio 2.9 should use for its audio processing thread.</span></span> <span data-ttu-id="0d0a3-204">Sin embargo, normalmente se prefiere dejar que XAudio 2.9 elija este valor por sí mismo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-204">However, it is usually preferred to let XAudio 2.9 choose this value by itself.</span></span> <span data-ttu-id="0d0a3-205">Para ello, se establece el parámetro **XAudio2Processor** en la llamada a [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) en XAUDIO2 \_ USE DEFAULT \_ \_ PROCESSOR.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-205">This is done by setting the **XAudio2Processor** parameter in the call to [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) to XAUDIO2\_USE\_DEFAULT\_PROCESSOR.</span></span> 

<span data-ttu-id="0d0a3-206">XAudio 2.9 elegirá un núcleo de CPU diferente en Xbox One que en pc.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-206">XAudio 2.9 will choose a different CPU core on Xbox One than on PC.</span></span> <span data-ttu-id="0d0a3-207">El método IXAudio2Extension::GetProcessor se puede usar para determinar qué núcleo de CPU ha elegido XAudio2.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-207">The IXAudio2Extension::GetProcessor method can be used to determine which CPU core XAudio2 has chosen.</span></span>

### <a name="virtual-audio-endpoint"></a><span data-ttu-id="0d0a3-208">Punto de conexión de audio virtual</span><span class="sxs-lookup"><span data-stu-id="0d0a3-208">Virtual audio endpoint</span></span>

<span data-ttu-id="0d0a3-209">XAudio 2.9 usará un punto de conexión de audio virtual de forma predeterminada, cuando se ejecute Windows 8 o posterior.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-209">XAudio 2.9 will use a virtual audio endpoint by default, when running on Windows 8 or later.</span></span> <span data-ttu-id="0d0a3-210">Esto significa que si el punto de conexión de audio predeterminado cambia mientras se usa XAudio 2.9, intentará cambiar automáticamente al nuevo punto de conexión de audio.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-210">This means that if the default audio endpoint changes while XAudio 2.9 is used, it will attempt to automatically switch to the new audio endpoint.</span></span> <span data-ttu-id="0d0a3-211">Un ejemplo de cuándo puede ocurrir cuando el punto de conexión de audio predeterminado es un par de cascos conectados a través de USB y, a continuación, el usuario desconecta los cascos.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-211">An example of when this can happen when the default audio endpoint is a pair of headphones that are connected over USB, and then the user unplugs the headphones.</span></span> <span data-ttu-id="0d0a3-212">Esto hará que los altavoces sean el nuevo punto de conexión de audio predeterminado.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-212">This will cause the speakers to be the new default audio endpoint.</span></span>

<span data-ttu-id="0d0a3-213">Si la aplicación especifica un formato de audio específico al invocar [**IXAudio2::CreateMasteringVoice,**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice)puede que XAudio 2.9 no pueda realizar este modificador.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-213">If the app specifies a specific audio format when invoking [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), it may not be possible for XAudio 2.9 to perform this switch.</span></span> <span data-ttu-id="0d0a3-214">Por ejemplo, si la aplicación especificó que Mastering Voice debe usar una frecuencia de muestreo de 48 kHz y el nuevo dispositivo de audio solo admite 44,1 kHz, se producirá un error en el conmutador automático y XAudio 2.9 notificará el error [XAUDIO2 \_ E \_ DEVICE \_ INVALIDATED.](xaudio2-error-codes.md)</span><span class="sxs-lookup"><span data-stu-id="0d0a3-214">For example, if the app specified that the Mastering Voice shall use a 48 kHz sampling rate and the new audio device only supports 44.1 kHz, then the automatic switch will fail, and XAudio 2.9 will report the [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md) error.</span></span>

<span data-ttu-id="0d0a3-215">Es posible que la aplicación no pueda optar por no usar el punto de conexión de audio virtual pasando la marca [**XAUDIO2 \_ NO VIRTUAL AUDIO \_ \_ \_ CLIENT**](xaudio2-boundary-values-and-flags.md) a [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="0d0a3-215">It is possible for the app to opt out of using the virtual audio endpoint by passing in the [**XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT**](xaudio2-boundary-values-and-flags.md) flag to [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span>

<span data-ttu-id="0d0a3-216">Los puntos de conexión de audio virtual no están disponibles en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-216">Virtual audio endpoints are not available on Windows 7 SP1.</span></span> <span data-ttu-id="0d0a3-217">La **marca \_ XAUDIO2 NO VIRTUAL AUDIO \_ \_ \_ CLIENT** no tiene ningún efecto en Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-217">The **XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT** flag has no effect on Windows 7 SP1.</span></span>

### <a name="audio-categories"></a><span data-ttu-id="0d0a3-218">Categorías de audio</span><span class="sxs-lookup"><span data-stu-id="0d0a3-218">Audio categories</span></span>

<span data-ttu-id="0d0a3-219">La aplicación debe especificar una categoría para su secuencia de audio.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-219">The app should specify a category for its audio stream.</span></span> <span data-ttu-id="0d0a3-220">Para ello, se proporciona un valor de la enumeración AudioCategory al invocar el método [**IXAudio2::CreateMasteringVoice.**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice)</span><span class="sxs-lookup"><span data-stu-id="0d0a3-220">This is done by providing a value from the AudioCategory enumeration when invoking the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) method.</span></span> <span data-ttu-id="0d0a3-221">Por ejemplo, AudioCategory_GameEffects.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-221">For example, AudioCategory_GameEffects.</span></span> <span data-ttu-id="0d0a3-222">La categoría audio puede afectar a cómo Windows procesa el sonido o cómo representa la secuencia de audio en el panel de control de volumen.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-222">The audio category can affect how Windows processes the sound or how it represents the audio stream in the volume control panel.</span></span> <span data-ttu-id="0d0a3-223">La categoría de audio también afecta si el [sonido envolvente virtual](#spatial-sound-and-virtual-surround) está habilitado automáticamente.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-223">The audio category also affects if [virtual surround sound](#spatial-sound-and-virtual-surround) is automatically enabled.</span></span>

### <a name="duration-of-audio-processing-quantum"></a><span data-ttu-id="0d0a3-224">Duración del proceso de audio cuántico</span><span class="sxs-lookup"><span data-stu-id="0d0a3-224">Duration of audio processing quantum</span></span>

<span data-ttu-id="0d0a3-225">En la mayoría de los equipos, XAudio 2.9 procesa el audio en fragmentos de 10 milisegundos.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-225">On most PCs, XAudio 2.9 processes audio in 10 millisecond chunks.</span></span> <span data-ttu-id="0d0a3-226">Esto se denomina el cuántico de procesamiento.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-226">This is called the processing quantum.</span></span> <span data-ttu-id="0d0a3-227">Sin embargo, la duración de este cuántico puede ser diferente de 10 milisegundos en algún hardware.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-227">However, the duration of this quantum may be different than 10 milliseconds on some hardware.</span></span> <span data-ttu-id="0d0a3-228">Las aplicaciones que necesitan conocer el cuántico exacto pueden invocar el método IXAudio2Extension::GetProcessingQuantum para recuperar el valor.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-228">Apps that need to know the exact quantum can invoke the IXAudio2Extension::GetProcessingQuantum method to retrieve the value.</span></span>

### <a name="spatial-sound-and-virtual-surround"></a><span data-ttu-id="0d0a3-229">Sonido espacial y envolvente virtual</span><span class="sxs-lookup"><span data-stu-id="0d0a3-229">Spatial sound and virtual surround</span></span>

<span data-ttu-id="0d0a3-230">A partir de la Windows 10 1903, XAudio 2.9 usa automáticamente el sonido envolvente virtual, si se cumplen ciertas condiciones.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-230">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses virtual surround sound, if certain conditions are satisfied.</span></span> <span data-ttu-id="0d0a3-231">Se recomienda probar juegos que generen sonido multicanal en Windows 10 1903 (o posterior) para comprobar que el juego suena según lo previsto.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-231">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span> <span data-ttu-id="0d0a3-232">Consulte la [sección de pruebas de sonido](#spatial-sound-in-newer-versions-of-windows-10) espacial para obtener una explicación sobre cómo probar esta característica.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-232">See the [testing spatial sound](#spatial-sound-in-newer-versions-of-windows-10) section for a discussion about how to test this feature.</span></span>

<span data-ttu-id="0d0a3-233">Normalmente, XAudio 2.9 realiza un plegado de cualquier audio multicanal para que coincida con el número "físico" de canales de audio admitidos por el punto de conexión de audio.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-233">Normally, XAudio 2.9 performs a folds down any multi-channel audio to match the "physical" number of audio channels that are supported by the audio endpoint.</span></span> <span data-ttu-id="0d0a3-234">Por ejemplo, si el juego proporciona un origen de audio de canal 7.1, pero el sonido se reproduce en los cascos, XAudio 2.9 doblerá el audio del canal 7.1 en estéreo, mediante una matriz de plegado estándar del sector.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-234">For example, if the game provides a 7.1 channel audio source, but the sound is played on headphones, XAudio 2.9 will fold down the 7.1 channel audio into stereo, using an industry standard fold-down matrix.</span></span> <span data-ttu-id="0d0a3-235">Si el equipo está conectado a un punto de conexión de audio HDMI, el audio del canal 7.1 se transmitirá tal como está a través de la conexión HDMI.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-235">If the PC is connected to a HDMI audio endpoint, then the 7.1 channel audio will be transmitted as-is over the HDMI connection.</span></span>

<span data-ttu-id="0d0a3-236">Windows 10 agrega compatibilidad con audio espacial, mediante un codificador centralizado que codifica el audio en un formato de sonido [espacial seleccionado por el](../coreaudio/spatial-sound.md) usuario.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-236">Windows 10 adds support for spatial audio, using a centralized encoder that encodes audio into a user-selected [spatial sound](../coreaudio/spatial-sound.md) format.</span></span> <span data-ttu-id="0d0a3-237">Windows 10 incluye un formato de sonido espacial denominado Windows Sonic.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-237">Windows 10 comes included with a spatial sound format called Windows Sonic.</span></span> <span data-ttu-id="0d0a3-238">Otros formatos, como Dolby Atmos for Headphones, se pueden descargar desde el Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-238">Other formats, such as Dolby Atmos for Headphones, can be downloaded from the Microsoft Store.</span></span> <span data-ttu-id="0d0a3-239">Algunos de los formatos de sonido espacial, como Windows Sonic y Dolby Atmos for Headphones, están diseñados para usarse en puntos de conexión de audio estéreo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-239">Some of the spatial sound formats, such as Windows Sonic and Dolby Atmos for Headphones, are designed to be used on stereo audio endpoints.</span></span> <span data-ttu-id="0d0a3-240">Estos formatos se plegan hacia abajo alrededor del sonido en estéreo mediante algoritmos propietarios que logran un efecto de sonido envolvente "virtual".</span><span class="sxs-lookup"><span data-stu-id="0d0a3-240">These formats fold down surround sound to stereo using proprietary algorithms that achieve a "virtual" surround sound effect.</span></span> <span data-ttu-id="0d0a3-241">En otras palabras, el agente de escucha puede percibir el sonido que aparece desde diferentes posiciones en el espacio 3D, incluso mientras solo lleva cascos o mientras escucha en un solo par de altavoces estéreo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-241">In other words, the listener can perceive sound appearing from different positions in 3D space even while only wearing headphones, or while listening on a single pair of stereo speakers.</span></span>

<span data-ttu-id="0d0a3-242">Se pueden lograr efectos similares mediante las [API de X3DAudio](x3daudio.md) que se incluyen con XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-242">Similar effects can be achieved using the [X3DAudio](x3daudio.md) APIs that are included with XAudio 2.9.</span></span> <span data-ttu-id="0d0a3-243">La principal diferencia es que X3DAudio requiere que el desarrollador de la aplicación programe explícitamente el audio 3D, mientras que el sonido envolvente virtual se aplica automáticamente a cualquier origen de sonido basado en canal transional.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-243">The main difference is that X3DAudio requires the app developer to explicitly program for 3D audio, whereas virtual surround sound is applied automatically to any tradional channel-based sound source.</span></span>

<span data-ttu-id="0d0a3-244">En Windows 10 1903 y versiones más recientes, los juegos que usan XAudio 2.9 usarán el formato de sonido espacial de todo el sistema que el usuario ha habilitado en el punto de conexión de audio, si lo hay.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-244">On Windows 10 1903, and newer, games that use XAudio 2.9 will use the system-wide spatial sound format that the user has enabled on the audio endpoint, if any.</span></span> <span data-ttu-id="0d0a3-245">Esto significa que XAudio 2.9 no realizará el plegado habitual del sonido envolvente a estéreo.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-245">This means that XAudio 2.9 will not perform the usual fold-down of surround sound to stereo.</span></span> <span data-ttu-id="0d0a3-246">En su lugar, la señal de sonido envolvente se entregará al codificador de sonido espacial (por ejemplo, Windows Sonic) para lograr un efecto de sonido envolvente virtual.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-246">Instead, the surround sound signal will be delivered to the spatial sound encoder (e.g., Windows Sonic) to achieve a virtual surround sound effect.</span></span>

### <a name="createhrtfapo"></a><span data-ttu-id="0d0a3-247">CreateHrtfApo</span><span class="sxs-lookup"><span data-stu-id="0d0a3-247">CreateHrtfApo</span></span>

<span data-ttu-id="0d0a3-248">La [**función CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) solo está disponible en Windows 10.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-248">The [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) function is only available on Windows 10.</span></span> <span data-ttu-id="0d0a3-249">No se implementa en la versión redistribuible de XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="0d0a3-249">It is not implemented in the XAudio 2.9 redistributable.</span></span>
