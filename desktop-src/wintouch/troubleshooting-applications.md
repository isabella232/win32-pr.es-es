---
title: Solución de problemas de aplicaciones
description: En esta sección se ofrecen soluciones a problemas comunes.
ms.assetid: dfdc5a97-aa0a-4011-8f61-6e405e28b6f8
keywords:
- Windows Touch, solución de problemas de aplicaciones
- Windows Toque, rechazo de hojas
- rechazo de la mano
- Windows Touch, compatibilidad heredada
- solución de problemas Windows Touch
- inercia, solución de problemas de aplicaciones
- manipulaciones, solución de problemas de aplicaciones
- gestos, solución de problemas de aplicaciones
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f5d2907fde6751a5fe8d2d4acd761dd5729eac1a92b2a0f32b476c719088462
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/11/2021
ms.locfileid: "119840555"
---
# <a name="troubleshooting-applications"></a>Solución de problemas de aplicaciones

En esta sección se ofrecen soluciones a problemas comunes.

## <a name="general-troubleshooting"></a>Solución general de problemas



| Category | Descripción |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Estoy ejecutando Windows Server 2008 y Windows touch no funcionan.                                                                                                                                                                                                                                       |
| Causa    | No ha habilitado la experiencia de escritorio.                                                                                                                                                                                                                                                                        |
| Solución | Abra la Administrador del servidor administrativa: haga **clic** en Iniciar , seleccione Herramientas **administrativas** y, a continuación, haga clic **Administrador del servidor**. Haga clic en **el elemento** Características de la columna izquierda. Haga **clic en Agregar** características en la **sección** Características. Seleccione **Experiencia de escritorio,** haga clic **en Siguiente** y, a continuación, haga clic **en Instalar.** |



 



| Category | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Cada vez que mudo el dedo rápidamente por la aplicación, aparece una flecha y mi gesto o manipulación no se registra correctamente.                                                             |
| Causa    | Tener gestos habilitados cuando no lo necesite.                                                                                                                                                      |
| Solución | Tiene gestos habilitados cuando desea que se deshabilite. Consulte [Compatibilidad heredada para el movimiento panorámico](legacy-support-for-panning-with-scrollbars.md) con barras de desplazamiento para obtener información sobre cómo deshabilitar los gestos de lápiz. |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>No puedo distinguir entre la entrada del mouse y Windows entrada táctil.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Windows genera mensajes del mouse para la compatibilidad heredada cuando un usuario hace clic en la pantalla.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Puede llamar a <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo">GetMessageExtraInfo para</a> los mensajes <strong>WM_LBUTTONDOWN</strong> y <strong>WM_LBUTTONUP</strong> para determinar el origen. En el código siguiente se muestra cómo se podría hacer esto. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#define MOUSEEVENTF_FROMTOUCH 0xFF515700

if ((GetMessageExtraInfo() & MOUSEEVENTF_FROMTOUCH) == MOUSEEVENTF_FROMTOUCH) { 
    // Click was generated by wisptis / Windows Touch
}else{ 
    // Click was generated by the mouse.
}
</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



| Category | Descripción |
|----------|------------------------------------------------------------------------------------|
| Problema    | Cómo ejecutar aplicaciones de Microsoft PixelSense en Windows 7?                       |
| Causa    | Windows Touch y Microsoft PixelSense son incompatibles.                           |
| Solución | Debe tener como destino la plataforma Windows 7 o microsoft PixelSense plataforma. |



 

## <a name="troubleshooting-manipulations-and-inertia"></a>Solución de problemas de manipulaciones e inercia



| Category | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Mi aplicación se está inmovilizando sin motivo. Obtendros infracciones de acceso al inicializar mis interfaces de objeto.                                                                                                                                          |
| Causa    | Falta una llamada a **CoInitialize** cuando se usan las interfaces [**IManipulationProcessor**](/windows/desktop/api/manipulations/nn-manipulations-imanipulationprocessor) [**o IInertiaProcessor.**](/windows/desktop/api/manipulations/nn-manipulations-iinertiaprocessor)                                                                                 |
| Solución | Esto podría deberse a la creación de instancias Windows objetos del Modelo de objetos componentes táctiles (COM) sin llamar a CoInitialize. Esto sucede a veces cuando se convierten proyectos de usar gestos a usar las manipulaciones o las interfaces de inercia. |



 



| Category | Descripción |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Mi objeto se está girando incorrectamente cuando se está traduciendo. La rotación con un solo dedo no funciona correctamente.                                                                                                                                                                                                                                                                           |
| Causa    | Establecer pivotes incorrectamente en un objeto.                                                                                                                                                                                                                                                                                                                                                 |
| Solución | No está configurando correctamente los puntos de pivote de manipulación. Establezca las propiedades [**PivotPointX**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointx) y [**PivotPointY**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointy) en el centro del objeto o punto en el que desea girar y establezca la propiedad [**PivotRadius**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotradius) en el radio del objeto. |



 

## <a name="troubleshooting-windows-touch-input"></a>Solución de problemas Windows entrada táctil



| Category | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Después de controlar el mensaje [**WM \_ TOUCH,**](wm-touchdown.md) deté de recibir comentarios sobre los límites.                                                                                                                                                                                                                                        |
| Causa    | Consumir el [**mensaje WM \_ TOUCH**](wm-touchdown.md) sin controlarlo.                                                                                                                                                                                                                                                           |
| Solución | Probablemente esté consumiendo un mensaje Windows touch sin reenviarlo a **DefWindowProc,** lo que dará lugar a un comportamiento inesperado. Consulte [Tareas iniciales con Windows touch messages](getting-started-with-multi-touch-messages.md) para obtener más información sobre cómo controlar correctamente los mensajes WM [**\_ TOUCH.**](wm-touchdown.md) |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Estoy incluyendo windows.h, pero sigue indicando que WM_TOUCH <a href="wm-touchdown.md"><strong>no</strong></a> está definido.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>La Windows en Targetver.h es incorrecta.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>No ha establecido la versión Windows correcta en el proyecto. En el código siguiente se muestran las versiones Windows establecidas correctamente para Windows Touch en Windows 7. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#ifndef WINVER                  // Specify that the minimum required platform is Windows 7.
#define WINVER 0x0601           
#endif</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Mis coordenadas X de entrada táctil e Y parecen no válidas. Son valores más grandes de los esperados o son valores negativos.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Es posible que tenga que convertir los puntos táctiles en píxeles o que necesite convertir las coordenadas de la pantalla.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Asegúrese de llamar a <a href="/windows/desktop/api/winuser/nf-winuser-touch_coord_to_pixel"><strong>TOUCH_COORD_TO_PIXEL</strong></a> y <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient</strong></a>. El código siguiente muestra cómo hacerlo. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>      POINT ptInput;
      if (GetTouchInputInfo((HTOUCHINPUT)lParam, cInputs, pInputs, sizeof(TOUCHINPUT))){
        for (int i=0; i < static_cast<INT>(cInputs); i++){
          TOUCHINPUT ti = pInputs[i];                       
          if (ti.dwID != 0){                
            // Do something with your touch input handle.
            ptInput.x = TOUCH_COORD_TO_PIXEL(ti.x);
            ptInput.y = TOUCH_COORD_TO_PIXEL(ti.y);
            ScreenToClient(hWnd, &ptInput);
            points[ti.dwID][0] = ptInput.x;
            points[ti.dwID][1] = ptInput.y;
          }
        }
      }</code></pre></td>
</tr>
</tbody>
</table>

<div class="alert">
<blockquote>
[!Note]<br />
Para usar la función <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient,</strong></a> debe tener compatibilidad con valores altos de PPP en la aplicación. Para obtener más información sobre la compatibilidad con valores altos de PPP, visite la <a href=" /windows/win32/hidpi/high-dpi-desktop-application-development-on-windows">sección Valores altos de PPP</a> de MSDN.
</blockquote>
</div>
<div>
 
</div></td>
</tr>
</tbody>
</table>



 



| Category | Descripción |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | No veo mensajes [**WM \_ TOUCH,**](wm-touchdown.md) pero sé que Windows Touch funciona porque veo mensajes [**WM \_ GESTURE.**](wm-gesture.md)                                                             |
| Causa    | Falta una llamada a [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                          |
| Solución | [**WM \_ Los mensajes TOUCH**](wm-touchdown.md) [**y WM \_ GESTURE**](wm-gesture.md) son mutuamente excluyentes. Si no llama a [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)solo recibirá mensajes **WM \_ GESTURE.** |



 



| Category | Descripción |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Veo pequeños retrasos desde el momento en que toco el dedo hacia abajo hasta cuando obtendí entradas en mi aplicación.                                                                                                                                                                                                                                         |
| Causa    | El rechazo de Palm está causando retrasos en la entrada.                                                                                                                                                                                                                                                                                                            |
| Solución | Si **TWF \_ WANTPALM se establece** en llamadas a [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)se habilita el rechazo de la mano. Esto provoca un retraso pequeño (100 ms) mientras el software comprueba si la entrada viene de un dedo, un lápiz o la mano del usuario. Deshabilite el rechazo de la mano llamando **a RegisterTouchWindow** con la **marca \_ WANTPALM de TWF** desactivada. |



 

## <a name="troubleshooting-windows-touch-gestures"></a>Solución de Windows gestos táctiles



| Category | Descripción |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Después de controlar el [**mensaje \_ WM GESTURE,**](wm-gesture.md) deté de recibir comentarios de límites. O bien, un gesto que funcionaba anteriormente no funciona ahora.                                                                                                                                                                                                                         |
| Causa    | Consumo del mensaje [**WM \_ GESTURE**](wm-gesture.md) sin controlarlo.                                                                                                                                                                                                                                                                                                    |
| Solución | Es probable que esté consumiendo un Windows touch sin reenviarlo a [DefWindowProc,](/windows/win32/api/winuser/nf-winuser-defwindowproca)lo que dará lugar a un comportamiento inesperado. Compruebe [Tareas iniciales con Windows gestos para](getting-started-with-multi-touch-gestures.md) obtener más información sobre cómo controlar correctamente los mensajes DE WM [**\_ GESTURE.**](wm-gesture.md) |



 



| Category | Descripción |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | No veo mensajes [**WM \_ GESTURE,**](wm-gesture.md) pero sé que Windows Touch funciona porque veo mensajes [**WM \_ TOUCH.**](wm-touchdown.md)                                                      |
| Causa    | Llamar [**a RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                             |
| Solución | [**WM \_ Los mensajes TOUCH**](wm-touchdown.md) [**y WM \_ GESTURE**](wm-gesture.md) son mutuamente excluyentes. Si llama a [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow), no recibirá mensajes **WM \_ GESTURE.** |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>No veo todos los gestos que esperaba ver. Por ejemplo, veo gestos con el identificador GID_PAN <strong>pero</strong> <strong>no GID_ROTATE</strong>.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Algunos gestos, como el gesto de rotación, no están habilitados de forma predeterminada.</td>
</tr>
<tr class="odd">
<td>Solución</td>
<td>Debe llamar <a href="wm-gesturenotify.md"><strong>a</strong></a> <a href="/windows/desktop/api/winuser/nf-winuser-setgestureconfig"><strong>SetGestureConfig</strong></a> cuando reciba un mensaje WM_GESTURENOTIFY como se describe en la referencia de <strong>WM_GESTURENOTIFY</strong> o deberá agregar un controlador para el mensaje <strong>WM_GESTURENOTIFY.</strong> El código siguiente muestra cómo se podría implementar un controlador para habilitar la compatibilidad con la rotación. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>// The message map.
BEGIN_MESSAGE_MAP()
    ON_WM_CREATE()
     ... ... ...
    ON_MESSAGE(WM_GESTURENOTIFY, OnWindowsGestureNotify)
END_MESSAGE_MAP()  

LRESULT CTestWndApp::OnWindowsGestureNotify(
    UINT    uMsg,
    WPARAM  wParam,
    LPARAM  lParam,
    BOOL&   bHandled
    ){
    GESTURECONFIG gc;
    gc.dwID    = GID_ROTATE; // The gesture identifier.
    gc.dwWant  = GC_ROTATE;  // The gesture command you are enabling for GID_ROTATE.
    gc.dwBlock = 0;          // Don&#39;t block anything.
    UINT uiGcs = 1;          // The number of gestures being set.

  BOOL bResult = SetGestureConfig(g_hMainWnd, 0, uiGcs, &gc, sizeof(GESTURECONFIG));
    if(!bResult) {
        // Something went wrong, report the error using your preferred logging.
    }

  return 0;
}  </code></pre></td>
</tr>
</tbody>
</table>

Para obtener más ejemplos de configuraciones de gestos típicas, <strong>vea SetGestureConfig</strong>.</td>
</tr>
</tbody>
</table>



 



| Category | Descripción |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Las barras de desplazamiento personalizadas de mi aplicación no se desplazan cuando se realiza el gesto de desplazamiento.                                                                                                                                                                                                                                                                                                         |
| Causa    | Faltan controladores para los mensajes \_ \* WM SCROLL correctos.                                                                                                                                                                                                                                                                                                                                            |
| Solución | No está controlando todos los mensajes WM \_ \* SCROLL en las barras de desplazamiento personalizadas. Se recomienda controlar el mensaje [**WM \_ GESTURE**](wm-gesture.md) en lugar de conservar la funcionalidad de la barra de desplazamiento personalizada a través de la compatibilidad heredada. Debe admitir mensajes como se detalla en la sección Compatibilidad heredada para la aplicación de [desplazamiento panorámico con barras de desplazamiento.](legacy-support-for-panning-with-scrollbars.md) |



 



| Category | Descripción |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Tengo retrasos en los gestos.                                                                                                                                                                                                                               |
| Causa    | Los gestos pueden estar causando retrasos en los gestos.                                                                                                                                                                                                                      |
| Solución | Los gestos pueden provocar retrasos durante cuánto tiempo tarda la aplicación en recibir [**mensajes DE WM \_ GESTURE.**](wm-gesture.md) Consulte [Compatibilidad heredada con desplazamiento panorámico](legacy-support-for-panning-with-scrollbars.md) con barras de desplazamiento para obtener información sobre cómo deshabilitar los gestos. |



 

## <a name="related-topics"></a>Temas relacionados

<dl> <dt>

[Guía de programación](programming-guide.md)
</dt> </dl>

 

 