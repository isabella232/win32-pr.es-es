---
description: El modelo de seguridad de Microsoft Windows permite controlar el acceso a los objetos de proceso. Para obtener más información sobre la seguridad, vea Access-Control Modelo.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Derechos de acceso y seguridad de procesos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93a5fb29599c5a769b9a7b63d653d24ec543e408
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549977"
---
# <a name="process-security-and-access-rights"></a>Derechos de acceso y seguridad de procesos

El modelo de seguridad de Microsoft Windows permite controlar el acceso a los objetos de proceso. Para obtener más información sobre la seguridad, vea [Modelo de control de acceso](../secauthz/access-control-model.md).

Cuando un usuario inicia sesión, el sistema recopila un conjunto de datos que identifica de forma única al usuario durante el proceso de autenticación y lo almacena en un [token de acceso.](../secauthz/access-tokens.md) Este token de acceso describe el contexto de seguridad de todos los procesos asociados al usuario. El contexto de seguridad de un proceso es el conjunto de credenciales proporcionadas al proceso o a la cuenta de usuario que creó el proceso.

Puede usar un token para especificar el contexto de seguridad actual para un proceso mediante la [**función CreateProcessWithTokenW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) Puede especificar un [descriptor de seguridad para](../secauthz/security-descriptors.md) un proceso al llamar a la función [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)o [**CreateProcessWithLogonW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) Si especifica **NULL,** el proceso obtiene un descriptor de seguridad predeterminado. Las ACL del descriptor de seguridad predeterminado para un proceso proceden del token principal o de suplantación del creador.

Para recuperar el descriptor de seguridad de un proceso, llame a la [**función GetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) Para cambiar el descriptor de seguridad de un proceso, llame a la [**función SetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo)

Los derechos de acceso válidos para los objetos de proceso incluyen [los derechos de acceso estándar](../secauthz/standard-access-rights.md) y algunos derechos de acceso específicos del proceso. En la tabla siguiente se enumeran los derechos de acceso estándar utilizados por todos los objetos.

| Valor                           | Significado                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **DELETE** (0x00010000L)        | Necesario para eliminar el objeto.                                                                                                                                                                                                                                                           |
| **READ \_ CONTROL** (0x00020000L) | Necesario para leer información en el descriptor de seguridad del objeto, sin incluir la información en la SACL. Para leer o escribir la SACL, debe solicitar el derecho **de acceso ACCESS SYSTEM \_ \_ SECURITY.** Para obtener más información, vea [SACL Access Right](../secauthz/sacl-access-right.md). |
| **SYNCHRONIZE** (0x00100000L)   | Derecho a utilizar el objeto para la sincronización. Esto permite que un subproceso espere hasta que el objeto esté en el estado señalado.                                                                                                                                                                |
| **WRITE \_ DAC** (0x00040000L)    | Necesario para modificar la DACL en el descriptor de seguridad para el objeto .                                                                                                                                                                                                                   |
| **WRITE \_ OWNER** (0x00080000L)  | Necesario para cambiar el propietario en el descriptor de seguridad del objeto.                                                                                                                                                                                                                  |



 

En la tabla siguiente se enumeran los derechos de acceso específicos del proceso.



| Valor                                             | Significado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **PROCESAR \_ TODO \_ EL ACCESO**                          | Todos los derechos de acceso posibles para un objeto de proceso. **Windows Server 2003 y Windows XP:** El tamaño de la marca **PROCESAR \_ TODO EL \_ ACCESO** aumentó en Windows Server 2008 y Windows Vista. Si una aplicación compilada para Windows Server 2008 y Windows Vista se ejecuta en Windows Server 2003 o Windows XP, la marca **PROCESS \_ ALL \_ ACCESS** es demasiado grande y la función que especifica esta marca produce un error de **ACCESO \_ \_ DENEGAdo.** Para evitar este problema, especifique el conjunto mínimo de derechos de acceso necesarios para la operación. Si **se debe usar PROCESS ALL \_ \_ ACCESS,** establezca WINNT win32 en el sistema operativo mínimo de destino de la aplicación \_ \_ (por ejemplo, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Para obtener más información, [vea Usar los encabezados de Windows](../winprog/using-the-windows-headers.md). <br/> |
| **PROCESO \_ CREATE \_ PROCESS** (0x0080)             | Necesario para crear un proceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **PROCESO \_ CREATE \_ THREAD** (0x0002)              | Necesario para crear un subproceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **PROCESO \_ IDENTIFICADOR DE \_ DUP** (0x0040)                 | Necesario para duplicar un identificador mediante [**DuplicateHandle.**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **PROCESO \_ INFORMACIÓN \_ DE CONSULTA** (0x0400)          | Necesario para recuperar cierta información sobre un proceso, como su token, código de salida y clase de prioridad (vea [**OpenProcessToken).**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESO \_ CONSULTA \_ DE \_ INFORMACIÓN LIMITADA** (0x1000) | Necesario para recuperar cierta información sobre un proceso (vea [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). A un identificador que tiene el **derecho de acceso PROCESS QUERY \_ \_ INFORMATION** se le concede automáticamente **PROCESS QUERY LIMITED \_ \_ \_ INFORMATION**.**Windows Server 2003 y Windows XP:** este derecho de acceso no se admite.<br/>                                                                                                                                                                                                                                                                                                                         |
| **PROCESO \_ SET \_ INFORMATION** (0x0200)            | Necesario para establecer cierta información sobre un proceso, como su clase de prioridad (vea [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESO \_ SET \_ QUOTA** (0x0100)                  | Necesario para establecer límites de memoria [**mediante SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **PROCESO \_ SUSPEND \_ RESUME** (0x0800)             | Necesario para suspender o reanudar un proceso.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **PROCESO \_ TERMINATE** (0x0001)                   | Necesario para finalizar un proceso mediante [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESO \_ OPERACIÓN \_ DE MÁQUINA** VIRTUAL (0x0008)               | Necesario para realizar una operación en el espacio de direcciones de un proceso (vea [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) y [**WriteProcessMemory).**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **PROCESO \_ LECTURA \_ DE MÁQUINA** VIRTUAL (0x0010)                    | Necesario para leer memoria en un proceso mediante [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **PROCESO \_ ESCRITURA \_ DE MÁQUINA** VIRTUAL (0x0020)                   | Necesario para escribir en memoria en un proceso [**mediante WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **SYNCHRONIZE** (0x00100000L)                     | Necesario para esperar a que finalice el proceso mediante las [funciones de espera](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Para abrir un identificador a otro proceso y obtener derechos de acceso completos, debe habilitar el privilegio **SeDebugPrivilege.** Para obtener más información, [vea Cambiar privilegios en un token.](../secbp/changing-privileges-in-a-token.md)

El identificador devuelto por la [**función CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) tiene **acceso PROCESS ALL \_ \_ ACCESS** al objeto de proceso. Al llamar a la [**función OpenProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) el sistema comprueba los derechos de acceso solicitados con la DACL en el descriptor de seguridad del proceso. [](../secauthz/access-rights-and-access-masks.md) Cuando se llama a [**la función GetCurrentProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) el sistema devuelve un pseudohandle con el acceso máximo que la DACL permite al autor de la llamada.

Puede solicitar el derecho **de acceso ACCESS SYSTEM \_ \_ SECURITY** a un objeto de proceso si desea leer o escribir la SACL del objeto. Para obtener más información, vea [Listas de control de acceso (ACL)](../secauthz/access-control-lists.md) y Derecho de acceso [sacl](../secauthz/sacl-access-right.md).

> [!WARNING]
> Un proceso que tenga algunos de los derechos de acceso indicados aquí puede usarlos para obtener otros derechos de acceso. Por ejemplo, si el proceso A tiene un identificador para procesar B con el acceso **PROCESS \_ DUP \_ HANDLE,** puede duplicar el pseudo identificador para el proceso B. Esto crea un identificador que tiene acceso máximo al proceso B. Para obtener más información sobre los pseudo identificadores, [**vea GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).

 

## <a name="protected-processes"></a>Procesos protegidos

Windows Vista presenta procesos *protegidos para* mejorar la compatibilidad con Digital Rights Management. El sistema restringe el acceso a los procesos protegidos y a los subprocesos de los procesos protegidos.

No se permiten los siguientes derechos de acceso estándar desde un proceso a un proceso protegido:

- **DELETE**  
- **CONTROL DE \_ LECTURA**  
- **ESCRIBIR \_ DAC**  
- **PROPIETARIO DE \_ ESCRITURA**  

No se permiten los siguientes derechos de acceso específicos desde un proceso a un proceso protegido:

- **PROCESAR \_ TODO \_ EL ACCESO**  
- **PROCESO \_ CREATE \_ PROCESS**  
- **PROCESS \_ CREATE \_ THREAD**  
- **IDENTIFICADOR \_ DE DUP \_ DE PROCESO**  
- **PROCESAR \_ INFORMACIÓN DE \_ CONSULTA**  
- **INFORMACIÓN DEL \_ CONJUNTO \_ DE PROCESOS**  
- **PROCESS \_ SET \_ QUOTA**  
- **PROCESO DE \_ OPERACIÓN DE MÁQUINA \_ VIRTUAL**  
- **PROCESAR LECTURA \_ DE MÁQUINA \_ VIRTUAL**  
- **PROCESAR ESCRITURA \_ DE MÁQUINA \_ VIRTUAL**  

Se **introdujo \_ el derecho PROCESS QUERY \_ LIMITED \_ INFORMATION** para proporcionar acceso a un subconjunto de la información disponible a través de **PROCESS QUERY \_ \_ INFORMATION**.
