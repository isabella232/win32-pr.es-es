---
Description: Las siguientes marcas de creación de procesos las usan las funciones CreateProcess, CreateProcessAsUser, CreateProcessWithLogonW y CreateProcessWithTokenW. Se pueden especificar en cualquier combinación, excepto como se indica.
ms.assetid: fd3384ad-8635-4ea1-9054-0572ef86b86d
title: Marcas de creación de procesos (WinBase.h)
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 28ea49959e67e0d50c80c1787dcc08d2dbf5defd6da547c6869d2eb9224cbd62
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 08/11/2021
ms.locfileid: "120031785"
---
# <a name="process-creation-flags"></a>Marcas de creación de procesos

Las siguientes marcas de creación de procesos las usan las funciones [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)y [**CreateProcessWithTokenW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) Se pueden especificar en cualquier combinación, excepto como se indica.

## <a name="example"></a>Ejemplo

```c
     BOOL creationResult;
    
    creationResult = CreateProcess(
        NULL,                   // No module name (use command line)
        cmdLine,                // Command line
        NULL,                   // Process handle not inheritable
        NULL,                   // Thread handle not inheritable
        FALSE,                  // Set handle inheritance to FALSE
        NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE | CREATE_NEW_PROCESS_GROUP, // creation flags
        NULL,                   // Use parent's environment block
        NULL,                   // Use parent's starting directory 
        &startupInfo,           // Pointer to STARTUPINFO structure
        &processInformation);   // Pointer to PROCESS_INFORMATION structure

```

Ejemplo de [Windows ejemplos clásicos](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) en GitHub.


## <a name="flags"></a>Marcas

| Constante o valor                                                                                                                                                                                                                                                                            | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CREATE_BREAKAWAY_FROM_JOB"></span><span id="create_breakaway_from_job"></span><dl> <dt>**CREATE \_ BREAKAWAY \_ FROM \_ JOB**</dt> <dt>0x01000000</dt> </dl>                       | Los procesos secundarios de un proceso asociado a un trabajo no están asociados al trabajo. <br/> Si el proceso de llamada no está asociado a un trabajo, esta constante no tiene ningún efecto. Si el proceso de llamada está asociado a un trabajo, el trabajo debe establecer el límite **\_ JOB OBJECT LIMIT \_ \_ BREAKAWAY \_ OK.**<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_DEFAULT_ERROR_MODE"></span><span id="create_default_error_mode"></span><dl> <dt>**CREATE \_ MODO \_ DE ERROR \_ PREDETERMINADO**</dt> <dt>0x04000000</dt> </dl>                       | El nuevo proceso no hereda el modo de error del proceso de llamada. En su lugar, el nuevo proceso obtiene el modo de error predeterminado. <br/> Esta característica es especialmente útil para las aplicaciones de shell multiproceso que se ejecutan con errores graves deshabilitados.<br/> El comportamiento predeterminado es que el nuevo proceso herede el modo de error del autor de la llamada. Establecer esta marca cambia ese comportamiento predeterminado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CREATE_NEW_CONSOLE"></span><span id="create_new_console"></span><dl> <dt>**CREATE \_ NUEVA \_ CONSOLA**</dt> <dt>0x00000010</dt> </dl>                                             | El nuevo proceso tiene una nueva consola, en lugar de heredar la consola de su elemento primario (el valor predeterminado). Para obtener más información, [vea Creación de una consola](/windows/console/creation-of-a-console)de . <br/> Esta marca no se puede usar con **DETACHED \_ PROCESS**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CREATE_NEW_PROCESS_GROUP"></span><span id="create_new_process_group"></span><dl> <dt>**CREATE \_ NUEVO \_ GRUPO \_ DE PROCESOS**</dt> <dt>0x00000200</dt> </dl>                          | El nuevo proceso es el proceso raíz de un nuevo grupo de procesos. El grupo de procesos incluye todos los procesos que son descendientes de este proceso raíz. El identificador de proceso del nuevo grupo de procesos es el mismo que el identificador del proceso, que se devuelve en el *parámetro lpProcessInformation.* La función [**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent) usa grupos de procesos para habilitar el envío de una señal CTRL+BREAK a un grupo de procesos de consola.<br/> Si se especifica esta marca, las señales CTRL+C se deshabilitarán para todos los procesos del nuevo grupo de procesos.<br/> Esta marca se omite si se especifica con **CREATE \_ NEW \_ CONSOLE.**<br/>                                                                                                                                                                                                                                                                         |
| <span id="CREATE_NO_WINDOW"></span><span id="create_no_window"></span><dl> <dt>**CREATE \_ NO \_ WINDOW**</dt> <dt>0x08000000</dt> </dl>                                                   | El proceso es una aplicación de consola que se ejecuta sin una ventana de consola. Por lo tanto, no se establece el identificador de consola para la aplicación.<br/> Esta marca se omite si la aplicación no es una aplicación de consola o si se usa con **CREATE \_ NEW \_ CONSOLE** o **DETACHED \_ PROCESS.**<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CREATE_PROTECTED_PROCESS"></span><span id="create_protected_process"></span><dl> <dt>**CREATE \_ Protección \_ de procesos**</dt> <dt>0x00040000</dt> </dl>                           | El proceso se va a ejecutar como un proceso protegido. El sistema restringe el acceso a los procesos protegidos y a los subprocesos de los procesos protegidos. Para obtener más información sobre cómo los procesos pueden interactuar con procesos protegidos, vea [Derechos de acceso y seguridad de procesos.](process-security-and-access-rights.md)<br/> Para activar un proceso protegido, el archivo binario debe tener una firma especial. Microsoft proporciona esta firma, pero no está disponible actualmente para archivos binarios que no son de Microsoft. Actualmente hay cuatro procesos protegidos: base multimedia, motor de audio, Windows informes de errores y sistema. Los componentes que se cargan en estos archivos binarios también deben estar firmados. Las empresas multimedia pueden aprovechar los dos primeros procesos protegidos. Para obtener más información, vea [Información general de la ruta de acceso de medios protegidos.](../medfound/protected-media-path.md)<br/> **Windows Server 2003 y Windows XP:** Este valor no se admite.<br/> |
| <span id="CREATE_PRESERVE_CODE_AUTHZ_LEVEL"></span><span id="create_preserve_code_authz_level"></span><dl> <dt>**CREATE \_ PRESERVE \_ CODE \_ AUTHZ \_ LEVEL**</dt> <dt>0x02000000</dt> </dl> | Permite al autor de la llamada ejecutar un proceso secundario que omite las restricciones del proceso que normalmente se aplicarían automáticamente al proceso.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CREATE_SECURE_PROCESS"></span><span id="create_secure_process"></span><dl> <dt>**CREATE \_ Secure \_ PROCESS**</dt> <dt>0x00400000</dt> </dl>                                    | Esta marca permite iniciar procesos seguros que se ejecutan en el Virtualization-Based seguridad.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_SEPARATE_WOW_VDM"></span><span id="create_separate_wow_vdm"></span><dl> <dt>**CREATE \_ Independiente \_ \_ VDM de WOW**</dt> <dt>0x00000800</dt> </dl>                             | Esta marca solo es válida cuando se inicia una aplicación basada en Windows de 16 bits. Si se establece, el nuevo proceso se ejecuta en una máquina Virtual DOS privada (VDM). De forma predeterminada, todas las aplicaciones basadas Windows de 16 bits se ejecutan como subprocesos en un único VDM compartido. La ventaja de ejecutarse por separado es que un bloqueo solo finaliza el VDM único; cualquier otro programa que se ejecute en vdms distintos seguirá funcionando con normalidad. Además, las aplicaciones basadas Windows 16 bits que se ejecutan en máquinas virtuales virtuales independientes tienen colas de entrada independientes. Esto significa que si una aplicación deja de responder momentáneamente, las aplicaciones de vdms independientes siguen recibiendo entradas. La desventaja de ejecutar por separado es que se necesita mucho más memoria para hacerlo. Solo debe usar esta marca si el usuario solicita que las aplicaciones de 16 bits se ejecuten en su propio VDM.<br/>                                                                                                                 |
| <span id="CREATE_SHARED_WOW_VDM"></span><span id="create_shared_wow_vdm"></span><dl> <dt>**CREATE \_ Shared \_ WOW \_ VDM**</dt> <dt>0x00001000</dt> </dl>                                   | La marca solo es válida al iniciar una aplicación basada en Windows de 16 bits. Si el modificador DefaultSeparateVDM de la sección Windows de WIN.INI **es TRUE,** esta marca invalida el modificador. El nuevo proceso se ejecuta en la máquina virtual de DOS compartida.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="CREATE_SUSPENDED"></span><span id="create_suspended"></span><dl> <dt>**CREATE \_ SUSPENDED**</dt> <dt>0x00000004</dt> </dl>                                                    | El subproceso principal del nuevo proceso se crea en un estado suspendido y no se ejecuta hasta que se llama a la [**función ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CREATE_UNICODE_ENVIRONMENT"></span><span id="create_unicode_environment"></span><dl> <dt>**CREATE \_ Entorno \_ UNICODE**</dt> <dt>0x00000400</dt> </dl>                     | Si se establece esta marca, el bloque de entorno al que *apunta lpEnvironment usa* caracteres Unicode. De lo contrario, el bloque de entorno usa caracteres ANSI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DEBUG_ONLY_THIS_PROCESS"></span><span id="debug_only_this_process"></span><dl> <dt>**DEBUG \_ SOLO \_ ESTE \_ PROCESO**</dt> <dt>0x00000002</dt> </dl>                             | El subproceso que realiza la llamada inicia y depura el nuevo proceso. Puede recibir todos los eventos de depuración relacionados mediante [**la función WaitForDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="DEBUG_PROCESS"></span><span id="debug_process"></span><dl> <dt>**DEBUG \_ Proceso**</dt> <dt>0x00000001</dt> </dl>                                                             | El subproceso de llamada inicia y depura el nuevo proceso y todos los procesos secundarios creados por el nuevo proceso. Puede recibir todos los eventos de depuración relacionados mediante [**la función WaitForDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) <br/> Un proceso que usa **DEBUG \_ PROCESS se** convierte en la raíz de una cadena de depuración. Esto continúa hasta que se crea otro proceso de la cadena con **DEBUG \_ PROCESS**.<br/> Si esta marca se combina con **DEBUG \_ ONLY THIS \_ \_ PROCESS**, el autor de la llamada depura solo el nuevo proceso, no los procesos secundarios.<br/>                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="DETACHED_PROCESS"></span><span id="detached_process"></span><dl> <dt>**DESASOCIADO \_ Proceso**</dt> <dt>0x00000008</dt> </dl>                                                    | En el caso de los procesos de consola, el nuevo proceso no hereda la consola de su elemento primario (valor predeterminado). El nuevo proceso puede llamar a [**la función AllocConsole**](/windows/console/allocconsole) más adelante para crear una consola. Para obtener más información, [vea Creación de una consola](/windows/console/creation-of-a-console)de . <br/> Este valor no se puede usar con **CREATE \_ NEW \_ CONSOLE.**<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="EXTENDED_STARTUPINFO_PRESENT"></span><span id="extended_startupinfo_present"></span><dl> <dt>**EXTENDIDO \_ STARTUPINFO \_ PRESENT**</dt> <dt>0x00080000</dt> </dl>               | El proceso se crea con información de inicio extendida; El *parámetro lpStartupInfo* especifica una [**estructura STARTUPINFOEX.**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa)<br/> **Windows Server 2003 y Windows XP:** Este valor no se admite.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="INHERIT_PARENT_AFFINITY"></span><span id="inherit_parent_affinity"></span><dl> <dt>**HEREDAR \_ AFINIDAD \_ PRIMARIA**</dt> <dt>0x00010000</dt> </dl>                              | El proceso hereda la afinidad de su elemento primario. Si el proceso primario tiene [](processor-groups.md)subprocesos en más de un grupo de procesadores, el nuevo proceso hereda la afinidad relativa al grupo de un grupo arbitrario en uso por el elemento primario.<br/> **Windows Server 2008, Windows Vista, Windows Server 2003 y Windows XP:** Este valor no se admite.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



## <a name="remarks"></a>Comentarios

En las aplicaciones de 32 Windows, las aplicaciones de 16 bits se simulan mediante ntvdm.exe, no se ejecutan como procesos individuales. Por lo tanto, las marcas de creación del proceso se *aplican antvdm.exe*. Dado que ntvdm.exe se conserva después de ejecutar la primera aplicación de 16 bits, al iniciar otra aplicación de 16 bits, no se aplican las nuevas marcas de creación, excepto **CREATE \_ NEW \_ CONSOLE** y **CREATE SEPARATE WOW \_ \_ \_ VDM,** que crean un nuevo ntvdm.exe.

## <a name="requirements"></a>Requisitos



| Requisito | Value |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Cliente mínimo compatible<br/> | Windows Solo \[ aplicaciones de escritorio XP\]<br/>                                                              |
| Servidor mínimo compatible<br/> | Windows Solo aplicaciones de escritorio de Server 2003 \[\]<br/>                                                     |
| Header<br/>                   | <dl> <dt>WinBase.h (incluir Windows.h)</dt> </dl> |



 

 
