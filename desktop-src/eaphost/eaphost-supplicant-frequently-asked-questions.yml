### YamlMime:FAQ
metadata:
  title: Preguntas más frecuentes sobre EAPHost Supplicant
  description: En este tema se proporcionan respuestas a las preguntas más frecuentes sobre eapHost Supplicant API.
  ms.assetid: bf8db711-386e-47c2-be47-4cfd6c4d8d9e
  ms.topic: article
  ms.date: 05/31/2018
  ms.openlocfilehash: 32c61b2658f5efba14eef1bdf74e37d2ae833dff
  ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
  ms.translationtype: MT
  ms.contentlocale: es-ES
  ms.lasthandoff: 09/13/2021
  ms.locfileid: "127568781"
title: Preguntas más frecuentes sobre EAPHost Supplicant
summary: >
  En este tema se proporcionan respuestas a las preguntas más frecuentes sobre eapHost Supplicant API.
sections:
- name: Omitido
  questions:
  - question: >
      ¿Por qué es necesario llamar a "EapHostPeerInitialize" y "EapHostPeerUninitialize"?
    answer: >
      [<strong>EapHostPeerInitialize</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerinitialize) y [<strong>EapHostPeerUninitialize</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeeruninitialize) inicializan y desinitializan el entorno COM usado para la comunicación entre procesos (IPC) entre un supplicant y EAPHost.
  - question: >
      ¿Qué funciones se deben invocar en subprocesos que tienen COM inicializado para Single Threaded Apartment (STA)?
    answer: >
      Se debe llamar a [<strong>EapHostPeerInvokeConfigUI,</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeconfigui) [<strong>EapHostPeerInvokeInteractiveUI</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)y [<strong>EapHostAuthenticatorInvokeConfigUI</strong>](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorinvokeconfigui) en subprocesos que tienen INICIALIZADO COM para STA. Esto se puede lograr mediante una llamada a la API COM [<strong>CoInitialize</strong>](/windows/win32/api/objbase/nf-objbase-coinitialize); cuando el suplicante ha finalizado con el subproceso STA, se debe llamar a [<strong>CoUninitialize</strong>](/windows/win32/api/combaseapi/nf-combaseapi-couninitialize) antes de salir.
  - question: >
      ¿Cómo exporta EAPHost el material de clave?
    answer: >
      Los métodos EAP de EAPhost exportan claves de sesión maestras (MSK) en forma de claves de cifrado de punto a punto (MPPE) de Microsoft a los suplicantes. El suplicante puede generar material de clave adicional, como claves maestras en pares (PMK) mediante MSK. Para que los métodos generen otras claves durante la autenticación, los métodos pueden proporcionar esas claves como atributos específicos del proveedor a los suplicantes.
  - question: >
      ¿Qué es una clave de sesión maestra extendida (EMSK)?
    answer: >
      EMSK es material de clave adicional exportado por el método EAP. EMSK tiene al menos 64 octetos de longitud. EMSK se comparte entre el cliente EAP y el servidor, pero no se comparte con el autenticador ni con ningún otro tercero. Actualmente, EMSK está reservado para su uso futuro. Para obtener más información, vea [Extensible Authentication Protocol EAP) Method Requirements for Wireless LANs (Requisitos](https://go.microsoft.com/fwlink/p/?linkid=84064)del método EAP del Protocolo de autenticación extensible para REDES LAN inalámbricas).<br/>
  - question: >
      ¿Cuándo consume o genera un atributo un método?
    answer: >
      Si un método EAP genera atributos o EMSK, el suplicante consumirá atributos. Normalmente, los atributos que consumen los suplicantes son claves. Los atributos consumidos <strong>son consumedPeerId,</strong> <strong>consumedServerId,</strong> <strong>consumedMethodId,</strong> <strong>consumedEMSK</strong>y <strong>consumedCredentialsChanged.</strong> Para obtener más información, [<strong>vea EAP_ATTRIBUTE_TYPE</strong>](/windows/desktop/api/eaptypes/ne-eaptypes-eap_attribute_type). Un método EAP puede exportar material adicional de EMSK específico de la aplicación, como:

      <ul>

      <li>Identificador de sesión</li>

      <li>[Protección de acceso a](/windows/desktop/NAP/network-access-protection-start-page) redes (NAP)</li>

      </ul>

      <br/>
  - question: >
      ¿Qué atributos consume 802.1X?
    answer: >
      El suplicante [802.1X](/previous-versions/windows/embedded/ms890287(v=msdn.10)) inalámbrico nativo consumirá los siguientes atributos de autenticación eapHost:

      <ul>

      <li>Notificación de cambio de contraseña</li>

      <li>Claves de envío y recepción de Microsoft Point-to-Point Encryption (MPPE). VendorId/VendorType = 331/16 y 311/1</li>

      </ul>


      Las claves MPPE son claves generadas al final de la autenticación correcta, tanto por el mismo nivel como por el autenticador. [802.1X](/previous-versions/windows/embedded/ms890287(v=msdn.10)) y el servidor de acceso a la red (NAS) usan estas claves para cifrar y descifrar los paquetes que se envían y reciben.<br/>
  - question: >
      ¿Cuál es el propósito de la EAP_PEER_FLAG_GUEST_ACCESS en EAPHost?
    answer: >
      Cuando esta marca se establece en [<strong>EAPHostPeerBeginSession,</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession)EAPHost lo interpreta como una solicitud de autorización de invitado y devuelve una respuesta de identidad <strong>NULL</strong> que, a continuación, se pasa al suplicante y se devuelve al servidor EAP.
  - question: >
      ¿Cómo solicita la suplicación la autenticación de la máquina?
    answer: >
      La autenticación de la máquina se solicita estableciendo [<strong>la EAP_FLAG_MACHINE_AUTH</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) de autenticación.
  - question: >
      ¿Cómo solicita el suplicante la autenticación de usuario?
    answer: >
      La autenticación de usuario se solicita no estableciendo [<strong>la marca EAP_FLAG_MACHINE_AUTH</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) usuario.
  - question: >
      ¿Cuándo se usa "EapHostPeerFreeErrorMemory" en lugar de la función "EapHostFreeEapError"?
    answer: >
      La [<strong>función EapHostPeerFreeErrorMemory</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerfreeerrormemory) solo se usa para liberar las [<strong>EAP_ERROR</strong>](/windows/desktop/api/eaptypes/ns-eaptypes-eap_error) de configuración de EAPHost devueltas por las API de configuración de EAPHost. Las API de configuración de EAPHost se definen en EapHostPeerConfigApis.h. En cambio, la función [<strong>EapHostPeerFreeEapError</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerfreeeaperror) <strong></strong> se usa para liberar las EAP_ERROR que devuelven las API en tiempo de ejecución de EAPHost. Las API en tiempo de ejecución de EAPHost se definen en EapPApis.h. No use nunca la versión en tiempo de ejecución de la API con la versión de configuración de las API. Para ello, podría producir resultados inesperados.<br/>
  - question: >
      He implementado mi interfaz de usuario en el mismo subproceso que uso para procesar una sesión de autenticación EAP en el suplicante. Después de generar un cuadro de diálogo de interfaz de usuario interactiva para obtener credenciales u otros datos de entrada de usuario, la siguiente llamada de EAPHost a un método del mismo nivel de EAP produce un error con "ERROR_OBJECT_DISCONNECTED". ¿Por qué se ha producido esto y cómo se aborda?
    answer: >
      Aunque las API del lado cliente de EAPHost son api de estilo C, estas API de C son simplemente contenedores de las API COM correspondientes. Las API de estilo C se ejecutan en un entorno COM multiproceso. El código de la interfaz de usuario normalmente se ejecuta en el modelo de subprocesos de apartamento. Dado que los dos modelos de subprocesos están en conflicto entre sí, no ejecute el código de la interfaz de usuario en el mismo subproceso que procesa las autenticaciones EAP.
  - question: >
      ¿Por qué la API "EapHostPeerBeginSession" toma un puntero de función de devolución de llamada "NotificationHandler" como parámetro?
    answer: >
      [<em>NotificationHandler</em>](/previous-versions/windows/desktop/api) es el mecanismo por el que se notifica a un suplicante que debe volver a autenticarse. Hay varios escenarios en los que el suplicante es necesario volver a autenticarse, incluida la autenticación con [Protección](/windows/desktop/NAP/network-access-protection-start-page) de acceso a redes (NAP).
  - question: >
      ¿Cuál es el propósito del parámetro "pConnectionId" en la API "EapHostPeerBeginSession"?
    answer: >
      <em>pConnectionId es</em> un puntero a un valor GUID definido por supplicant que se usa para identificar una conexión de red que pertenece al suplicante. Cuando se llama a la función de devolución de llamada [<em>NotificationHandler,</em>](/previous-versions/windows/desktop/api) este GUID se pasa para identificar la conexión de red que el suplicante usará para las solicitudes de autenticación de nuevo.
  - question: >
      Cómo saber si hay un cambio en el estado de cuarentena?
    answer: >
      El usuario recibirá una notificación visual de un cambio en el estado de cuarentena solo si hay al menos una interfaz registrada de cliente de cumplimiento de cuarentena (QEC) de Protección de acceso a redes (NAP) en el sistema. Si es así, cuando se intenta volver a realizar la autenticación, se notificará al usuario un cambio de estado de cuarentena a través de una ventana emergente.
  - question: >
      Cómo saber si hay una interfaz registrada de NAP QEC en el sistema?
    answer: >
      Abra una ventana con privilegios elevados y ejecute el siguiente comando netsh: &quot; netsh nap client show state &quot; . Para obtener más información, [vea Netsh Commands](/previous-versions/windows/it-pro/windows-server-2003/cc779693(v=ws.10)).
  - question: >
      Si el suplicante se vuelve a autenticar, ¿qué identificador de conexión debe usar el QEC durante la autenticación?
    answer: >
      El QEC debe usar el mismo identificador de conexión que se usó para la sesión anterior.
  - question: >
      Solo hay un método suplicante EAPHost disponible para mostrar los cuadros de diálogo de la interfaz de usuario (UI), pero los métodos EAP tienen varios tipos de llamadas específicas de la interfaz de usuario. ¿Qué método debe llamar el suplicante cuando obtiene el código de acción "EapHostPeerResponseInvokeUI", lo que indica que el suplicante debe mostrar un cuadro de diálogo de interfaz de usuario?
    answer: >
      El usuario no requiere ninguna acción porque EAPHost sabe a qué función de método llamar. Por ejemplo, cuando se devuelve el código de acción <strong>EapHostPeerResponseInvokeUI,</strong> el suplicante llama a estas tres funciones en el orden siguiente: [<strong>EapHostPeerGetUIContext,</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext) [<strong>EapHostPeerInvokeInteractiveUI</strong>](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)y [<strong>EapHostPeerSetUIContext</strong>](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext).
  - question: >
      ¿Cuál es la diferencia entre un BLOB de credenciales y un BLOB de configuración?
    answer: >
      El BLOB de credenciales solo contiene datos de usuario, como el nombre de usuario, la contraseña y el PIN. El BLOB de configuración contiene la configuración que controla el comportamiento del método .
  - question: >
      ¿Puedo habilitar el seguimiento en el lado cliente de EAPHost?
    answer: "Sí. Para obtener más información, vea [Enabling Tracing](enabling-tracing.md).\n \n"
additionalContent: "\n## <a name=\"related-topics\"></a>Temas relacionados\n\n[Referencia de API de eaphost supplicant](eap-host-supplicant-api-reference.md)\n        \n[Preguntas más frecuentes generales de EAPHost](general-frequently-asked-questions.yml)\n        \n[Preguntas más frecuentes sobre el método EAPHost](eap-method-frequently-asked-questions.yml)\n        \n[Preguntas más frecuentes sobre el desarrollo de EAPHost](eaphost-development-frequently-asked-questions.md)"
