---
description: Enumera las funciones que se usan en las API de autenticación.
ms.assetid: 946ab34a-f52a-4720-8516-cdcae2883d9b
title: Funciones de autenticación
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c3634996aa7217e88dab81dd65e5f61cbd8c015a
ms.sourcegitcommit: d75fc10b9f0825bbe5ce5045c90d4045e3c53243
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 09/13/2021
ms.locfileid: "127071329"
---
# <a name="authentication-functions"></a>Funciones de autenticación

Las funciones de autenticación se clasifican según el uso como se muestra a continuación:

-   [Funciones de SSPI](#sspi-functions)
    -   [Administración de paquetes](#package-management)
    -   [Administración de credenciales](#credential-management)
    -   [Administración de contexto](#context-management)
    -   [Compatibilidad con mensajes](#message-support)
-   [Funciones implementadas por SSP/AP](#functions-implemented-by-sspaps)
-   [Funciones implementadas por SSP/AP en modo de usuario](#functions-implemented-by-user-mode-sspaps)
-   [Funciones LSA llamadas por SSP/AP](#lsa-functions-called-by-sspaps)
-   [Funciones LSA llamadas por SSP/AP en modo de usuario](#lsa-functions-called-by-user-mode-sspaps)
-   [Funciones de exportación de GINA](#gina-export-functions)
-   [Funciones de usuario de inicio de sesión](#logon-user-functions)
-   [Funciones de soporte técnico de Winlogon](#winlogon-support-functions)
-   [Funciones del proveedor de red](#network-provider-functions)
    -   [Funciones implementadas por proveedores de red](#functions-implemented-by-network-providers)
    -   [Funciones de soporte técnico](#winlogon-support-functions)
    -   [Funciones de notificación de conexión](#connection-notification-functions)
-   [Funciones de inicio de sesión de LSA](#lsa-logon-functions)
-   [Funciones implementadas por paquetes de autenticación](#functions-implemented-by-authentication-packages)
-   [Funciones LSA llamadas por paquetes de autenticación](#lsa-functions-called-by-authentication-packages)
-   [Funciones de subauauticación](#subauthentication-functions)
-   [Funciones de administración de credenciales](#credentials-management-functions)
    -   [Funciones de la interfaz de usuario de administración de credenciales](#credentials-management-ui-functions)
    -   [Funciones de administración de credenciales de bajo nivel](#low-level-credentials-management-functions)
    -   [Funciones de notificación de administración de credenciales](#credential-management-notification-functions)
-   [Funciones de tarjeta inteligente](#smart-card-functions)
-   [Funciones SASL](#sasl-functions)
-   [Otras funciones](#other-functions)

## <a name="sspi-functions"></a>Funciones de SSPI

Las funciones de interfaz de proveedor de compatibilidad de seguridad (SSPI) se encierrán en las siguientes categorías principales.

-   [Administración de paquetes](#package-management)

    Funciones que enumera los paquetes [*de seguridad disponibles*](/windows/desktop/SecGloss/s-gly) y seleccionan un paquete.

-   [Administración de credenciales](#credential-management)

    Funciones que crean y trabajan con identificadores para las [*credenciales*](/windows/desktop/SecGloss/c-gly) de [*las entidades de seguridad.*](/windows/desktop/SecGloss/p-gly)

-   [Administración de contexto](#context-management)

    Funciones que usan identificadores de credenciales para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly).

-   [Compatibilidad con mensajes](#message-support)

    Funciones que usan contextos de seguridad para garantizar la integridad [*y*](/windows/desktop/SecGloss/i-gly) privacidad de los mensajes [*durante*](/windows/desktop/SecGloss/p-gly) los intercambios de mensajes a través de la conexión protegida. La integridad se logra a través de la firma de mensajes y la comprobación de la firma. La privacidad se logra a través del cifrado y descifrado de mensajes.

### <a name="package-management"></a>Administración de paquetes

Las funciones de administración de paquetes SSPI inician un paquete [*de seguridad,*](/windows/desktop/SecGloss/s-gly)enumeran los paquetes disponibles y consultan los atributos de un paquete de seguridad. Las siguientes funciones de SSPI proporcionan servicios de administración para paquetes de seguridad.



| Función                                                       | Descripción                                                                                                                                                                                                                                                                                                                            |
|----------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**EnumerateSecurityPackages**](/windows/desktop/api/Sspi/nf-sspi-enumeratesecuritypackagesa) | Enumera los paquetes de seguridad disponibles y sus funcionalidades.<br/>                                                                                                                                                                                                                                                                   |
| [**InitSecurityInterface**](/windows/desktop/api/Sspi/nf-sspi-initsecurityinterfacea)         | Recupera un puntero a una tabla de distribución del proveedor de compatibilidad de seguridad (SSP).<br/>                                                                                                                                                                                                                                                    |
| [**QuerySecurityPackageInfo**](/windows/desktop/api/Sspi/nf-sspi-querysecuritypackageinfoa)   | Recupera información sobre un paquete de [*seguridad especificado.*](/windows/desktop/SecGloss/s-gly) Esta información incluye los límites de tamaños de información de autenticación, [*credenciales*](/windows/desktop/SecGloss/c-gly)y contextos.<br/> |



 

### <a name="credential-management"></a>Administración de credenciales

Las funciones de administración de credenciales SSPI proporcionan un identificador [*de*](/windows/desktop/SecGloss/c-gly) credenciales, una referencia a un objeto de seguridad opaco, para acceder a una entidad de seguridad. El objeto de seguridad es opaco porque la aplicación solo tiene acceso al identificador y no al contenido real de la estructura.

Todas las referencias al contenido de un contexto de credencial se encuentran a través del identificador del objeto y el paquete de seguridad [](/windows/desktop/SecGloss/s-gly) desreferencia el identificador para acceder a los detalles de las credenciales. Un identificador de credenciales es un valor de 64 bits entre {0x00000000, 0x00000000} y {0xFFFFFFFF, 0xFFFFFFFE}.

Las aplicaciones usan el identificador de credenciales con [funciones de administración de](#context-management) contexto para crear un contexto de [*seguridad*](/windows/desktop/SecGloss/s-gly).

Las funciones de administración de credenciales también liberan identificadores de credenciales y consultan [*los atributos*](/windows/desktop/SecGloss/a-gly) de [*las credenciales.*](/windows/desktop/SecGloss/c-gly) En la actualidad, el nombre asociado a una credencial es el único atributo que se puede consultar.

Las siguientes funciones se usan con la administración de credenciales.



| Función                                                                         | Descripción                                                                                                                                                                                                                                       |
|----------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AcquireCredentialsHandle (General)**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) | Adquiere un identificador para las credenciales preexistentes de una entidad de seguridad especificada.<br/>                                                                                                                                                             |
| [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext)                           | Exporta un contexto de seguridad a un búfer de contexto.<br/>                                                                                                                                                                                      |
| [**FreeCredentialsHandle**](/windows/desktop/api/Sspi/nf-sspi-freecredentialshandle)                           | Libera un identificador de credenciales y los recursos asociados.<br/>                                                                                                                                                                                 |
| [**ImportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta)                           | Importa un contexto de seguridad exportado mediante [**ExportSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) en el proceso actual.<br/>                                                                                                          |
| [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa)                 | Recupera los [*atributos de*](/windows/desktop/SecGloss/a-gly) una [*credencial*](/windows/desktop/SecGloss/c-gly), como el nombre asociado a la credencial.<br/> |



 

### <a name="context-management"></a>Administración de contexto

Las funciones de administración de contexto de SSPI crean y usan [*contextos de seguridad*](/windows/desktop/SecGloss/s-gly).

En un vínculo de comunicación, el cliente y el servidor colaboran para crear un contexto de seguridad compartido. El cliente y el servidor usan el contexto de seguridad con funciones [de](#message-support) compatibilidad de mensajes para garantizar la [*integridad y*](/windows/desktop/SecGloss/i-gly) privacidad de los mensajes [*durante*](/windows/desktop/SecGloss/p-gly) la conexión.

Los contextos de seguridad son objetos de seguridad opacos. La información en el contexto de seguridad no está disponible para la aplicación. Las funciones de administración de contexto crean y usan identificadores de contexto y el paquete de seguridad desreferencia el identificador de contexto para acceder a su contenido de seguridad.

Un identificador de contexto es un valor de 64 bits entre {0x00000000, 0x00000000} y {0xFFFFFFFF, 0xFFFFFFFE}.

Las siguientes funciones se usan con la administración de contexto.



| Función                                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                                                        |
|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AcceptSecurityContext (general)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)         | Lo usa un servidor para crear un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly) basado en un mensaje opaco recibido de un cliente.<br/>                                                                                                                                                                                                      |
| [**ApplyControlToken**](/windows/desktop/api/Sspi/nf-sspi-applycontroltoken)                                     | Aplica un mensaje de seguridad complementario a un contexto de seguridad existente.<br/>                                                                                                                                                                                                                                                                                                                |
| [**CompleteAuthToken**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken)                                     | Completa un token de autenticación. Esta función la usan los protocolos, como DCE, que necesitan revisar la información de seguridad después de que la aplicación de transporte haya actualizado algunos parámetros de mensaje.<br/>                                                                                                                                                                                   |
| [**DeleteSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext)                             | Libera un contexto de seguridad y los recursos asociados.<br/>                                                                                                                                                                                                                                                                                                                                      |
| [**FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer)                                     | Libera un búfer de memoria asignado por un paquete de seguridad.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**ImpersonateSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext)                   | Suplanta el contexto de seguridad para que aparezca como el cliente del sistema.<br/>                                                                                                                                                                                                                                                                                                                |
| [**InitializeSecurityContext (general)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) | Usado por un cliente para iniciar un contexto de seguridad mediante la generación de un mensaje opaco que se pasará a un servidor.<br/>                                                                                                                                                                                                                                                                               |
| [**QueryContextAttributes (General)**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa)       | Permite que una aplicación de transporte consulte un paquete [*de seguridad para*](/windows/desktop/SecGloss/s-gly) [*determinados atributos*](/windows/desktop/SecGloss/a-gly) de un contexto de [*seguridad*](/windows/desktop/SecGloss/c-gly).<br/>                                                         |
| [**QuerySecurityContextToken**](/windows/desktop/api/Sspi/nf-sspi-querysecuritycontexttoken)                     | Obtiene el [*token de acceso para*](/windows/desktop/SecGloss/a-gly) un contexto de seguridad de [*cliente*](/windows/desktop/SecGloss/s-gly) y lo usa directamente.<br/>                                                                                                                                                |
| [**SetContextAttributes**](/windows/desktop/api/Sspi/nf-sspi-setcontextattributesa)                               | Permite que una aplicación de transporte establezca [*los atributos*](/windows/desktop/SecGloss/a-gly) de un contexto [*de seguridad*](/windows/desktop/SecGloss/c-gly) para un paquete [*de seguridad*](/windows/desktop/SecGloss/s-gly). Esta función solo es compatible con el paquete de seguridad de Schannel.<br/> |
| [**RevertSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-revertsecuritycontext)                             | Permite que [*un paquete de*](/windows/desktop/SecGloss/s-gly) seguridad interrumpa la suplantación del autor de la llamada y restaure su propio contexto de [*seguridad.*](/windows/desktop/SecGloss/s-gly)<br/>                                                                                                      |



 

### <a name="message-support"></a>Compatibilidad con mensajes

Las funciones de compatibilidad de mensajes SSPI permiten que una aplicación transmita y reciba mensajes resistentes a manipulaciones y cifre y descifre los mensajes. Estas funciones funcionan con uno o varios búferes que contienen un mensaje y con un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly) creado por las funciones de [administración de](#context-management) contexto. El comportamiento de las funciones difiere en función de si se está utilizando una conexión, [*un datagrama*](/windows/desktop/SecGloss/d-gly)o un contexto de secuencia. Para obtener una descripción de estas [diferencias, vea Semántica de contexto de SSPI.](sspi-context-semantics.md)

Las siguientes funciones proporcionan compatibilidad de seguridad para los mensajes.



| Función                                                     | Descripción                                                                                                                                                                                                                                          |
|--------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**DecryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) | Descifra un mensaje cifrado mediante la clave [*de sesión*](/windows/desktop/SecGloss/s-gly) de un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> |
| [**EncryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) | Cifra un mensaje mediante la clave de sesión de un contexto de seguridad.<br/>                                                                                                                                                                      |
| [**MakeSignature**](/windows/desktop/api/Sspi/nf-sspi-makesignature)                       | Genera una suma de comprobación criptográfica del mensaje y también incluye información de secuenciación para evitar la pérdida o inserción de mensajes.<br/>                                                                                                         |
| [**VerifySignature**](/windows/desktop/api/Sspi/nf-sspi-verifysignature)                   | Comprueba la firma de un mensaje recibido firmado por el remitente mediante la [**función MakeSignature.**](/windows/desktop/api/Sspi/nf-sspi-makesignature)<br/>                                                                                                  |



 

## <a name="functions-implemented-by-sspaps"></a>Funciones implementadas por SSP/AP

Las siguientes funciones se implementan mediante [](/windows/desktop/SecGloss/s-gly)paquetes de seguridad [contenidos](#sspi-functions) en Paquetes de autenticación del proveedor de compatibilidad de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP).

En las tablas siguientes, el primer conjunto de funciones se implementa mediante Windows paquetes de seguridad SSP/AP de XP. El segundo conjunto de funciones solo se implementa mediante paquetes de seguridad SSP/AP.

La [*autoridad de*](/windows/desktop/SecGloss/l-gly) seguridad local (LSA) tiene acceso a estas funciones mediante la estructura [**SECPKG FUNCTION \_ \_ TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) proporcionada por la función [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn) de SSP/AP.

Todos los paquetes de autenticación implementan las siguientes funciones.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaApCallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | Lo llama la autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) cuando una aplicación de inicio de sesión con una conexión de confianza al LSA llama a la función [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) y especifica el identificador del paquete de autenticación.<br/> |
| [**LsaApCallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | Función de distribución para las solicitudes de inicio de sesión de paso a través enviadas a la [**función LsaCallAuthenticationPackage.**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)<br/>                                                                                                                                                                                                            |
| [**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))     | Lo llama la autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) cuando una aplicación con una conexión que no es de confianza al LSA llama a la función [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) y especifica el identificador del paquete de autenticación.<br/>   |
| [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | La autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) llama una vez durante la inicialización del sistema para proporcionar al paquete de autenticación la oportunidad de inicializarse a sí mismo.<br/>                                                                                                       |
| [**LsaApLogonTerminated**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | Se usa para notificar a un paquete de autenticación cuando finaliza una sesión de inicio de sesión. Una sesión de inicio de sesión finaliza cuando se elimina el último token que hace referencia a la sesión de inicio de sesión.<br/>                                                                                                                                                                                          |
| [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | Autentica las credenciales de inicio de sesión de un usuario.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | Autentica las credenciales de inicio de sesión de un usuario.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | Se usa para autenticar un intento de inicio de sesión de usuario en el inicio de sesión inicial del usuario. Se establece una nueva sesión de inicio de sesión para el usuario y se devuelve información de validación para el usuario.<br/>                                                                                                                                                                                |



 

Los paquetes de seguridad SSP/AP implementan las siguientes funciones adicionales.



| Función                                                             | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|----------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SpAcceptCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptcredentialsfn)                   | La autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) llama [](/windows/desktop/SecGloss/c-gly) a para pasar al paquete de seguridad las credenciales almacenadas para la entidad de [*seguridad autenticada.*](/windows/desktop/SecGloss/s-gly) [](/windows/desktop/SecGloss/s-gly)<br/> |
| [**SpAcceptLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)             | Función de distribución de servidor que se usa para crear un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly) compartido por un servidor y un cliente.<br/>                                                                                                                                                                                                                                                                                                                  |
| [**SpAcquireCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn)     | Se llama para obtener un identificador de las credenciales de una [*entidad de seguridad.*](/windows/desktop/SecGloss/c-gly)<br/>                                                                                                                                                                                                                                                                                                                                                              |
| [**SpAddCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spaddcredentialsfn)                         | Se usa para agregar [*credenciales*](/windows/desktop/SecGloss/c-gly) para una entidad [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                              |
| [**SpApplyControlToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spapplycontroltokenfn)                   | Aplica un token de control a un [*contexto de seguridad*](/windows/desktop/SecGloss/s-gly). La autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) no llama actualmente a esta función.<br/>                                                                                                                                                                              |
| [**SpDeleteContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                           | Elimina un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                                |
| [**SpDeleteCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spdeletecredentialsfn)                   | Elimina las [*credenciales*](/windows/desktop/SecGloss/c-gly) de la lista [](/windows/desktop/SecGloss/p-gly) [*de credenciales*](/windows/desktop/SecGloss/s-gly) principales o complementarias de un paquete [*de*](/windows/desktop/SecGloss/s-gly) seguridad.<br/>                                               |
| [**SpFreeCredentialsHandle**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spfreecredentialshandlefn)           | Libera las [*credenciales adquiridas*](/windows/desktop/SecGloss/c-gly) mediante una llamada a [**la función SpAcquireCredentialsHandle.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacquirecredentialshandlefn)<br/>                                                                                                                                                                                                                                                                                                 |
| [**SpGetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcredentialsfn)                         | Recupera las credenciales del usuario.                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**SpGetExtendedInformation**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetextendedinformationfn)         | Proporciona información extendida sobre un paquete [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                    |
| [**SpGetInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetinfofn)                                       | Proporciona información general sobre el [*paquete de seguridad,*](/windows/desktop/SecGloss/s-gly)como su nombre y funcionalidades.<br/>                                                                                                                                                                                                                                                                                                                |
| [**SpGetUserInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetuserinfofn)                               | Recupera información sobre una sesión de inicio de [*sesión*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                                 |
| [**SPInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitializefn)                                 | La autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) llama [*una*](/windows/desktop/SecGloss/s-gly) vez para proporcionar un paquete de seguridad con información de seguridad general y una tabla de distribución de funciones de soporte técnico.<br/>                                                                                                                                          |
| [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn)                 | La función de distribución de cliente utilizada para establecer un [*contexto de seguridad*](/windows/desktop/SecGloss/c-gly) entre un servidor y un cliente.<br/>                                                                                                                                                                                                                                                                                                                               |
| [**SpQueryContextAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)         | Recupera los atributos de un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                            |
| [**SpQueryCredentialsAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycredentialsattributesfn) | Recupera los atributos de una [*credencial*](/windows/desktop/SecGloss/c-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                           |
| [**SpSaveCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsavecredentialsfn)                       | Guarda una [*credencial complementaria en*](/windows/desktop/SecGloss/s-gly) el objeto de usuario.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**SpSetExtendedInformation**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsetextendedinformationfn)         | Establece información extendida sobre el paquete [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/>                                                                                                                                                                                                                                                                                                                                                      |
| [**SpShutdown**](/previous-versions/windows/desktop/legacy/aa380183(v=vs.85))                                     | Realiza cualquier limpieza necesaria antes de que se descargue el SSP/AP.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**SslCrackCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate)                   | Devuelve una [**estructura X509Certificate**](/windows/desktop/api/Schannel/ns-schannel-x509certificate) con la información contenida en el blob de [*certificado especificado.*](/windows/desktop/SecGloss/b-gly)<br/>                                                                                                                                                                                                                                                                                                  |
| [**SslEmptyCache**](/windows/desktop/api/Schannel/nf-schannel-sslemptycachea)                               | Quita la cadena especificada de la caché de Schannel.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| [**SslFreeCertificate**](/windows/desktop/api/Schannel/nf-schannel-sslfreecertificate)                     | Libera un certificado asignado por una llamada anterior a la [**función SslCrackCertificate.**](/windows/desktop/api/Schannel/nf-schannel-sslcrackcertificate)<br/>                                                                                                                                                                                                                                                                                                                                                                |



 

## <a name="functions-implemented-by-user-mode-sspaps"></a>Funciones implementadas por SSP/AP en modo de usuario

Las siguientes funciones se [](/windows/desktop/SecGloss/s-gly)implementan mediante paquetes de autenticación del proveedor de compatibilidad de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP) que se pueden cargar en aplicaciones cliente/servidor.

Un SSP/AP indica que implementa las funciones en modo de usuario devolviendo **TRUE** en el parámetro *MappedContext* de las funciones [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) y [**SpAcceptLsaModeContext.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn) El lado cliente de una aplicación de nivel de transporte usa la función **SpInitLsaModeContext,** mientras que **SpAcceptLsaModeContext** lo usa el lado servidor.

La carga de un SSP/AP en el proceso de cliente o proceso de servidor se controla mediante el archivo DLL del proveedor de seguridad, ya sea Security.dll o Secur32.dll. El archivo DLL del proveedor de seguridad carga el SSP/AP localizando la dirección de la función [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn) implementada por SSP/AP y llamándose a ella. Esta función devuelve un conjunto de tablas que contienen punteros a las funciones en modo de usuario implementadas en cada [*paquete de seguridad*](/windows/desktop/SecGloss/s-gly).

Una vez que SSP/AP se carga en el proceso de cliente o servidor, la autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) copiará la información del contexto de seguridad (devuelta por [**SpInitLsaModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitlsamodecontextfn) o [**SpAcceptLsaModeContext)**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spacceptlsamodecontextfn)y los datos adicionales relacionados con el contexto al proceso y llamará a la función [**SpInitUserModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn) del paquete de seguridad.

Las aplicaciones cliente/servidor acceden a la funcionalidad de modo de usuario mediante una llamada a funciones [de](sspi.md) la interfaz del proveedor de compatibilidad de seguridad (SSPI). El archivo DLL del proveedor de seguridad asigna las funciones SSPI mediante la TABLA DE FUNCIONES DE USUARIO [**\_ \_ DE \_ SECPKG**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) proporcionada por el paquete.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SpCompleteAuthToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spcompleteauthtokenfn)                 | Completa un token de autenticación. <br/> Implementa la función [**CompleteAuthToken de**](/windows/desktop/api/Sspi/nf-sspi-completeauthtoken) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SpDeleteContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspdeletecontextfn)                         | Elimina un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> Implementa la función [**DeleteSecurityContext de**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritycontext) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                       |
| [**SpExportSecurityContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spexportsecuritycontextfn)         | Exporta un contexto de seguridad a otro proceso.<br/> Implementa la función [**ExportSecurityContext de**](/windows/desktop/api/Sspi/nf-sspi-exportsecuritycontext) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**SpFormatCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spformatcredentialsfn)                 | Da [*formato a*](/windows/desktop/SecGloss/c-gly) las credenciales que se almacenarán en un objeto de usuario.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**SpGetContextToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcontexttokenfn)                     | Obtiene el token que se suplanta.<br/> Usado por la función [**ImpersonateSecurityContext de**](/windows/desktop/api/Sspi/nf-sspi-impersonatesecuritycontext) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**SpImportSecurityContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spimportsecuritycontextfn)         | Importa un contexto de seguridad de otro proceso.<br/> Implementa la función [**ImportSecurityContext de**](/windows/desktop/api/Sspi/nf-sspi-importsecuritycontexta) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [**SpInitUserModeContext**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinitusermodecontextfn)             | Crea un contexto de seguridad en [*modo de usuario*](/windows/desktop/SecGloss/s-gly) a partir de un contexto de modo de autoridad de seguridad [*local*](/windows/desktop/SecGloss/l-gly) (LSA) empaquetado.<br/>                                                                                                                                                                                                                                                                                                 |
| [**SpInstanceInit**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spinstanceinitfn)                           | Inicializa paquetes de seguridad en modo de usuario en un SSP/AP.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**SpMakeSignature**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspmakesignaturefn)                         | Genera una firma [*basada en*](/windows/desktop/SecGloss/d-gly) el mensaje y el contexto de [*seguridad especificados.*](/windows/desktop/SecGloss/s-gly)<br/> Implementa la función [**MakeSignature de**](/windows/desktop/api/Sspi/nf-sspi-makesignature) SSPI.<br/>                                                                                                                                                                                                                                                    |
| [**SpMarshallSupplementalCreds**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spmarshallsupplementalcredsfn) | Convierte las [*credenciales complementarias*](/windows/desktop/SecGloss/s-gly) de un formato público en un formato adecuado para las llamadas a procedimientos locales.<br/>                                                                                                                                                                                                                                                                                                                                                                          |
| [**SpQueryContextAttributes**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerycontextattributesfn)       | Recupera los atributos de un contexto [*de seguridad*](/windows/desktop/SecGloss/s-gly).<br/> Implementa la función [**QueryContextAttributes (General) de**](/windows/win32/api/sspi/nf-sspi-querycontextattributesa) SSPI.<br/>                                                                                                                                                                                                                                                                                                                             |
| [**SpSealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn)                             | Cifra un mensaje intercambiado entre un cliente y un servidor.<br/> Implementa la función [**EncryptMessage (General) de**](/windows/win32/api/sspi/nf-sspi-encryptmessage) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**SpUnsealMessage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spunsealmessagefn)                         | Descifra un mensaje que se ha cifrado previamente con la [**función SpSealMessage.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spsealmessagefn)<br/> Implementa la función [**DecryptMessage (General) de**](/windows/win32/api/sspi/nf-sspi-decryptmessage) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                                                    |
| [**SpUserModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spusermodeinitializefn)               | Se llama cuando se [*carga un*](/windows/desktop/SecGloss/s-gly)archivo DLL de paquete de autenticación del proveedor de soporte técnico de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP) en el espacio de proceso de una aplicación cliente/servidor. Esta función proporciona las tablas [**SECPKG \_ USER FUNCTION \_ \_ TABLE**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_user_function_table) para cada paquete [*de seguridad*](/windows/desktop/SecGloss/s-gly) del archivo DLL de SSP/AP.<br/> |
| [**SpVerifySignature**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-kspverifysignaturefn)                     | Comprueba que el mensaje recibido es correcto según la [*firma*](/windows/desktop/SecGloss/d-gly).<br/> Implementa la función [**VerifySignature de**](/windows/desktop/api/Sspi/nf-sspi-verifysignature) SSPI.<br/>                                                                                                                                                                                                                                                                                                                                   |



 

## <a name="lsa-functions-called-by-sspaps"></a>Funciones LSA llamadas por SSP/AP

La [*entidad de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA) proporciona [](/windows/desktop/SecGloss/s-gly)las siguientes funciones a los paquetes de seguridad implementados en paquetes de autenticación del proveedor de compatibilidad de seguridad [](/windows/desktop/SecGloss/s-gly) / [](/windows/desktop/SecGloss/a-gly) (SSP/AP). Las funciones están disponibles en la estructura [**\_ SECPKG \_ FUNCTION \_ TABLE de LSA**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_function_table) y se puede llamar mientras SSP/AP se carga en el espacio de proceso de LSA. Las siguientes funciones están disponibles para todos los AP.



| Función                                             | Descripción                                                                                                                       |
|------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | Agrega credenciales [*de usuario*](/windows/desktop/SecGloss/c-gly).<br/>                         |
| [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | Asigna memoria en el espacio de direcciones del cliente del paquete.<br/>                                                         |
| [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | Asigna memoria en el montón. Se espera que parte de la información que se pasa al LSA se asigne mediante esta función.<br/> |
| [**CopyFromClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | Copia información del espacio de direcciones de un proceso de cliente en un búfer del proceso actual.<br/>                    |
| [**CopyToClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | Copia información de un búfer del proceso actual en el espacio de direcciones de un proceso cliente.<br/>                         |
| [**CreateLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | Crea sesiones de inicio de sesión.<br/>                                                                                                |
| [**DeleteCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | Elimina las credenciales de usuario.<br/>                                                                                              |
| [**DeleteLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | Elimina una sesión de inicio de sesión de LSA.<br/>                                                                                          |
| [**FreeClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | Libera memoria en el espacio de direcciones del cliente del paquete.<br/>                                                             |
| [**FreeLsaHeap**](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | Desasigna la memoria del montón asignada previamente [**por AllocateLsaHeap.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)<br/>                            |
| [**GetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | Recupera las credenciales asociadas a una sesión de inicio de sesión.<br/>                                                                 |



 

Las siguientes funciones están disponibles para SSP/AP.



| Función                                                 | Descripción                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AllocateSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_shared_memory)     | Asigna una sección de memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                   |
| [**AuditAccountLogon**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_account_logon)           | Crea registros de auditoría para los inicios de sesión intentados.<br/>                                                                                                                                                                                                                                                                                                             |
| [**AuditLogon**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_audit_logon)                         | Crea un registro de auditoría para una sesión de inicio de sesión.<br/>                                                                                                                                                                                                                                                                                                             |
| [**CallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package)                       | Llama a un paquete.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**CallPackageEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_packageex)                   | Llama a otro paquete.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**CallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_call_package_passthrough) | Llama a un paquete de seguridad de otro.<br/>                                                                                                                                                                                                                                                                                                                |
| [**CancelNotification**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_cancel_notification)         | Cancela la notificación de eventos especiales.<br/>                                                                                                                                                                                                                                                                                                                |
| [**ClientCallback**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback)                 | Permite que un paquete de seguridad invoque una función en el proceso de cliente.<br/> Para obtener un [**prototipo de función ClientCallback,**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_client_callback) vea [*ClientCallback Function Prototype*](/previous-versions/windows/desktop/legacy/aa374759(v=vs.85)).<br/>                                                                                                              |
| [**CloseSamUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_close_sam_user)                     | Cierra un identificador a una entrada de base de datos del Administrador de cuentas de seguridad.<br/>                                                                                                                                                                                                                                                                                          |
| [**ConvertAuthDataToToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_convert_auth_data_to_token) | Convierte los datos de autorización en un token de usuario.<br/>                                                                                                                                                                                                                                                                                                            |
| [**CrackSingleName**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_crack_single_name)               | Convierte un nombre de un formato a otro.<br/>                                                                                                                                                                                                                                                                                                             |
| [**CreateSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_shared_memory)         | Crea una sección de memoria compartida entre los clientes y el SSP/AP.<br/>                                                                                                                                                                                                                                                                                      |
| [**CreateThread**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_create_thread)                     | Crea un nuevo subproceso.<br/>                                                                                                                                                                                                                                                                                                                                   |
| [**CreateToken**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_token)                       | Crea un token.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [**DeleteSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_shared_memory)         | Elimina una sección de memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                     |
| [**DuplicateHandle**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_duplicate_handle)               | Duplica un identificador.<br/>                                                                                                                                                                                                                                                                                                                                    |
| [**FreeReturnBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_lsa_heap)             | Libera un búfer asignado por el LSA.<br/>                                                                                                                                                                                                                                                                                                                    |
| [**FreeSharedMemory**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_shared_memory)             | Libera una sección de memoria compartida.<br/>                                                                                                                                                                                                                                                                                                                       |
| [**GetAuthDataForUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_auth_data_for_user)         | Recupera los datos de autorización de una cuenta de usuario.<br/>                                                                                                                                                                                                                                                                                                        |
| [**GetCallInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_call_info)                       | Recupera información sobre la llamada de función más reciente.<br/>                                                                                                                                                                                                                                                                                              |
| [**GetClientInfo**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_client_info)                   | Recupera información sobre el proceso de usuario del paquete de seguridad.<br/>                                                                                                                                                                                                                                                                                        |
| [**GetUserAuthData**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_user_auth_data)               | Devuelve los datos de autorización de un usuario.<br/>                                                                                                                                                                                                                                                                                                              |
| **GetUserCredentials**                                   | Sin implementar todavía.                                                                                                                                                                                                                                                                                                                                               |
| [**ImpersonateClient**](/previous-versions/windows/desktop/legacy/aa375494(v=vs.85))           | Lo llaman [*los paquetes de*](/windows/desktop/SecGloss/s-gly) seguridad para suplantar al usuario del paquete.<br/>                                                                                                                                                                                                          |
| [**MapBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_map_buffer)                           | Mapas estructura [**SecBuffer**](/windows/desktop/api/Sspi/ns-sspi-secbuffer) en el espacio de direcciones del [*paquete*](/windows/desktop/SecGloss/s-gly)de autenticación del proveedor de soporte técnico de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP).<br/>              |
| [**OpenSamUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_open_sam_user)                       | Recupera un identificador de una cuenta de usuario en la base [*de datos del Administrador de cuentas de seguridad*](/windows/desktop/SecGloss/s-gly) (SAM).<br/>                                                                                                                                                               |
| [**RegisterNotification**](/windows/win32/api/ntsecpkg/nc-ntsecpkg-lsa_register_notification)     | Proporciona un mecanismo por el que se [*notifica*](/windows/desktop/SecGloss/s-gly) al paquete de seguridad. La notificación puede producirse a intervalos fijos, cuando se señala un objeto de evento o durante determinados eventos del sistema.<br/>                                                                                          |
| **SaveSupplementalCredentials**                          | Obsoleto. No debe usarse.<br/>                                                                                                                                                                                                                                                                                                                                   |
| [**UnloadPackage**](/previous-versions/windows/desktop/legacy/aa380520(v=vs.85))                   | Descarga un paquete [*de autenticación del proveedor de*](/windows/desktop/SecGloss/s-gly)compatibilidad de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP).<br/>                                                                                 |
| [**UpdateCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_update_primary_credentials)           | Proporciona un mecanismo para que un paquete [*de seguridad*](/windows/desktop/SecGloss/s-gly) notifique a otros paquetes que las [*credenciales*](/windows/desktop/SecGloss/c-gly) de una sesión [*de inicio*](/windows/desktop/SecGloss/s-gly) de sesión han cambiado.<br/> |



 

## <a name="lsa-functions-called-by-user-mode-sspaps"></a>Funciones LSA llamadas por SSP/AP en modo de usuario

Un [](/windows/desktop/SecGloss/s-gly) paquete de [](/windows/desktop/SecGloss/s-gly)seguridad en un paquete de autenticación del proveedor de compatibilidad de seguridad / [](/windows/desktop/SecGloss/a-gly) (SSP/AP) que se ejecuta en un proceso en modo de usuario puede usar los punteros de la tabla [**SECPKG \_ DLL \_ FUNCTIONS**](/windows/desktop/api/Ntsecpkg/ns-ntsecpkg-secpkg_dll_functions) para acceder a las funciones siguientes.



| Función                                     | Estado de PSDK                                                                                                                                                                                        |
|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85))         | Asigna memoria para los búferes que se devuelven a la autoridad [*de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA).<br/> |
| [**FreeHeap**](/previous-versions/windows/desktop/legacy/aa375418(v=vs.85))                 | Libera la memoria que se asignó anteriormente mediante [**AllocateHeap**](/previous-versions/windows/desktop/legacy/aa374721(v=vs.85)).<br/>                                                                                               |
| [**RegisterCallback**](/previous-versions/windows/desktop/legacy/aa379372(v=vs.85)) | Registra funciones de devolución de llamada en modo de usuario.<br/>                                                                                                                                                 |



 

## <a name="gina-export-functions"></a>Funciones de exportación de GINA

Un archivo DLL [*de GINA*](/windows/desktop/SecGloss/g-gly) debe exportar las siguientes funciones.

> [!Note]  
> Los archivos DLL de GINA se omiten Windows Vista.

 



| Función                                                                 | Descripción                                                                                                                                                                                                                                                                                                                                                                                     |
|--------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WlxActivateUserShell**](/windows/desktop/api/Winwlx/nf-winwlx-wlxactivateusershell)                     | Activa el programa de shell de usuario.<br/>                                                                                                                                                                                                                                                                                                                                                    |
| [**WlxDisplayLockedNotice**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaylockednotice)                 | Permite que la GINA muestre información sobre el bloqueo, como quién bloqueó la estación de trabajo y cuándo se bloqueó.<br/>                                                                                                                                                                                                                                                                    |
| [**WlxDisplaySASNotice**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaysasnotice)                       | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando ningún usuario ha iniciado sesión.<br/>                                                                                                                                                                                                                                                            |
| [**WlxDisplayStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxdisplaystatusmessage)               | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando el archivo DLL de GINA debe mostrar un mensaje.<br/>                                                                                                                                                                                                                                           |
| [**WlxGetConsoleSwitchCredentials**](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetconsoleswitchcredentials) | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función para leer las credenciales del usuario que ha iniciado sesión actualmente para transferirlas de forma transparente a una sesión de destino.<br/>                                                                                                                                                                                |
| [**WlxGetStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxgetstatusmessage)                       | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función para obtener el mensaje de estado que muestra el archivo DLL de GINA.<br/>                                                                                                                                                                                                                            |
| [**WlxInitialize**](/windows/desktop/api/Winwlx/nf-winwlx-wlxinitialize)                                   | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función una vez para cada estación de ventana presente en el equipo. Actualmente, el sistema operativo admite una estación de ventana por estación de trabajo.<br/>                                                                                                                                                    |
| [**WlxIsLockOk**](/windows/desktop/api/Winwlx/nf-winwlx-wlxislockok)                                       | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función antes de intentar bloquear la estación de trabajo.<br/>                                                                                                                                                                                                                                            |
| [**WlxIsLogoffOk**](/windows/desktop/api/Winwlx/nf-winwlx-wlxislogoffok)                                   | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando el usuario inicia una operación de cierre de sesión.<br/>                                                                                                                                                                                                                                           |
| [**WlxLoggedOnSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedonsas)                                 | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando recibe un evento de secuencia de [*atención*](/windows/desktop/SecGloss/s-gly) segura (SAS) mientras el usuario ha iniciado sesión y la estación de trabajo no está bloqueada.<br/>                                                           |
| [**WlxLoggedOutSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxloggedoutsas)                               | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando recibe un evento de secuencia de [*atención*](/windows/desktop/SecGloss/s-gly) segura (SAS) mientras ningún usuario ha iniciado sesión.<br/>                                                                                              |
| [**WlxLogoff**](/windows/desktop/api/Winwlx/nf-winwlx-wlxlogoff)                                           | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función para notificar a la GINA una operación de cierre de sesión en esta estación de trabajo, lo que permite que la GINA realice las operaciones de cierre de sesión que puedan ser necesarias.<br/>                                                                                                                                                |
| [**WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate)                                     | La [**función WlxNegotiate**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnegotiate) debe implementarse mediante un archivo [*DLL de GINA de reemplazo.*](/windows/desktop/SecGloss/g-gly) Esta es la primera llamada realizada por [*Winlogon*](/windows/desktop/SecGloss/w-gly) al archivo DLL de GINA. **WlxNegotiate permite** que la GINA compruebe que admite la versión instalada de Winlogon.<br/> |
| [**WlxNetworkProviderLoad**](/windows/desktop/api/Winwlx/nf-winwlx-wlxnetworkproviderload)                 | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función para recopilar información válida de autenticación e identificación.<br/>                                                                                                                                                                                                                       |
| [**WlxRemoveStatusMessage**](/windows/desktop/api/Winwlx/nf-winwlx-wlxremovestatusmessage)                 | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función para decir al archivo DLL de GINA que deje de mostrar el mensaje de estado.<br/>                                                                                                                                                                                                                           |
| [**WlxScreenSaverNotify**](/windows/desktop/api/Winwlx/nf-winwlx-wlxscreensavernotify)                     | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función inmediatamente antes de que se active un protector de pantalla, lo que permite que la GINA interactúe con el programa de protector de pantalla.<br/>                                                                                                                                                                          |
| [**WlxShutdown**](/windows/desktop/api/Winwlx/nf-winwlx-wlxshutdown)                                       | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) [*a*](/windows/desktop/SecGloss/s-gly) esta función justo antes de cerrarse, lo que permite a la GINA realizar cualquier tarea de apagado, como expulsar una tarjeta inteligente de un [*lector.*](/windows/desktop/SecGloss/r-gly)<br/>                          |
| [**WlxStartApplication**](/windows/desktop/api/Winwlx/nf-winwlx-wlxstartapplication)                       | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando el sistema necesita que se inicia una aplicación en [*el contexto*](/windows/desktop/SecGloss/c-gly) del usuario.<br/>                                                                                                                                        |
| [**WlxWkstaLockedSAS**](/windows/desktop/api/Winwlx/nf-winwlx-wlxwkstalockedsas)                           | [*Winlogon llama*](/windows/desktop/SecGloss/w-gly) a esta función cuando recibe una [*secuencia de atención*](/windows/desktop/SecGloss/s-gly) segura (SAS) y la estación de trabajo está bloqueada.<br/>                                                                                                 |



 

## <a name="logon-user-functions"></a>Funciones de usuario de inicio de sesión

Las siguientes funciones proporcionan la capacidad de iniciar sesión en un usuario.



| Función                                 | Descripción                                                                                                                                                                                                                                                                                                                                                |
|------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LogonUser**](/windows/desktop/api/Winbase/nf-winbase-logonusera)           | Intenta iniciar sesión de un usuario en el equipo local.<br/>                                                                                                                                                                                                                                                                                                |
| [**LogonUserEx**](/windows/desktop/api/Winbase/nf-winbase-logonuserexa)       | Intenta iniciar sesión de un usuario en el equipo local. Esta función es una versión extendida de la función [**LogonUser**](/windows/desktop/api/Winbase/nf-winbase-logonusera) y recupera información sobre el identificador de seguridad [](/windows/desktop/SecGloss/s-gly) (SID), el perfil y los límites de cuota del usuario que ha iniciado sesión.<br/>         |
| [**LogonUserExExW**](logonuserexexw.md) | La [**función LogonUserExExW**](logonuserexexw.md) intenta iniciar sesión de un usuario en el equipo local. Esta función no se declara en un encabezado público y no tiene ninguna biblioteca de importación asociada. Debe usar las funciones [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya) y [**GetProcAddress**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getprocaddress) para vincular dinámicamente a Advapi32.dll.<br/> |



 

## <a name="winlogon-support-functions"></a>Funciones de soporte técnico de Winlogon

[*GINA*](/windows/desktop/SecGloss/g-gly) Los archivos DLL pueden llamar a las siguientes funciones de soporte técnico [*de Winlogon.*](/windows/desktop/SecGloss/w-gly)

> [!Note]  
> Los archivos DLL de GINA se omiten Windows Vista.

 



| Función                                                                     | Llamado por GINA                                                                                                                                                                                                                                                                                                                                                                                                              |
|------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WlxAssignShellProtection**](/windows/win32/api/winwlx/nc-winwlx-pwlx_assign_shell_protection)                 | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) asignar protección al programa de shell de un usuario que acaba de iniciar sesión.<br/>                                                                                                                                                                                                                                                                    |
| [**WlxChangePasswordNotify**](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify)                   | GINA [*lo llama para*](/windows/desktop/SecGloss/g-gly) indicar que ha cambiado una contraseña.<br/>                                                                                                                                                                                                                                                                                                  |
| [**WlxChangePasswordNotifyEx**](/windows/win32/api/winwlx/nc-winwlx-pwlx_change_password_notify_ex)               | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) decir a un proveedor de red específico (o a todos los proveedores de red) que una contraseña ha cambiado.<br/>                                                                                                                                                                                                                                             |
| [**WlxCloseUserDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_close_user_desktop)                           | GINA llama [*a para*](/windows/desktop/SecGloss/g-gly) cerrar un escritorio de usuario alternativo y limpiarlo después de cerrar el escritorio.<br/>                                                                                                                                                                                                                                                            |
| [**WlxCreateUserDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_create_user_desktop)                         | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) crear escritorios de aplicación alternativos para el usuario.<br/>                                                                                                                                                                                                                                                                                  |
| [**WlxDialogBox**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box)                                         | Lo llama [*la GINA para*](/windows/desktop/SecGloss/g-gly) crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo.<br/>                                                                                                                                                                                                                                                                            |
| [**WlxDialogBoxIndirect**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect)                         | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo en memoria.<br/>                                                                                                                                                                                                                                                                      |
| [**WlxDialogBoxIndirectParam**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_indirect_param)               | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) inicializar controles de cuadro de diálogo y, a continuación, crear un cuadro de diálogo modal a partir de una plantilla de cuadro de diálogo en memoria.<br/>                                                                                                                                                                                                                              |
| [**WlxDialogBoxParam**](/windows/win32/api/winwlx/nc-winwlx-pwlx_dialog_box_param)                               | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) inicializar controles de cuadro de diálogo y, a continuación, crear un cuadro de diálogo modal a partir de un recurso de plantilla de cuadro de diálogo.<br/>                                                                                                                                                                                                                               |
| [**WlxDisconnect**](/windows/win32/api/winwlx/nc-winwlx-pwlx_disconnect)                                       | Lo llama un archivo DLL de GINA de reemplazo si Terminal Services está habilitado. [*GINA*](/windows/desktop/SecGloss/g-gly) llama a esta función para desconectarse de una sesión de red de Terminal Services.<br/>                                                                                                                                                                                                     |
| [**WlxGetOption**](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_option)                                         | Lo llama [*GINA*](/windows/desktop/SecGloss/g-gly) para recuperar el valor actual de una opción.<br/>                                                                                                                                                                                                                                                                                             |
| [**WlxGetSourceDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_get_source_desktop)                           | Llamado por [*GINA*](/windows/desktop/SecGloss/g-gly) para determinar el nombre y el identificador del escritorio que estaba actual antes de [*que Winlogon*](/windows/desktop/SecGloss/w-gly) cambiara al escritorio winlogon.<br/>                                                                                                                                                    |
| [**WlxMessageBox**](/windows/win32/api/winwlx/nc-winwlx-pwlx_message_box)                                       | GINA [*lo llama para*](/windows/desktop/SecGloss/g-gly) crear, mostrar y operar un cuadro de mensaje.<br/>                                                                                                                                                                                                                                                                                          |
| [**WlxQueryClientCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_client_credentials)               | Lo llama un archivo DLL de GINA de reemplazo si Terminal Services está habilitado. GINA llama a esta función para recuperar las credenciales de los clientes remotos de Terminal Services que no usan una licencia de conector de Internet.<br/>                                                                                                                                                                                                     |
| [**WlxQueryConsoleSwitchCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_consoleswitch_credentials) | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) leer las credenciales transferidas desde Winlogon de la sesión temporal a Winlogon de la sesión de destino.<br/>                                                                                                                                                                                                              |
| [**WlxQueryInetConnectorCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ic_credentials) | Lo llama un archivo DLL de GINA de reemplazo si Terminal Services está habilitado. [*GINA*](/windows/desktop/SecGloss/g-gly) llama a esta función para determinar si el servidor terminal usa licencias de conector de Internet y para recuperar información [*de*](/windows/desktop/SecGloss/c-gly) credenciales.<br/>                                                             |
| [**WlxQueryTerminalServicesData**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_terminal_services_data)         | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) recuperar la información de configuración de usuario de Terminal Services después de que un usuario haya iniciado sesión.<br/>                                                                                                                                                                                                                                                |
| [**WlxSasNotify**](/windows/win32/api/winwlx/nc-winwlx-pwlx_sas_notify)                                         | Llamado por [*GINA para*](/windows/desktop/SecGloss/g-gly) notificar [*a Winlogon*](/windows/desktop/SecGloss/w-gly) de un [*evento de secuencia de atención*](/windows/desktop/SecGloss/s-gly) segura (SAS).<br/>                                                                                                    |
| [**WlxSetContextPointer**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_context_pointer)                         | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) especificar el [*puntero*](/windows/desktop/SecGloss/c-gly) de contexto pasado por [*Winlogon como*](/windows/desktop/SecGloss/w-gly) primer parámetro para todas las llamadas futuras a funciones de GINA.<br/>                                                                                       |
| [**WlxSetOption**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_option)                                         | Lo llama [*GINA*](/windows/desktop/SecGloss/g-gly) para establecer el valor de una opción.<br/>                                                                                                                                                                                                                                                                                                          |
| [**WlxSetReturnDesktop**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_return_desktop)                           | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) especificar el escritorio de aplicación alternativo al que [*Winlogon*](/windows/desktop/SecGloss/w-gly) cambia cuando se complete la función de procesamiento de eventos de la secuencia de atención segura [*(SAS)*](/windows/desktop/SecGloss/s-gly) actual.<br/> |
| [**WlxSetTimeout**](/windows/win32/api/winwlx/nc-winwlx-pwlx_set_timeout)                                       | GINA [*llama a*](/windows/desktop/SecGloss/g-gly) para cambiar el tiempo de espera asociado a un cuadro de diálogo. El tiempo de espera predeterminado es de dos minutos.<br/>                                                                                                                                                                                                                                               |
| [**WlxSwitchDesktopToUser**](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_user)                     | GINA llama [*a para*](/windows/desktop/SecGloss/g-gly) cambiar al escritorio de la aplicación.<br/>                                                                                                                                                                                                                                                                                                   |
| [**WlxSwitchDesktopToWinlogon**](/windows/win32/api/winwlx/nc-winwlx-pwlx_switch_desktop_to_winlogon)             | Permite que el archivo DLL [*de GINA*](/windows/desktop/SecGloss/g-gly) cambie al [*escritorio winlogon.*](/windows/desktop/SecGloss/w-gly)<br/>                                                                                                                                                                                                                                  |
| [**WlxUseCtrlAltDel**](/windows/win32/api/winwlx/nc-winwlx-pwlx_use_ctrl_alt_del)                                 | Lo llama [*GINA para*](/windows/desktop/SecGloss/g-gly) que le diga a [*Winlogon*](/windows/desktop/SecGloss/w-gly) que use la combinación de teclas CTRL+ALT+SUPR estándar como una [*secuencia de atención segura*](/windows/desktop/SecGloss/s-gly) (SAS).<br/>                                                           |
| [**WlxWin31Migrate**](/windows/win32/api/winwlx/nc-winwlx-pwlx_win31_migrate)                                   | Lo llama un archivo DLL de GINA de reemplazo si Terminal Services está habilitado. [*GINA*](/windows/desktop/SecGloss/g-gly) llama a esta función para completar la configuración del cliente de Terminal Services.<br/>                                                                                                                                                                                                      |



 

## <a name="network-provider-functions"></a>Funciones del proveedor de red

En los temas siguientes se proporciona información de referencia para las funciones del proveedor de red.



| Tema                                      | Descripción                                                                                                                                                                                                                                                                                         |
|--------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Funciones implementadas por proveedores de red | Detalla las funciones que pueden implementar los proveedores de red.<br/>                                                                                                                                                                                                                          |
| Funciones de soporte técnico                          | Detalla una función implementada por el sistema operativo y a la que pueden llamar los proveedores de red.<br/>                                                                                                                                                                                   |
| Funciones de notificación de conexión          | Detalla las funciones implementadas por las aplicaciones [](/windows/desktop/SecGloss/m-gly) que necesitan recibir notificaciones del enrutador de varios proveedores (MPR) cuando un recurso de red está conectado o desconectado.<br/> |



 

### <a name="functions-implemented-by-network-providers"></a>Funciones implementadas por proveedores de red

Los proveedores de red pueden implementar las siguientes funciones. La única función que los proveedores de red deben admitir [**es NPGetCaps.**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps)



| Función                                                         | Descripción                                                                                                                                                                                                           |
|------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**NPAddConnection**](/windows/desktop/api/Npapi/nf-npapi-npaddconnection)                       | Conecta un dispositivo local a un recurso de red.<br/>                                                                                                                                                             |
| [**NPAddConnection3**](/windows/desktop/api/Npapi/nf-npapi-npaddconnection3)                     | Conecta un dispositivo local a un recurso de red.<br/>                                                                                                                                                             |
| [**NPCancelConnection**](/windows/desktop/api/Npapi/nf-npapi-npcancelconnection)                 | Desconecta una conexión de red.<br/>                                                                                                                                                                          |
| [**NPCloseEnum**](/windows/desktop/api/Npapi/nf-npapi-npcloseenum)                               | Cierra una enumeración.<br/>                                                                                                                                                                                     |
| [**NPDeviceMode**](/windows/desktop/api/Npapi/nf-npapi-npdevicemode)                             | Especifica la ventana primaria de un dispositivo. Esta ventana posee los cuadros de diálogo que se originan en el dispositivo.<br/>                                                                                                 |
| [**NPDirectoryNotify**](/windows/desktop/api/Npapi/nf-npapi-npdirectorynotify)                   | Notifica al proveedor de red ciertas operaciones de directorio.<br/>                                                                                                                                             |
| [**NPEnumResource**](/windows/desktop/api/Npapi/nf-npapi-npenumresource)                         | Realiza una enumeración basada en un identificador devuelto [**por NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum).<br/>                                                                                                                    |
| [**NPFormatNetworkName**](/windows/desktop/api/Npapi/nf-npapi-npformatnetworkname)               | Da formato a un nombre de red en un formato específico del proveedor para mostrarlo en un control .<br/>                                                                                                                             |
| [**NPGetCaps**](/windows/desktop/api/Npapi/nf-npapi-npgetcaps)                                   | Devuelve información sobre qué servicios se admiten en la red.<br/>                                                                                                                                     |
| [**NPGetConnection**](/windows/desktop/api/Npapi/nf-npapi-npgetconnection)                       | Recupera información acerca de una conexión.<br/>                                                                                                                                                                  |
| [**NPGetConnection3**](/windows/desktop/api/Npapi/nf-npapi-npgetconnection3)                     | Recupera información sobre una conexión de red, incluso si está desconectada actualmente.<br/>                                                                                                                    |
| [**NPGetConnectionPerformance**](/windows/desktop/api/Npapi/nf-npapi-npgetconnectionperformance) | Devuelve información sobre el rendimiento esperado de una conexión utilizada para acceder a un recurso de red. La solicitud solo puede ser para un recurso de red que esté conectado actualmente.<br/>                          |
| [**NPGetDirectoryType**](/windows/desktop/api/Npapi/nf-npapi-npgetdirectorytype)                 | Determina el tipo de un directorio de red.<br/>                                                                                                                                                                |
| [**NPGetPropertyText**](/windows/desktop/api/Npapi/nf-npapi-npgetpropertytext)                   | Recupera los nombres de los botones que se agregarán a un cuadro de diálogo de propiedad para un recurso de red.<br/>                                                                                                                     |
| [**NPGetResourceInformation**](/windows/desktop/api/Npapi/nf-npapi-npgetresourceinformation)     | Separa la parte de un recurso de red al que se accede a través de la API de WNet del elemento al que se accede a través de API específicas del tipo de recurso.<br/>                                                                  |
| [**NPGetResourceParent**](/windows/desktop/api/Npapi/nf-npapi-npgetresourceparent)               | Recupera el elemento primario de un recurso de red especificado en la jerarquía de exploración.<br/>                                                                                                                              |
| [**NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname)                 | Recupera el nombre universal de un recurso de red. La [**función NPGetUniversalName**](/windows/desktop/api/Npapi/nf-npapi-npgetuniversalname) puede recuperar este nombre universal en formato UNC o en el formato de nombre remoto anterior.<br/>      |
| [**NPGetUser**](/windows/desktop/api/Npapi/nf-npapi-npgetuser)                                   | Recupera el valor del nombre de usuario predeterminado actual o el nombre de usuario utilizado para establecer una conexión de red.<br/>                                                                                              |
| [**NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum)                                 | Abre una enumeración de recursos de red o conexiones existentes. Se [**debe llamar a la función NPOpenEnum**](/windows/desktop/api/Npapi/nf-npapi-npopenenum) para obtener un identificador válido para una enumeración.<br/>                               |
| [**NPPropertyDialog**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog)                     | Se llama cuando el usuario hace clic en un botón agregado mediante la [**función NPPropertyDialog.**](/windows/desktop/api/Npapi/nf-npapi-nppropertydialog) Solo **se llama a la función NPPropertyDialog** para las propiedades de red de archivos y directorios.<br/> |
| [**NPSearchDialog**](/windows/desktop/api/Npapi/nf-npapi-npsearchdialog)                         | Permite a los proveedores de red proporcionar su propia forma de exploración y búsqueda, más allá de la vista jerárquica presentada en el **cuadro de diálogo** Conexión.<br/>                                                          |



 

### <a name="support-functions"></a>Funciones de soporte técnico

El sistema operativo implementa la función siguiente y los proveedores de red pueden llamar a esta función.



| Función                                     | Descripción                                                                                                                               |
|----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| [**WNetSetLastError**](/windows/desktop/api/Npapi/nf-npapi-wnetsetlasterrora) | Establece la información de error extendida. Los proveedores de red deben llamar a esta función en lugar [**de SetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-setlasterror).<br/> |



 

### <a name="connection-notification-functions"></a>Funciones de notificación de conexión

Las aplicaciones que necesitan recibir notificaciones del enrutador [](/windows/desktop/SecGloss/m-gly) de varios proveedores (MPR) implementan las siguientes funciones cuando un recurso de red está conectado o desconectado. Para obtener más información sobre cómo escribir una aplicación que recibe dichas notificaciones, vea [Recepción de notificaciones de conexión.](receiving-connection-notifications.md)



| Función                                           | Descripción                                                                                                                                                                                                                   |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AddConnectNotify**](/windows/desktop/api/Npapi/nf-npapi-addconnectnotify)       | Se llama antes y después de cada operación de agregar conexión ([**WNetAddConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnectiona), [**WNetAddConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection2a)y [**WNetAddConnection3**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetaddconnection3a)).<br/> |
| [**CancelConnectNotify**](/windows/desktop/api/Npapi/nf-npapi-cancelconnectnotify) | Se llama antes y después de cada operación de cancelación de conexión ([**WNetCancelConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnectiona) o [**WNetCancelConnection2**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetcancelconnection2a)).<br/>                                       |



 

## <a name="lsa-logon-functions"></a>Funciones de inicio de sesión de LSA

Las siguientes funciones [*de autenticación de*](/windows/desktop/SecGloss/l-gly) autoridad de seguridad local (LSA) autentican a los usuarios e inician sesión, y proporcionan información de sesión de inicio de sesión.



| Función                                                                   | Descripción                                                                                                                                                                                                                                           |
|----------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)       | Solicita un servicio específico del paquete de un paquete de autenticación.<br/>                                                                                                                                                                        |
| [**LsaConnectUntrusted**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaconnectuntrusted)                         | Establece una conexión que no es de confianza al LSA.<br/>                                                                                                                                                                                            |
| [**LsaDeregisterLogonProcess**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaderegisterlogonprocess)             | Se desconecta del LSA y libera los recursos asignados al contexto del autor de la llamada.<br/>                                                                                                                                                            |
| [**LsaEnumerateLogonSessions**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaenumeratelogonsessions)             | Recupera [*identificadores únicos locales*](/windows/desktop/SecGloss/l-gly) (LUID) para las sesiones de inicio de sesión existentes.<br/>                                                              |
| [**LsaFreeReturnBuffer**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsafreereturnbuffer)                         | Libera la memoria asignada para un búfer devuelto a un llamador.<br/>                                                                                                                                                                                  |
| [**LsaGetLogonSessionData**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsagetlogonsessiondata)                   | Recupera información sobre una sesión de inicio de sesión especificada.<br/>                                                                                                                                                                                     |
| [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser)                                       | Autentica los datos de inicio de sesión de usuario con las credenciales almacenadas. Si se realiza correctamente, crea una nueva sesión de inicio de sesión y devuelve un token de usuario.<br/>                                                                                                          |
| [**LsaLookupAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalookupauthenticationpackage)   | Obtiene el identificador único de un paquete de autenticación.<br/>                                                                                                                                                                                |
| [**LsaQueryDomainInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaquerydomaininformationpolicy) | Recupera información de dominio del [**objeto Policy.**](/windows/desktop/SecMgmt/policy-object)<br/>                                                                                                                                                         |
| [**LsaQueryForestTrustInformation**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryforesttrustinformation)   | Recupera la información de confianza del bosque para el objeto [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) de la entidad de [*seguridad local*](/windows/desktop/SecGloss/l-gly) especificado.<br/> |
| [**LsaRegisterLogonProcess**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaregisterlogonprocess)                 | Establece una conexión con el servidor LSA y comprueba que el autor de la llamada es una aplicación de inicio de sesión.<br/>                                                                                                                                            |
| [**LsaSetDomainInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetdomaininformationpolicy)     | Establece la información de dominio en el [**objeto Policy.**](/windows/desktop/SecMgmt/policy-object)<br/>                                                                                                                                                                |
| [**LsaSetForestTrustInformation**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetforesttrustinformation)       | establece la información de confianza del bosque para un objeto [**TrustedDomain**](/windows/desktop/SecMgmt/trusteddomain-object) de la entidad de [*seguridad local*](/windows/desktop/SecGloss/l-gly) especificado.<br/>    |



 

## <a name="functions-implemented-by-authentication-packages"></a>Funciones implementadas por paquetes de autenticación

Los paquetes de autenticación personalizados deben implementar estas funciones, a las que llama la autoridad [*de seguridad local*](/windows/desktop/SecGloss/l-gly) (LSA). Estas funciones se implementan mediante los paquetes de autenticación MSV1 0 y \_ Kerberos proporcionados por Microsoft.



| Función                                                           | Descripción                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**LsaApCallPackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package)                       | Se llama cuando una aplicación que usa una conexión de confianza ha especificado el identificador del paquete de autenticación en una llamada a [**LsaCallAuthenticationPackage.**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage)<br/> Esta función proporciona una manera de que las aplicaciones de inicio de sesión se comuniquen directamente con los paquetes de autenticación.<br/>                         |
| [**LsaApCallPackagePassthrough**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_call_package_passthrough) | Se llama cuando se ha especificado el identificador del paquete de autenticación en una llamada a [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) para una solicitud de inicio de sesión de paso a través.<br/>                                                                                                                                                                  |
| [**LsaApCallPackageUntrusted**](/previous-versions/windows/desktop/legacy/aa378218(v=vs.85))     | Se llama cuando una aplicación ha especificado el identificador del paquete de autenticación en una llamada a [**LsaCallAuthenticationPackage**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsacallauthenticationpackage) mediante una conexión que no es de confianza. Esta función se usa para comunicarse con procesos que no tienen el privilegio SeTcbPrivilege.<br/>                                             |
| [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package)           | Se llama durante la inicialización del sistema para permitir que el paquete de autenticación realice tareas de inicialización.<br/>                                                                                                                                                                                                                                                   |
| [**LsaApLogonTerminated**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_terminated)               | Se llama cuando finaliza una sesión de inicio de sesión para permitir que el paquete de autenticación libre los recursos asignados para la sesión de inicio de sesión.<br/>                                                                                                                                                                                                                                |
| [**LsaApLogonUser**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user)                           | Se llama cuando se ha especificado el paquete de autenticación en una llamada a [**LsaLogonUser**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsalogonuser). Esta función autentica los datos de [*inicio de sesión de una entidad*](/windows/desktop/SecGloss/s-gly) de seguridad.<br/>                                                                                           |
| [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)                       | Idéntico a [**LsaApLogonUser,**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) salvo que devuelve el nombre de la estación de trabajo con fines de auditoría.<br/> Un paquete de autenticación puede [**implementar LsaApLogonUser,**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) [**LsaApLogonUserEx**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex)o [**LsaApLogonUserEx2.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2) No es necesario implementarlos todos.<br/> |
| [**LsaApLogonUserEx2**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2)                     | Idéntico a [**LsaApLogonUserEx,**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex) salvo que devuelve las credenciales principales y complementarias de la entidad de seguridad. Un paquete de autenticación puede [**implementar LsaApLogonUser,**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user) **LsaApLogonUserEx** o [**LsaApLogonUserEx2.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_logon_user_ex2) No es necesario implementarlos todos.<br/>          |



 

## <a name="lsa-functions-called-by-authentication-packages"></a>Funciones LSA llamadas por paquetes de autenticación

Se puede [*llamar a las siguientes*](/windows/desktop/SecGloss/l-gly) funciones de autoridad de seguridad local (LSA) desde un paquete de autenticación personalizado. Cuando el LSA llama a [**LsaApInitializePackage**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_ap_initialize_package) para inicializar el paquete, pasa una tabla de funciones de soporte técnico.



| Función                                             | Descripción                                                                                                                   |
|------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [**AddCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)               | Agrega credenciales a una sesión de inicio de sesión.<br/>                                                                               |
| [**AllocateClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer) | Asigna un búfer en el espacio de direcciones del cliente.<br/>                                                                  |
| [**AllocateLsaHeap**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)           | Asigna los búferes que se deben devolver del paquete de autenticación al LSA.<br/>                                |
| [**CopyFromClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_from_client_buffer) | Copia el contenido de un búfer en el espacio de direcciones del cliente en un búfer local.<br/>                                 |
| [**CopyToClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_copy_to_client_buffer)     | Copia el contenido de un búfer local en el espacio de direcciones del cliente.<br/>                                             |
| [**CreateLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_create_logon_session)     | Usado por los paquetes de autenticación para crear una sesión de inicio de sesión.<br/>                                                         |
| [**DeleteCredential**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_credential)         | Elimina una credencial existente.<br/>                                                                                    |
| [**DeleteLogonSession**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_delete_logon_session)     | Limpia las sesiones de inicio de sesión creadas al determinar si la información de autenticación de un usuario es legítima.<br/>  |
| [**FreeClientBuffer**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_free_client_buffer)         | Libera un búfer de cliente asignado previamente con la [**función AllocateClientBuffer.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_client_buffer)<br/> |
| [**FreeLsaHeap**](/windows/win32/api/ntlsa/nc-ntlsa-lsa_free_lsa_heap)                   | Libera los búferes asignados previamente mediante la [**función AllocateLsaHeap.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_allocate_lsa_heap)<br/>               |
| [**GetCredentials**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_get_credentials)             | Recupera las credenciales almacenadas previamente en caché [**por AddCredential.**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-lsa_add_credential)<br/>                                 |



 

## <a name="subauthentication-functions"></a>Funciones de subauauticación

Los paquetes de autenticación proporcionados por Microsoft pueden llamar a las siguientes funciones de subautentificación para proporcionar autenticación de inicio de sesión adicional creada por el usuario.



| Función                                                                  | Descripción                                                                           |
|---------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| [**Msv1 \_ 0SubAuthenticationFilter**](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationfilter)   | Realiza la autenticación de inicio de sesión de usuario que es específica de los controladores de dominio.<br/> |
| [**Msv1 \_ 0SubAuthenticationRoutine**](/windows/desktop/api/Subauth/nf-subauth-msv1_0subauthenticationroutine) | Realiza la autenticación específica del cliente o servidor.<br/>                            |



 

## <a name="credentials-management-functions"></a>Funciones de administración de credenciales

En los temas siguientes se proporciona información de referencia para las funciones de administración de credenciales.



| Tema                                        | Descripción                                                                                                                                |
|----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| Funciones de la interfaz de usuario de administración de credenciales          | Funciones de detalles usadas para la interfaz de usuario de administración de credenciales.<br/>                                                                           |
| Funciones de administración de credenciales de bajo nivel   | Funciones de detalles que se usan para la administración de credenciales de bajo nivel.<br/>                                                                    |
| Funciones de notificación de administración de credenciales | Detalla las funciones que implementan los administradores de credenciales para recibir notificaciones cuando cambia la información de autenticación.<br/> |



 

### <a name="credentials-management-ui-functions"></a>Funciones de la interfaz de usuario de administración de credenciales

Las siguientes son funciones de interfaz de usuario de administración de credenciales.



| Función                                                                       | Descripción                                                                                                                                                                                                    |
|--------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CredUICmdLinePromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa) | Solicitar y aceptar información de credenciales de usuario de un usuario que trabaja en un programa de línea de comandos.<br/>                                                                                                   |
| [**CredUIConfirmCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduiconfirmcredentialsa)                   | Confirme la validez de las credenciales devueltas por [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa) o [**CredUICmdLinePromptForCredentials.**](/windows/desktop/api/WinCred/nf-wincred-creduicmdlinepromptforcredentialsa)<br/> |
| [**CredUIParseUserName**](/windows/desktop/api/WinCred/nf-wincred-creduiparseusernamea)                             | Extraiga el nombre de la cuenta de usuario y el dominio de un nombre de usuario completo.<br/>                                                                                                                          |
| [**CredUIPromptForCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforcredentialsa)               | Mostrar un cuadro de diálogo que acepta información de credenciales de un usuario.<br/>                                                                                                                              |
| [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) | Crea y muestra un cuadro de diálogo configurable que permite a los usuarios proporcionar información de credenciales mediante cualquier proveedor de credenciales instalado en el equipo local.<br/>                                 |
| [**CredUIReadSSOCredW**](/windows/desktop/api/WinCred/nf-wincred-creduireadssocredw)                               | Recupera el nombre de usuario de una única credencial de inicio de sesión.<br/>                                                                                                                                              |
| [**CredUIStoreSSOCredW**](/windows/desktop/api/WinCred/nf-wincred-creduistoressocredw)                             | Almacena una credencial de inicio de sesión único.<br/>                                                                                                                                                                   |



 

### <a name="low-level-credentials-management-functions"></a>Funciones de administración de credenciales de bajo nivel

Las siguientes son funciones de administración de credenciales de bajo nivel.



| Función                                                                 | Descripción                                                                                                                                                                                                                              |
|--------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CredDelete**](/windows/desktop/api/WinCred/nf-wincred-creddeletea)                                         | Elimine una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                            |
| [**CredEnumerate**](/windows/desktop/api/WinCred/nf-wincred-credenumeratea)                                   | Enumera las credenciales del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                             |
| [**CredFindBestCredential**](/windows/desktop/api/WinCred/nf-wincred-credfindbestcredentiala)                 | Busca en [la base](credentials-management.md) de datos administración de credenciales (CredMan) el conjunto de credenciales genéricas asociadas a la sesión de inicio de sesión actual y que mejor coincidan con el recurso de destino especificado.<br/> |
| [**CredFree**](/windows/desktop/api/WinCred/nf-wincred-credfree)                                             | Liberar la memoria usada para un búfer devuelto por cualquiera de las funciones de administración de credenciales.<br/>                                                                                                                                    |
| [**CredGetSessionTypes**](/windows/desktop/api/WinCred/nf-wincred-credgetsessiontypes)                       | Recupere la persistencia máxima admitida por la sesión de inicio de sesión actual.<br/>                                                                                                                                                      |
| [**CredGetTargetInfo**](/windows/desktop/api/WinCred/nf-wincred-credgettargetinfoa)                           | Recupere toda la información de nombre de destino conocida para un recurso con nombre.<br/>                                                                                                                                                              |
| [**CredIsMarshaledCredential**](/windows/desktop/api/WinCred/nf-wincred-credismarshaledcredentiala)           | Determina si una cadena de nombre de usuario especificada es una credencial serializada previamente serializada por [**CredMarshalCredential.**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala)<br/>                                                                     |
| [**CredIsProtected**](/windows/desktop/api/WinCred/nf-wincred-credisprotecteda)                               | Especifica si las credenciales especificadas se cifran mediante una llamada anterior a la [**función CredProtect.**](/windows/desktop/api/WinCred/nf-wincred-credprotecta)<br/>                                                                                              |
| [**CredMarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credmarshalcredentiala)                   | Transformar una credencial en una cadena de texto.<br/>                                                                                                                                                                                    |
| [**CredPackAuthenticationBuffer**](/windows/desktop/api/WinCred/nf-wincred-credpackauthenticationbuffera)     | Convierte un nombre de usuario y una contraseña de cadena en un búfer de autenticación.<br/>                                                                                                                                                       |
| [**CredProtect**](/windows/desktop/api/WinCred/nf-wincred-credprotecta)                                       | Cifra las credenciales especificadas para que solo el contexto de seguridad actual pueda descifrarlas.<br/>                                                                                                                                |
| [**CredRead**](/windows/desktop/api/WinCred/nf-wincred-credreada)                                             | Lee una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                              |
| [**CredReadDomainCredentials**](/windows/desktop/api/WinCred/nf-wincred-credreaddomaincredentialsa)           | Lea las credenciales de dominio del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                    |
| [**CredRename**](/windows/desktop/api/WinCred/nf-wincred-credrenamea)                                         | Cambie el nombre de una credencial del conjunto de credenciales de un usuario.<br/>                                                                                                                                                                            |
| [**CredUnmarshalCredential**](/windows/desktop/api/WinCred/nf-wincred-credunmarshalcredentiala)               | Vuelva a transformar una cadena de credenciales serializada en su forma no marshaled.<br/>                                                                                                                                                      |
| [**CredUnPackAuthenticationBuffer**](/windows/desktop/api/WinCred/nf-wincred-credunpackauthenticationbuffera) | Convierte un búfer de autenticación devuelto por una llamada a la función [**CredUIPromptForWindowsCredentials**](/windows/desktop/api/WinCred/nf-wincred-creduipromptforwindowscredentialsa) en un nombre de usuario y contraseña de cadena.<br/>                                     |
| [**CredUnprotect**](/windows/desktop/api/WinCred/nf-wincred-credunprotecta)                                   | Descifra las credenciales que se cifraron previamente mediante la [**función CredProtect.**](/windows/desktop/api/WinCred/nf-wincred-credprotecta)<br/>                                                                                                                 |
| [**CredWrite**](/windows/desktop/api/WinCred/nf-wincred-credwritea)                                           | Cree una nueva credencial o modifique una credencial existente en el conjunto de credenciales de un usuario.<br/>                                                                                                                                         |
| [**CredWriteDomainCredentials**](/windows/desktop/api/WinCred/nf-wincred-credwritedomaincredentialsa)         | Escriba las credenciales de dominio en el conjunto de credenciales de un usuario.<br/>                                                                                                                                                                         |



 

### <a name="credential-management-notification-functions"></a>Funciones de notificación de administración de credenciales

Los administradores de credenciales implementan las siguientes funciones para recibir notificaciones cuando cambia la información de autenticación.



| Función                                                 | Descripción                                                                                                                                                    |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**NPLogonNotify**](/windows/desktop/api/Npapi/nf-npapi-nplogonnotify)                   | MPR llama a esta función para notificar al administrador de credenciales que se ha producido un evento de inicio de sesión, lo que permite al administrador de credenciales devolver un script de inicio de sesión.<br/> |
| [**NPPasswordChangeNotify**](/windows/desktop/api/Npapi/nf-npapi-nppasswordchangenotify) | MPR llama a esta función para notificar al administrador de credenciales un evento de cambio de contraseña.<br/>                                                                |



 

## <a name="smart-card-functions"></a>Funciones de tarjeta inteligente

El SDK de tarjeta inteligente proporciona las siguientes funciones.



| Función                                                                             | Descripción                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetOpenCardName**](/windows/desktop/api/Winscard/nf-winscard-getopencardnamea)                                           | Reemplazado por [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda), que muestra el cuadro de diálogo **Seleccionar tarjeta de** tarjeta inteligente.<br/>                                                                               |
| [**SCardAccessStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent)                           | Obtiene un identificador de eventos cuando se señala el inicio de un administrador de recursos de tarjeta inteligente.                                                                                                                                 |
| [**SCardAddReaderToGroup**](/windows/desktop/api/Winscard/nf-winscard-scardaddreadertogroupa)                               | Agrega un [*lector*](/windows/desktop/SecGloss/r-gly) a un grupo de lectores.                                                                                                                       |
| [**SCardAudit**](/windows/desktop/api/Winscard/nf-winscard-scardaudit)                                                     | Escribe mensajes de evento en el registro Windows aplicación microsoft-Windows-SmartCard-Audit/Authentication.                                                                                                               |
| [**SCardBeginTransaction**](/windows/desktop/api/Winscard/nf-winscard-scardbegintransaction)                               | Inicia una [*transacción*](/windows/desktop/SecGloss/t-gly).                                                                                                                        |
| [**SCardCancel**](/windows/desktop/api/Winscard/nf-winscard-scardcancel)                                                   | Finaliza todas las acciones pendientes dentro de un [*contexto*](/windows/desktop/SecGloss/c-gly).                                                                                                 |
| **SCardCancelTransaction**                                                           | Reservado para uso futuro.                                                                                                                                                                                             |
| [**SCardConnect**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta)                                                 | Establece una conexión entre la aplicación que realiza la llamada y una tarjeta inteligente.                                                                                                                                           |
| [**SCardControl**](/windows/desktop/api/Winscard/nf-winscard-scardcontrol)                                                 | Obtiene el control directo del lector después de [**llamar a SCardConnect.**](/windows/desktop/api/Winscard/nf-winscard-scardconnecta)                                                                                                                              |
| [**SCardDisconnect**](/windows/desktop/api/Winscard/nf-winscard-scarddisconnect)                                           | Finaliza una conexión entre la aplicación que realiza la llamada y una tarjeta inteligente.                                                                                                                                            |
| [**SCardEndTransaction**](/windows/desktop/api/Winscard/nf-winscard-scardendtransaction)                                   | Completa una [*transacción*](/windows/desktop/SecGloss/t-gly).                                                                                                                     |
| [**SCardEstablishContext**](/windows/desktop/api/Winscard/nf-winscard-scardestablishcontext)                               | Establece un contexto del [*administrador de recursos para*](/windows/desktop/SecGloss/r-gly) acceder a la base de datos de tarjetas inteligentes.                                      |
| [**SCardForgetCardType**](/windows/desktop/api/Winscard/nf-winscard-scardforgetcardtypea)                                   | Quita una tarjeta inteligente definida previamente del [*subsistema de tarjeta inteligente*](/windows/desktop/SecGloss/s-gly).                                                     |
| [**SCardForgetReader**](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadera)                                       | Quita un lector definido previamente del subsistema de tarjeta inteligente.                                                                                                                                                   |
| [**SCardForgetReaderGroup**](/windows/desktop/api/Winscard/nf-winscard-scardforgetreadergroupa)                             | Quita un grupo de lectores definido previamente del subsistema de tarjeta inteligente.                                                                                                                                             |
| [**SCardFreeMemory**](/windows/desktop/api/Winscard/nf-winscard-scardfreememory)                                           | Libera la memoria asignada por resource manager.                                                                                                                                                                       |
| [**SCardGetAttrib**](/windows/desktop/api/Winscard/nf-winscard-scardgetattrib)                                             | Obtiene los atributos del lector actual de un [*lector,*](/windows/desktop/SecGloss/r-gly)controlador o [*tarjeta inteligente determinados.*](/windows/desktop/SecGloss/s-gly) |
| [**SCardGetCardTypeProviderName**](/windows/desktop/api/Winscard/nf-winscard-scardgetcardtypeprovidernamea)                 | Obtiene el nombre del proveedor dado un nombre de tarjeta y un tipo de proveedor.                                                                                                                                                          |
| [**SCardGetDeviceTypeId**](/windows/desktop/api/Winscard/nf-winscard-scardgetdevicetypeida)                                 | Obtiene el identificador de tipo de dispositivo del lector de tarjetas para el nombre de lector especificado. Esta función no afecta al estado del lector.                                                                                 |
| [**SCardGetProviderId**](/windows/desktop/api/Winscard/nf-winscard-scardgetproviderida)                                     | Obtiene el identificador (GUID) del [*proveedor de servicios principal*](/windows/desktop/SecGloss/p-gly) para una tarjeta inteligente.                                       |
| [**SCardGetReaderDeviceInstanceId**](/windows/win32/api/winscard/nf-winscard-scardgetreaderdeviceinstanceida)             | Obtiene el identificador de instancia de dispositivo del lector de tarjetas para el nombre de lector especificado. Esta función no afecta al estado del lector.                                                                             |
| [**SCardGetReaderIcon**](/windows/win32/api/winscard/nf-winscard-scardgetreadericona)                                     | Obtiene un icono del lector de tarjetas inteligentes para el nombre de un lector determinado.                                                                                                                                                     |
| [**SCardGetStatusChange**](/windows/desktop/api/Winscard/nf-winscard-scardgetstatuschangea)                                 | Bloquea la ejecución hasta que cambia el estado de los lectores.                                                                                                                                                                |
| [**SCardGetTransmitCount**](/windows/desktop/api/Winscard/nf-winscard-scardgettransmitcount)                               | Recupera el número de operaciones de transmisión que se han completado desde que se insertó el lector de tarjetas especificado.                                                                                                        |
| [**SCardIntroduceCardType**](/windows/desktop/api/Winscard/nf-winscard-scardintroducecardtypea)                             | Presenta una nueva tarjeta inteligente en el [*subsistema de tarjetas inteligentes.*](/windows/desktop/SecGloss/s-gly)                                                                                       |
| [**SCardIntroduceReader**](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadera)                                 | Presenta un nuevo lector al subsistema de tarjetas inteligentes.                                                                                                                                                                 |
| [**SCardIntroduceReaderGroup**](/windows/desktop/api/Winscard/nf-winscard-scardintroducereadergroupa)                       | Presenta un nuevo grupo de lectores al subsistema de tarjetas inteligentes.                                                                                                                                                           |
| [**SCardIsValidContext**](/windows/desktop/api/Winscard/nf-winscard-scardisvalidcontext)                                   | Comprueba un identificador de contexto de tarjeta inteligente.                                                                                                                                                                                |
| [**SCardListCards**](/windows/desktop/api/Winscard/nf-winscard-scardlistcardsa)                                             | Proporciona una lista de tarjetas inteligentes ya introducidas en el subsistema.                                                                                                                                                  |
| [**SCardListInterfaces**](/windows/desktop/api/Winscard/nf-winscard-scardlistinterfacesa)                                   | Proporciona una lista de interfaces proporcionadas por una tarjeta inteligente determinada.                                                                                                                                                        |
| [**SCardListReaderGroups**](/windows/desktop/api/Winscard/nf-winscard-scardlistreadergroupsa)                               | Proporciona una lista de grupos de lectores que ya se han introducido en el subsistema.                                                                                                                                                |
| [**SCardListReaders**](/windows/desktop/api/Winscard/nf-winscard-scardlistreadersa)                                         | Proporciona una lista de lectores que ya se han introducido en el subsistema.                                                                                                                                                      |
| [**SCardListReadersWithDeviceInstanceId**](/windows/win32/api/winscard/nf-winscard-scardlistreaderswithdeviceinstanceida) | Obtiene la lista de lectores que han proporcionado un identificador de instancia de dispositivo. Esta función no afecta al estado del lector.                                                                                     |
| [**SCardLocateCards**](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsa)                                         | Busca las tarjetas que coinciden con una cadena [*ATR determinada.*](/windows/desktop/SecGloss/a-gly)                                                                                               |
| [**SCardLocateCardsByATR**](/windows/desktop/api/Winscard/nf-winscard-scardlocatecardsbyatra)                               | Busca las tarjetas que coinciden con una cadena [*ATR determinada.*](/windows/desktop/SecGloss/a-gly)                                                                                               |
| [**SCardReadCache**](/windows/desktop/api/Winscard/nf-winscard-scardreadcachea)                                             | Recupera la parte de valor de un par nombre-valor de la caché global mantenida por la tarjeta [inteligente Resource Manager](smart-card-resource-manager.md).                                                             |
| [**SCardReconnect**](/windows/desktop/api/Winscard/nf-winscard-scardreconnect)                                             | Restablece una conexión existente desde la aplicación que realiza la llamada a la tarjeta inteligente.                                                                                                                                 |
| [**SCardReleaseContext**](/windows/desktop/api/Winscard/nf-winscard-scardreleasecontext)                                   | Cierra un contexto de [*Resource Manager establecido.*](/windows/desktop/SecGloss/r-gly)                                                                    |
| [**SCardReleaseStartedEvent**](/windows/desktop/api/Winscard/nf-winscard-scardreleasestartedevent)                         | Disminuye el recuento de referencias de un identificador adquirido mediante la [**función SCardAccessStartedEvent.**](/windows/desktop/api/Winscard/nf-winscard-scardaccessstartedevent)                                                                               |
| [**SCardRemoveReaderFromGroup**](/windows/desktop/api/Winscard/nf-winscard-scardremovereaderfromgroupa)                     | Quita un lector de un grupo de lectores existente.                                                                                                                                                                      |
| [**SCardSetAttrib**](/windows/desktop/api/Winscard/nf-winscard-scardsetattrib)                                             | Establece un atributo de lector determinado.                                                                                                                                                                                       |
| [**SCardSetCardTypeProviderName**](/windows/desktop/api/Winscard/nf-winscard-scardsetcardtypeprovidernamea)                 | Establece el nombre del proveedor para un nombre de tarjeta y un tipo de proveedor.                                                                                                                                                            |
| [**SCardStatus**](/windows/desktop/api/Winscard/nf-winscard-scardstatusa)                                                   | Obtiene el estado [*actual*](/windows/desktop/SecGloss/s-gly) de un lector.                                                                                                                      |
| [**SCardTransmit**](/windows/desktop/api/Winscard/nf-winscard-scardtransmit)                                               | Envía una solicitud de servicio a una tarjeta inteligente.                                                                                                                                                                             |
| [**SCardUIDlgSelectCard**](/windows/desktop/api/Winscard/nf-winscard-scarduidlgselectcarda)                                 | Muestra el cuadro de diálogo **Seleccionar tarjeta de** tarjeta inteligente.                                                                                                                                                                  |
| [**SCardWriteCache**](/windows/desktop/api/Winscard/nf-winscard-scardwritecachea)                                           | Escribe un par nombre-valor de una tarjeta inteligente en la memoria caché global mantenida por la tarjeta [inteligente Resource Manager](smart-card-resource-manager.md).                                                                     |



 

## <a name="sasl-functions"></a>Funciones SASL

La capa de autenticación y seguridad simple (SASL) proporciona las siguientes funciones.



| Functions                                                              | Descripción                                                                                                                                                                      |
|------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**SaslAcceptSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-saslacceptsecuritycontext)         | Encapsula una llamada estándar a la función [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) de SSPI e incluye la creación de cookies de servidor SASL.              |
| [**SaslEnumerateProfiles**](/windows/desktop/api/Sspi/nf-sspi-saslenumerateprofilesa)                 | Enumera los paquetes que proporcionan una interfaz SASL.                                                                                                                                |
| [**SaslGetContextOption**](/windows/desktop/api/Sspi/nf-sspi-saslgetcontextoption)                   | Recupera la propiedad especificada del contexto SASL especificado.                                                                                                                  |
| [**SaslGetProfilePackage**](/windows/desktop/api/Sspi/nf-sspi-saslgetprofilepackagea)                 | Devuelve la información del paquete especificado.                                                                                                                       |
| [**SaslIdentifyPackage**](/windows/desktop/api/Sspi/nf-sspi-saslidentifypackagea)                     | Devuelve el prefijo negotiate que coincide con el búfer de negociación SASL especificado.                                                                                                 |
| [**SaslInitializeSecurityContext**](/windows/desktop/api/Sspi/nf-sspi-saslinitializesecuritycontexta) | Encapsula una llamada estándar a la función [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) de SSPI y procesa las cookies de servidor SASL desde el servidor. |
| [**SaslSetContextOption**](/windows/desktop/api/Sspi/nf-sspi-saslsetcontextoption)                   | Establece el valor de la propiedad especificada para el contexto SASL especificado.                                                                                                         |



 

## <a name="other-functions"></a>Otras funciones

Estas son otras funciones que se usan para la autenticación.



| Función                                                                   | Descripción                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**AddSecurityPackage**](/windows/desktop/api/Sspi/nf-sspi-addsecuritypackagea)                           | Agrega un proveedor [*de soporte técnico de*](/windows/desktop/SecGloss/s-gly) seguridad a la lista de proveedores admitidos por Microsoft [Negotiate.](microsoft-negotiate.md)<br/>                                                                                                                              |
| [**ChangeAccountPassword**](/windows/desktop/api/Sspi/nf-sspi-changeaccountpassworda)                     | Cambia la contraseña de una cuenta Windows dominio mediante el proveedor de [soporte técnico de seguridad especificado.](sspi.md)<br/>                                                                                                                                                                                                                                         |
| [**CredMarshalTargetInfo**](/windows/desktop/api/NTSecPkg/nf-ntsecpkg-credmarshaltargetinfo)                     | Serializa el destino especificado en una matriz de valores de bytes.<br/>                                                                                                                                                                                                                                                                                           |
| [**DeleteSecurityPackage**](/windows/desktop/api/Sspi/nf-sspi-deletesecuritypackagea)                     | Elimina un proveedor [*de soporte técnico de seguridad*](/windows/desktop/SecGloss/s-gly) de la lista de proveedores admitidos por Microsoft [Negotiate](microsoft-negotiate.md).<br/>                                                                                                                         |
| [**LsaManageSidNameMapping**](/previous-versions/windows/desktop/legacy/jj902653(v=vs.85))                 | Agrega o quita las asignaciones de SID o nombre del conjunto de asignaciones registrado con el servicio de búsqueda de LSA.<br/>                                                                                                                                                                                                                                                          |
| [**LsaOpenPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaopenpolicy)                                     | Abre un identificador para el [**objeto Policy**](/windows/desktop/SecMgmt/policy-object) en un sistema local o remoto.<br/>                                                                                                                                                                                                                                                          |
| [**LsaQueryInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsaqueryinformationpolicy)             | Recupera información sobre un [**objeto Policy.**](/windows/desktop/SecMgmt/policy-object)<br/>                                                                                                                                                                                                                                                                              |
| [**LsaSetInformationPolicy**](/windows/desktop/api/Ntsecapi/nf-ntsecapi-lsasetinformationpolicy)                 | Modifica la información de un [**objeto Policy.**](/windows/desktop/SecMgmt/policy-object)<br/>                                                                                                                                                                                                                                                                                  |
| [**NPFMXEditPerm**](/windows/desktop/api/Npapi/nf-npapi-npfmxeditperm)                                     | Permite a los proveedores de red proporcionar sus propios cuadros de diálogo del editor de permisos.<br/>                                                                                                                                                                                                                                                                             |
| [**NPFMXGetPermCaps**](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermcaps)                               | Recupera las funcionalidades del editor de permisos. El valor devuelto es una máscara de bits que indica cuáles de los elementos de **menú** Seguridad del Administrador de archivos se van a habilitar.<br/>                                                                                                                                                                               |
| [**NPFMXGetPermHelp**](/windows/desktop/api/Npapi/nf-npapi-npfmxgetpermhelp)                               | Recupera el archivo de ayuda y el contexto de ayuda  de los cuadros de diálogo del editor de permisos cuando se selecciona un elemento de menú en el menú Seguridad del Administrador de archivos y se presiona F1.<br/>                                                                                                                                                                                 |
| [**SpGetCredUIContextFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spgetcreduicontextfn)                       | Recupera información de contexto de un proveedor de credenciales.<br/>                                                                                                                                                                                                                                                                                               |
| [**SpLsaModeInitialize**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-splsamodeinitializefn)                         | Proporciona al LSA punteros a las funciones implementadas por cada paquete de [*seguridad*](/windows/desktop/SecGloss/s-gly) en el archivo DLL de SSP/AP.<br/>                                                                                                                                                               |
| [**SpQueryMetaDataFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spquerymetadatafn)                             | Obtiene los metadatos de [*un proveedor*](/windows/desktop/SecGloss/s-gly) de soporte técnico de seguridad (SSP) cuando inicia un contexto [*de seguridad*](/windows/desktop/SecGloss/c-gly).<br/>                                                                                      |
| [**SpUpdateCredentialsFn**](/windows/desktop/api/Ntsecpkg/nc-ntsecpkg-spupdatecredentialsfn)                     | Actualiza las credenciales asociadas al contexto especificado.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiCompareAuthIdentities**](/windows/desktop/api/Sspi/nf-sspi-sspicompareauthidentities)             | Compara las dos credenciales especificadas.<br/>                                                                                                                                                                                                                                                                                                                 |
| [**SspiCopyAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspicopyauthidentity)                       | Crea una copia de la estructura de credenciales opacas especificada.<br/>                                                                                                                                                                                                                                                                                            |
| [**SspiDecryptAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspidecryptauthidentity)                 | Descifra la credencial cifrada especificada.<br/>                                                                                                                                                                                                                                                                                                            |
| [**SspiEncodeAuthIdentityAsStrings**](/windows/desktop/api/Sspi/nf-sspi-sspiencodeauthidentityasstrings) | Codifica la identidad de autenticación especificada como tres cadenas.<br/>                                                                                                                                                                                                                                                                                         |
| [**SspiEncodeStringsAsAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiencodestringsasauthidentity) | Codifica un conjunto de tres cadenas de credenciales como estructura de identidad de autenticación.<br/>                                                                                                                                                                                                                                                                      |
| [**SspiEncryptAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiencryptauthidentity)                 | Cifra la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                                                              |
| [**SspiExcludePackage**](/windows/desktop/api/Sspi/nf-sspi-sspiexcludepackage)                           | Crea una nueva estructura de identidad que es una copia de [](/windows/desktop/SecGloss/s-gly) la estructura de identidad especificada modificada para excluir el proveedor de compatibilidad de seguridad (SSP) especificado.<br/>                                                                                              |
| [**SspiFreeAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspifreeauthidentity)                       | Libera la memoria asignada para la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                                        |
| [**SspiGetCredUIContext**](/windows/desktop/api/Sspi/nf-sspi-sspigetcreduicontext)                       | Recupera información de contexto de un proveedor de credenciales.<br/>                                                                                                                                                                                                                                                                                               |
| [**SspiGetTargetHostName**](/windows/desktop/api/Sspi/nf-sspi-sspigettargethostname)                     | Obtiene el nombre de host asociado al destino especificado.<br/>                                                                                                                                                                                                                                                                                                |
| [**SspiIsAuthIdentityEncrypted**](/windows/desktop/api/Sspi/nf-sspi-sspiisauthidentityencrypted)         | Indica si la estructura de identidad especificada está cifrada.<br/>                                                                                                                                                                                                                                                                                        |
| [**SspiIsPromptingNeeded**](/windows/desktop/api/Sspi/nf-sspi-sspiispromptingneeded)                     | Indica si un error devuelto después de una llamada a la función [**InitializeSecurityContext**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) requiere una llamada adicional a la función [**SspiPromptForCredentials.**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa)<br/>                      |
| [**SspiLocalFree**](/windows/desktop/api/Sspi/nf-sspi-sspilocalfree)                                     | Libera la memoria asociada al búfer especificado.<br/>                                                                                                                                                                                                                                                                                                  |
| [**SspiMarshalAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspimarshalauthidentity)                 | Serializa la estructura de identidad especificada en una matriz de bytes.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiPrepareForCredRead**](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredread)                   | Genera un nombre de destino y un tipo de credencial a partir de la estructura de identidad especificada.<br/>                                                                                                                                                                                                                                                                      |
| [**SspiPrepareForCredWrite**](/windows/desktop/api/Sspi/nf-sspi-sspiprepareforcredwrite)                 | Genera valores a partir de una estructura de identidad que se puede pasar como valores de parámetros en una llamada a la [**función CredWrite.**](/windows/desktop/api/WinCred/nf-wincred-credwritea)<br/>                                                                                                                                                                                                    |
| [**SspiPromptForCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspipromptforcredentialsa)               | Permite que [*una aplicación de interfaz*](/windows/desktop/SecGloss/s-gly)de proveedor de compatibilidad de seguridad (SSPI) solicite a un usuario que escriba las credenciales.<br/>                                                                                                                           |
| [**SspiUnmarshalAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalauthidentity)             | Deserializa la matriz especificada de valores de bytes en una estructura de identidad.<br/>                                                                                                                                                                                                                                                                             |
| [**SspiUnmarshalCredUIContext**](/windows/desktop/api/Sspi/nf-sspi-sspiunmarshalcreduicontext)           | Deserializa la información de credenciales obtenida por un proveedor de credenciales durante una llamada anterior al [**método ICredentialProvider::SetSerialization.**](/windows/win32/api/credentialprovider/nf-credentialprovider-icredentialprovider-setserialization)<br/>                                                                                                                                                    |
| [**SspiUpdateCredentials**](/windows/desktop/api/Sspi/nf-sspi-sspiupdatecredentials)                     | Actualiza las credenciales asociadas al contexto especificado.<br/>                                                                                                                                                                                                                                                                                          |
| [**SspiValidateAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspivalidateauthidentity)               | Indica si la estructura de identidad especificada es válida.<br/>                                                                                                                                                                                                                                                                                            |
| [**SspiZeroAuthIdentity**](/windows/desktop/api/Sspi/nf-sspi-sspizeroauthidentity)                       | Rellena el bloque de memoria asociado a la estructura de identidad especificada con ceros.<br/>                                                                                                                                                                                                                                                                  |
| [**WlxQueryTsLogonCredentials**](/windows/win32/api/winwlx/nc-winwlx-pwlx_query_ts_logon_credentials)           | Lo llama un archivo DLL [*de GINA*](/windows/desktop/SecGloss/g-gly) de reemplazo para recuperar [*información de*](/windows/desktop/SecGloss/c-gly) credenciales si Terminal Services está habilitado. A continuación, el archivo DLL de GINA puede usar esta información para rellenar automáticamente un cuadro de inicio de sesión e intentar iniciar la sesión del usuario.<br/> |



 

 

