---
description: En este tema se proporcionan proveedores de software independientes (ISV) con una guía rápida de los pasos necesarios para registrar y administrar los valores predeterminados de la aplicación en Windows Vista y versiones posteriores. Se proporcionan vínculos a artículos más exhaustivos sobre el tema de cada sección.
ms.assetid: 649eb20d-07d3-4209-abff-45fc50f05631
title: Administración de aplicaciones predeterminadas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc146858d197b96229edda49ac2e7249db51bf4c
ms.sourcegitcommit: 4d639170c06864e47ef66b2cfe6ca3d07cce0b02
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 05/12/2021
ms.locfileid: "109812830"
---
# <a name="managing-default-applications"></a><span data-ttu-id="58ce7-104">Administración de aplicaciones predeterminadas</span><span class="sxs-lookup"><span data-stu-id="58ce7-104">Managing Default Applications</span></span>

<span data-ttu-id="58ce7-105">La **característica Establecer acceso a** programas y valores predeterminados de equipo (SPAD) se agregó a Windows XP y versiones posteriores de Windows para administrar los valores predeterminados por equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-105">The **Set Program Access and Computer Defaults** (SPAD) feature was added to Windows XP and later versions of Windows to manage per-computer defaults.</span></span> <span data-ttu-id="58ce7-106">Además de SPAD, Windows Vista introdujo el concepto de aplicaciones predeterminadas por usuario y el elemento **Programas** predeterminados en Panel de control.</span><span class="sxs-lookup"><span data-stu-id="58ce7-106">In addition to SPAD, Windows Vista introduced the concept of per-user default applications and the **Default Programs** item in Control Panel.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="58ce7-107">Este tema no se aplica a Windows 10.</span><span class="sxs-lookup"><span data-stu-id="58ce7-107">This topic does not apply for Windows 10.</span></span> <span data-ttu-id="58ce7-108">La forma en que funcionan las asociaciones de archivos predeterminadas ha cambiado Windows 10.</span><span class="sxs-lookup"><span data-stu-id="58ce7-108">The way that default file associations work changed in Windows 10.</span></span> <span data-ttu-id="58ce7-109">Para obtener más información, vea la sección Sobre los cambios en Windows 10 **controla las aplicaciones predeterminadas** en [esta entrada](https://blogs.windows.com/windows-insider/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/).</span><span class="sxs-lookup"><span data-stu-id="58ce7-109">For more information, see the section on **Changes to how Windows 10 handles default apps** in [this post](https://blogs.windows.com/windows-insider/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/).</span></span>

 

<span data-ttu-id="58ce7-110">La configuración predeterminada por usuario es específica de una cuenta de usuario individual en el sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-110">Per-user default settings are specific to an individual user account on the system.</span></span> <span data-ttu-id="58ce7-111">Si la configuración predeterminada por usuario está presente, tiene prioridad sobre los valores predeterminados por equipo correspondientes para esa cuenta.</span><span class="sxs-lookup"><span data-stu-id="58ce7-111">If per-user default settings are present, they take precedence over corresponding per-computer defaults for that account.</span></span> <span data-ttu-id="58ce7-112">A Windows 8, el sistema de extensibilidad para los valores predeterminados de protocolo y tipo de archivo es estrictamente por usuario y se omiten los valores predeterminados por equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-112">As of Windows 8, the extensibility system for file type and protocol defaults is strictly per-user and per-computer defaults are ignored.</span></span> <span data-ttu-id="58ce7-113">SPAD también ha cambiado en Windows 8 para establecer los valores predeterminados por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-113">SPAD also changed in Windows 8 to set per-user defaults.</span></span>

-   <span data-ttu-id="58ce7-114">En sistemas que ejecutan versiones de Windows anteriores a Windows 8, una cuenta de usuario recién creada recibe los valores predeterminados por equipo hasta que se establecen los valores predeterminados por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-114">On systems running versions of Windows earlier than Windows 8, a newly created user account receives per-computer defaults until per-user defaults are established.</span></span> <span data-ttu-id="58ce7-115">En Windows Vista y versiones  posteriores, los usuarios pueden usar el elemento Programas predeterminados de Panel de control establecer o cambiar sus valores predeterminados por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-115">In Windows Vista and later, users can use the **Default Programs** item in Control Panel to set or change their per-user defaults.</span></span> <span data-ttu-id="58ce7-116">Además, cuando se ejecuta una aplicación por primera vez, los valores predeterminados por usuario se pueden establecer siguiendo las directrices que se de la sección [Application First Run and Defaults](#application-first-run-and-defaults) (Primera ejecución de la aplicación y valores predeterminados).</span><span class="sxs-lookup"><span data-stu-id="58ce7-116">In addition, when an application is run for the first time, per-user defaults can be set using the guidelines that follow in the [Application First Run and Defaults](#application-first-run-and-defaults) section.</span></span>
-   <span data-ttu-id="58ce7-117">En los sistemas que ejecutan Windows 8, una cuenta de usuario recién creada se basa en los valores predeterminados por usuario desde el principio y la configuración de esos valores predeterminados en la primera ejecución, como se explica en la sección Application [First Run and Defaults](#application-first-run-and-defaults) (Primera ejecución de la aplicación y valores predeterminados) ya no se admite.</span><span class="sxs-lookup"><span data-stu-id="58ce7-117">On systems running Windows 8, a newly created user account relies on per-user defaults from the start and the setting of those defaults on first run as explained in the [Application First Run and Defaults](#application-first-run-and-defaults) section is no longer supported.</span></span>

<span data-ttu-id="58ce7-118">Una aplicación debe registrarse tanto con SPAD como con la característica Programas predeterminados para ofrecerse como el programa predeterminado en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="58ce7-118">An application must register with both SPAD and the Default Programs feature to be offered as the default program in Windows Vista and later.</span></span>

<span data-ttu-id="58ce7-119">En este tema se proporcionan proveedores de software independientes (ISV) con una guía rápida de los pasos necesarios para registrar y administrar los valores predeterminados de la aplicación en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="58ce7-119">This topic provides independent software vendors (ISVs) with a quick guide to the steps necessary to register and manage application defaults in Windows Vista and later.</span></span> <span data-ttu-id="58ce7-120">Se proporcionan vínculos a artículos más exhaustivos sobre el tema de cada sección.</span><span class="sxs-lookup"><span data-stu-id="58ce7-120">Links are provided to more in-depth articles about each section's topic.</span></span>

-   [<span data-ttu-id="58ce7-121">Elemento de programas predeterminado en Panel de control</span><span class="sxs-lookup"><span data-stu-id="58ce7-121">Default Programs Item in Control Panel</span></span>](#default-programs-item-in-control-panel)
-   [<span data-ttu-id="58ce7-122">Establecer el acceso al programa y los valores predeterminados del equipo</span><span class="sxs-lookup"><span data-stu-id="58ce7-122">Set Program Access and Computer Defaults</span></span>](#set-program-access-and-computer-defaults)
    -   [<span data-ttu-id="58ce7-123">Establecer valores predeterminados en SPAD</span><span class="sxs-lookup"><span data-stu-id="58ce7-123">Setting Defaults in SPAD</span></span>](#setting-defaults-in-spad)
    -   [<span data-ttu-id="58ce7-124">Ocultar el acceso en SPAD</span><span class="sxs-lookup"><span data-stu-id="58ce7-124">Hide Access in SPAD</span></span>](#hide-access-in-spad)
-   [<span data-ttu-id="58ce7-125">Registro para puntos de entrada de la aplicación</span><span class="sxs-lookup"><span data-stu-id="58ce7-125">Registering for Application Entry Points</span></span>](#registering-for-application-entry-points)
    -   [<span data-ttu-id="58ce7-126">Abrir con</span><span class="sxs-lookup"><span data-stu-id="58ce7-126">Open With</span></span>](#open-with)
    -   [<span data-ttu-id="58ce7-127">Menú Inicio y barra inicio rápido inicio</span><span class="sxs-lookup"><span data-stu-id="58ce7-127">Start Menu and Quick Launch Bar</span></span>](#start-menu-and-quick-launch-bar)
-   [<span data-ttu-id="58ce7-128">Instalación de la aplicación y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-128">Application Installation and Defaults</span></span>](#application-installation-and-defaults)
-   [<span data-ttu-id="58ce7-129">Actualizaciones de aplicaciones y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-129">Application Upgrades and Defaults</span></span>](#application-upgrades-and-defaults)
-   [<span data-ttu-id="58ce7-130">Ejecución de la primera aplicación y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-130">Application First Run and Defaults</span></span>](#application-first-run-and-defaults)
-   [<span data-ttu-id="58ce7-131">Comprobar los valores predeterminados y solicitar el consentimiento del usuario</span><span class="sxs-lookup"><span data-stu-id="58ce7-131">Verifying Defaults and Asking for User Consent</span></span>](#verifying-defaults-and-asking-for-user-consent)
-   [<span data-ttu-id="58ce7-132">Sugerencias de compatibilidad de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="58ce7-132">Application Compatibility Tips</span></span>](#application-compatibility-tips)
    -   [<span data-ttu-id="58ce7-133">Evitar desencadenar la virtualización Per-User virtualización</span><span class="sxs-lookup"><span data-stu-id="58ce7-133">Avoid Triggering Per-User Virtualization</span></span>](#avoid-triggering-per-user-virtualization)
    -   [<span data-ttu-id="58ce7-134">Evitar advertencias o bloques de AppCompat desde el Asistente para compatibilidad de programas</span><span class="sxs-lookup"><span data-stu-id="58ce7-134">Avoid AppCompat Warnings or Blocks from the Program Compatibility Assistant</span></span>](#avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant)
    -   [<span data-ttu-id="58ce7-135">Compatibilidad con versiones anteriores del sistema operativo Windows</span><span class="sxs-lookup"><span data-stu-id="58ce7-135">Support for Previous Windows Operating System Versions</span></span>](#support-for-previous-windows-operating-system-versions)
-   [<span data-ttu-id="58ce7-136">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="58ce7-136">Additional Resources</span></span>](#additional-resources)
-   [<span data-ttu-id="58ce7-137">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="58ce7-137">Related topics</span></span>](#related-topics)

## <a name="default-programs-item-in-control-panel"></a><span data-ttu-id="58ce7-138">Elemento de programas predeterminado en Panel de control</span><span class="sxs-lookup"><span data-stu-id="58ce7-138">Default Programs Item in Control Panel</span></span>

<span data-ttu-id="58ce7-139">**Programas predeterminados** es una característica introducida en Windows Vista, accesible directamente desde el **menú** Inicio y Panel de control.</span><span class="sxs-lookup"><span data-stu-id="58ce7-139">**Default Programs** is a feature introduced in Windows Vista, accessible directly from the **Start** menu as well as Control Panel.</span></span> <span data-ttu-id="58ce7-140">Proporciona una nueva infraestructura que funciona con privilegios de usuario estándar (no elevados) y está diseñada para permitir que los usuarios y las aplicaciones administren los valores predeterminados por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-140">It provides a new infrastructure that works with standard user privilege (not elevated) and is designed to enable users and applications to manage per-user defaults.</span></span> <span data-ttu-id="58ce7-141">Para los usuarios, los programas predeterminados proporcionan una manera unificada y fácil de acceder para administrar valores predeterminados, asociaciones de archivos y configuración de reproducción automática en todas las aplicaciones del sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-141">For users, Default Programs provides a unified and easily accessible way to manage defaults, file associations, and Autoplay settings across all applications on the system.</span></span> <span data-ttu-id="58ce7-142">Para las aplicaciones, el uso del ámbito por usuario proporcionado por las API de programas predeterminados ofrece las siguientes ventajas:</span><span class="sxs-lookup"><span data-stu-id="58ce7-142">For applications, using the per-user scope provided by the Default Programs APIs offers the following advantages:</span></span>

-   <span data-ttu-id="58ce7-143">**Sin elevación**</span><span class="sxs-lookup"><span data-stu-id="58ce7-143">**No Elevation**</span></span>

    <span data-ttu-id="58ce7-144">Una aplicación no tiene que elevar sus privilegios para reclamar los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="58ce7-144">An application does not have to elevate its privileges to claim defaults.</span></span>

-   <span data-ttu-id="58ce7-145">**Buena educación**</span><span class="sxs-lookup"><span data-stu-id="58ce7-145">**Good Citizenship**</span></span>

    <span data-ttu-id="58ce7-146">En un equipo de varios usuarios, cada usuario puede seleccionar diferentes aplicaciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="58ce7-146">On a multiple-user computer, each user can select different default applications.</span></span>

-   <span data-ttu-id="58ce7-147">**Administración predeterminada**</span><span class="sxs-lookup"><span data-stu-id="58ce7-147">**Default Management**</span></span>

    <span data-ttu-id="58ce7-148">Las API de programas predeterminadas ofrecen un mecanismo confiable y coherente para comprobar el estado predeterminado y reclamar la configuración perdida sin tener que escribir directamente en el registro.</span><span class="sxs-lookup"><span data-stu-id="58ce7-148">Default Programs APIs offer a reliable and consistent mechanism for self-checking the default status and reclaiming lost settings without resorting to writing directly to the registry.</span></span> <span data-ttu-id="58ce7-149">Sin embargo, a Windows 8, no se recomienda que las aplicaciones consulten el estado predeterminado porque una aplicación ya no puede cambiar la configuración predeterminada: esos cambios solo los puede realizar el usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-149">However, as of Windows 8, we do not recommended that applications query the default status because an application can no longer change the default settings—those changes can be made only by the user.</span></span>

<span data-ttu-id="58ce7-150">Para permitir que la aplicación administre los valores predeterminados de forma eficaz, debe registrar la aplicación como un programa predeterminado potencial.</span><span class="sxs-lookup"><span data-stu-id="58ce7-150">To enable your application to manage defaults effectively, you must register your application as a potential default program.</span></span> <span data-ttu-id="58ce7-151">Para obtener más información sobre el registro y el uso de las API de programas predeterminados, vea [Programas predeterminados.](default-programs.md)</span><span class="sxs-lookup"><span data-stu-id="58ce7-151">For details on registering and using the Default Programs APIs, see [Default Programs](default-programs.md).</span></span>

<span data-ttu-id="58ce7-152">Los programas predeterminados también proporcionan estas dos características:</span><span class="sxs-lookup"><span data-stu-id="58ce7-152">Default Programs also provides these two features:</span></span>

-   <span data-ttu-id="58ce7-153">**Interfaz de usuario de valores predeterminados reutilizables**</span><span class="sxs-lookup"><span data-stu-id="58ce7-153">**Reusable Defaults UI**</span></span>

    <span data-ttu-id="58ce7-154">La interfaz de usuario de los valores predeterminados del programa **(Establecer** los programas predeterminados) y las asociaciones de archivo (Asociar un tipo de archivo o protocolo **a** un programa) se pueden reutilizar y llamar desde dentro de una aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-154">The UI of both the program defaults (**Set your default programs**) and file associations (**Associate a file type or protocol with a program**) can be reused and called from within an application.</span></span> <span data-ttu-id="58ce7-155">Esto permite a las aplicaciones proporcionar una experiencia de usuario estándar para administrar los valores predeterminados y evitar que los ISV tengan que desarrollar una interfaz de usuario personalizada o equivalente.</span><span class="sxs-lookup"><span data-stu-id="58ce7-155">This enables applications to provide a standard user experience for managing defaults and saves ISVs from having to develop a custom or equivalent UI.</span></span>

-   <span data-ttu-id="58ce7-156">**Inclusión de la dirección URL y la información de marketing**</span><span class="sxs-lookup"><span data-stu-id="58ce7-156">**Inclusion of URL and Marketing Information**</span></span>

    <span data-ttu-id="58ce7-157">Como parte  de la página Establecer  los programas predeterminados del elemento Programas predeterminados de Panel de control, una aplicación puede proporcionar información de marketing y un vínculo al sitio web del proveedor.</span><span class="sxs-lookup"><span data-stu-id="58ce7-157">As part of the **Set your default programs** page of the **Default Programs** item in Control Panel, an application can provide marketing information and a link to the vendor's website.</span></span> <span data-ttu-id="58ce7-158">Esta dirección URL se deriva del certificado Authenticode con el que se ha firmado la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-158">This URL is derived from the Authenticode certificate that the application has been signed with.</span></span> <span data-ttu-id="58ce7-159">Esto evita el uso indebido y el reemplazo no autorizado de este vínculo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-159">This prevents misuse and unauthorized replacement of this link.</span></span> <span data-ttu-id="58ce7-160">Si una aplicación tiene un certificado Authenticode que incluye una dirección URL insertada, la interfaz de usuario de Windows muestra esa dirección URL insertada.</span><span class="sxs-lookup"><span data-stu-id="58ce7-160">If an application has an Authenticode certificate that includes an embedded URL, Windows UI displays that embedded URL.</span></span> <span data-ttu-id="58ce7-161">Los ISV deben aprovechar esta característica para dirigir a los usuarios a su sitio web para actualizaciones y otras descargas.</span><span class="sxs-lookup"><span data-stu-id="58ce7-161">ISVs should take advantage of this feature to direct users to their website for updates and other downloads.</span></span>

## <a name="set-program-access-and-computer-defaults"></a><span data-ttu-id="58ce7-162">Establecer el acceso al programa y los valores predeterminados del equipo</span><span class="sxs-lookup"><span data-stu-id="58ce7-162">Set Program Access and Computer Defaults</span></span>

<span data-ttu-id="58ce7-163">**Establecer el acceso a** programas y los valores predeterminados del equipo (SPAD) permite a los administradores administrar los valores predeterminados de todo el equipo heredados por todos los nuevos usuarios de ese equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-163">**Set Program Access and Computer Defaults** (SPAD) enables administrators to manage computer-wide defaults that are inherited by all new users of that computer.</span></span> <span data-ttu-id="58ce7-164">Antes de Windows 8, SPAD también permitía a los administradores reparar asociaciones de archivos en caso de que se rompían cuando se quitaban programas del sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-164">Prior to Windows 8, SPAD also enabled administrators to repair file associations should they become broken when programs were removed from the system.</span></span> <span data-ttu-id="58ce7-165">Sin embargo, a Windows 8, SPAD solo afecta a los valores predeterminados específicos del usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-165">However, as of Windows 8, SPAD affects only user-specific defaults.</span></span>

<span data-ttu-id="58ce7-166">Para obtener más información sobre el registro de una aplicación en SPAD, vea Trabajar con establecer el acceso a programas y los valores predeterminados del equipo [(SPAD)](cpl-setprogramaccess.md) y Registrar programas con [tipos de cliente](reg-middleware-apps.md).</span><span class="sxs-lookup"><span data-stu-id="58ce7-166">For more information on registering an application in SPAD, see [Working with Set Program Access and Computer Defaults (SPAD)](cpl-setprogramaccess.md) and [Registering Programs with Client Types](reg-middleware-apps.md).</span></span> <span data-ttu-id="58ce7-167">Los cambios específicos y las nuevas recomendaciones se analizan en las secciones siguientes.</span><span class="sxs-lookup"><span data-stu-id="58ce7-167">Specific changes and new recommendations are discussed in the sections that follow.</span></span>

### <a name="setting-defaults-in-spad"></a><span data-ttu-id="58ce7-168">Establecer valores predeterminados en SPAD</span><span class="sxs-lookup"><span data-stu-id="58ce7-168">Setting Defaults in SPAD</span></span>

<span data-ttu-id="58ce7-169">Los valores predeterminados por usuario invalidan los valores predeterminados por equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-169">Per-user defaults override per-computer defaults.</span></span>

-   <span data-ttu-id="58ce7-170">**Antes Windows 8:** los valores predeterminados establecidos en SPAD (que son por equipo) no los verán los usuarios si se establecen los valores predeterminados por usuario correspondientes.</span><span class="sxs-lookup"><span data-stu-id="58ce7-170">**Before Windows 8**: Defaults set in SPAD (which are per-computer) will not be seen by users if corresponding per-user defaults are set.</span></span> <span data-ttu-id="58ce7-171">Si un usuario no ha establecido un valor predeterminado por usuario, el sistema usa el valor predeterminado del equipo correspondiente.</span><span class="sxs-lookup"><span data-stu-id="58ce7-171">If a user has not set a per-user default, the system uses the corresponding computer default.</span></span> <span data-ttu-id="58ce7-172">Las nuevas cuentas de usuario de un equipo heredan inicialmente los valores predeterminados del equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-172">New user accounts on a computer initially inherit the computer defaults.</span></span> <span data-ttu-id="58ce7-173">La primera vez que un usuario ejecuta una aplicación, la aplicación debe pedir al usuario que asigne sus valores predeterminados por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-173">The first time a user runs an application, the application should prompt the user to assign their per-user defaults.</span></span> <span data-ttu-id="58ce7-174">Vea [Application First Run (Primera ejecución de la aplicación) y Defaults (Valores predeterminados).](#application-first-run-and-defaults)</span><span class="sxs-lookup"><span data-stu-id="58ce7-174">See [Application First Run and Defaults](#application-first-run-and-defaults).</span></span>
-   <span data-ttu-id="58ce7-175">**A Windows 8:** todos los valores predeterminados son por usuario y se omite cualquier configuración predeterminada por equipo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-175">**As of Windows 8**: All defaults are per-user and any per-computer default setting is ignored.</span></span> <span data-ttu-id="58ce7-176">Las aplicaciones ya no pueden establecer opciones predeterminadas, por lo que no pueden guían al usuario a través de la asignación de esos valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="58ce7-176">Applications can no longer set default choices, so they cannot walk the user through their assigning of those defaults.</span></span>

<span data-ttu-id="58ce7-177">Cuando una aplicación de Windows 8 implementa **Establecer** como predeterminado en SPAD, se deben seguir estas directrices:</span><span class="sxs-lookup"><span data-stu-id="58ce7-177">When a pre-Windows 8 application implements **Set as Default** in SPAD, these guidelines should be followed:</span></span>

-   <span data-ttu-id="58ce7-178">Las aplicaciones solo deben reclamar valores predeterminados de nivel de equipo a través de SPAD.</span><span class="sxs-lookup"><span data-stu-id="58ce7-178">Applications should claim only computer-level defaults through SPAD.</span></span>
-   <span data-ttu-id="58ce7-179">Las aplicaciones *no deben* reclamar valores predeterminados por usuario a través de SPAD.</span><span class="sxs-lookup"><span data-stu-id="58ce7-179">Applications should *not* claim per-user defaults through SPAD.</span></span>

<span data-ttu-id="58ce7-180">Cuando una Windows 8 implementa **Establecer** como predeterminado en SPAD, debe registrar sus tipos de archivo y protocolos en Programas predeterminados [,](default-programs.md)con el mismo nombre de aplicación que se usa en SPAD.</span><span class="sxs-lookup"><span data-stu-id="58ce7-180">When a Windows 8 application implements **Set as Default** in SPAD, they must register their file types and protocols in [Default Programs](default-programs.md), using the same application name used in SPAD.</span></span> <span data-ttu-id="58ce7-181">Esto permite que un cambio en SPAD se refleje como un cambio en la entrada Programas predeterminados correspondiente para el usuario actual.</span><span class="sxs-lookup"><span data-stu-id="58ce7-181">This allows a change in SPAD to reflect as a change in the corresponding Default Programs entry for the current user.</span></span>

### <a name="hide-access-in-spad"></a><span data-ttu-id="58ce7-182">Ocultar el acceso en SPAD</span><span class="sxs-lookup"><span data-stu-id="58ce7-182">Hide Access in SPAD</span></span>

<span data-ttu-id="58ce7-183">Se tiene acceso a la opción ocultar acceso para cada posible valor predeterminado en SPAD de una de estas dos maneras:</span><span class="sxs-lookup"><span data-stu-id="58ce7-183">The hide access option for each possible default in SPAD is accessed in one of two ways:</span></span>

-   <span data-ttu-id="58ce7-184">Elija la categoría de valores predeterminados que no son de **Microsoft,** que quita el acceso a todos los valores predeterminados de Microsoft.</span><span class="sxs-lookup"><span data-stu-id="58ce7-184">Choose the **Non-Microsoft** category of defaults, which removes access to all Microsoft defaults.</span></span>
-   <span data-ttu-id="58ce7-185">Elija la **categoría** Personalizado y desactive la **casilla Habilitar el** acceso a este programa.</span><span class="sxs-lookup"><span data-stu-id="58ce7-185">Choose the **Custom** category and clear the **Enable access to this program** check box.</span></span>

<span data-ttu-id="58ce7-186">Anteriormente, al realizar cualquiera de esas acciones se quitaba todos los puntos de entrada a las aplicaciones adecuadas del sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-186">Previously, taking either of those actions removed all entry points to the appropriate applications on the system.</span></span> <span data-ttu-id="58ce7-187">Las directrices específicas para esta situación indican quitar accesos directos e iconos de las siguientes ubicaciones:</span><span class="sxs-lookup"><span data-stu-id="58ce7-187">Specific guidelines for this situation say to remove shortcuts and icons from the following locations:</span></span>

-   <span data-ttu-id="58ce7-188">Escritorio</span><span class="sxs-lookup"><span data-stu-id="58ce7-188">Desktop</span></span>
-   <span data-ttu-id="58ce7-189">Menú Inicio</span><span class="sxs-lookup"><span data-stu-id="58ce7-189">Start menu</span></span>
-   <span data-ttu-id="58ce7-190">inicio rápido (solo Windows Vista y versiones anteriores)</span><span class="sxs-lookup"><span data-stu-id="58ce7-190">Quick Launch bar (Windows Vista and earlier only)</span></span>
-   <span data-ttu-id="58ce7-191">Área de notificaciones</span><span class="sxs-lookup"><span data-stu-id="58ce7-191">Notification area</span></span>
-   <span data-ttu-id="58ce7-192">Menús contextuales</span><span class="sxs-lookup"><span data-stu-id="58ce7-192">Shortcut menus</span></span>
-   <span data-ttu-id="58ce7-193">Banda de tareas de carpeta</span><span class="sxs-lookup"><span data-stu-id="58ce7-193">Folder task band</span></span>

<span data-ttu-id="58ce7-194">Se recomienda a los proveedores implementar estas directrices en la función de devolución de llamada Ocultar acceso de la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-194">Vendors are encouraged to implement these guidelines in the application's Hide Access callback function.</span></span>

### <a name="alternate-hide-access-method-in-spad"></a><span data-ttu-id="58ce7-195">Método de acceso hide alternativo en SPAD</span><span class="sxs-lookup"><span data-stu-id="58ce7-195">Alternate Hide Access Method in SPAD</span></span>

<span data-ttu-id="58ce7-196">Para algunas aplicaciones heredadas, una implementación completa de Ocultar acceso puede no ser práctica.</span><span class="sxs-lookup"><span data-stu-id="58ce7-196">For some legacy applications, a full implementation of Hide Access may not be practical.</span></span> <span data-ttu-id="58ce7-197">Un método alternativo que logra el mismo efecto, pero que el usuario no puede reversibler fácilmente, es desinstalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-197">An alternate method that achieves the same effect, but is not easily reversible by the user, is to uninstall the application.</span></span> <span data-ttu-id="58ce7-198">A continuación se muestra el comportamiento de ejemplo y el código de ejemplo para implementarlo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-198">The following shows sample behavior and example code to implement this.</span></span>

<span data-ttu-id="58ce7-199">La experiencia de usuario recomendada para esta alternativa es la siguiente:</span><span class="sxs-lookup"><span data-stu-id="58ce7-199">The recommended user experience for this alternative is as follows:</span></span>

-   <span data-ttu-id="58ce7-200">Cuando el usuario desactive la casilla Habilitar acceso a **este programa** en SPAD, se presenta la siguiente interfaz de usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-200">When the user clears the **Enable access to this program** box in SPAD, the following UI is presented.</span></span>

    ![vista dialog box about hiding access to program (Cuadro de diálogo de vista sobre cómo ocultar el acceso al programa)](images/hideaccessvista.png)

-   <span data-ttu-id="58ce7-202">Cuando el usuario hace  clic en **Aceptar,** se muestra el elemento Programas y características Panel de control para que el usuario pueda desinstalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-202">When the user clicks **OK**, the **Programs and Features** item in Control Panel is displayed so that the user can uninstall the application.</span></span>
-   <span data-ttu-id="58ce7-203">Los usuarios de Windows XP deben presentar el siguiente cuadro de diálogo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-203">Windows XP users should be presented with the following dialog box.</span></span>

    ![cuadro de diálogo de Windows XP sobre cómo ocultar el acceso al programa](images/hideaccessxp.png)

-   <span data-ttu-id="58ce7-205">Cuando el usuario de Windows  XP hace clic en **Aceptar,** se muestra el elemento Agregar o quitar programas de Panel de control para que el usuario pueda desinstalar la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-205">When the Windows XP user clicks **OK**, the **Add or Remove Programs** item in Control Panel is displayed so that the user can uninstall the application.</span></span>

<span data-ttu-id="58ce7-206">El código siguiente proporciona una implementación reutilizable para la característica Ocultar acceso como se ha descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="58ce7-206">The following code provides a reusable implementation for the Hide Access feature as outlined previously.</span></span> <span data-ttu-id="58ce7-207">Se puede usar en Windows XP, Windows Vista y Windows 7.</span><span class="sxs-lookup"><span data-stu-id="58ce7-207">It can be used on Windows XP, Windows Vista, and Windows 7.</span></span>


```
#include <windows.h>
#include <shlwapi.h>
#include <strsafe.h>

PCWSTR c_pszMessage1 = L"To hide access to this program, you need to uninstall it by ";
PCWSTR c_pszMessage2 = L"using\n%s in Control Panel.\n\nWould you like to start %s?";
PCWSTR c_pszApplicationName  = L"Sample App";

int _tmain(int argc, WCHAR* argv[])
{
    OSVERSIONINFO version;
    version.dwOSVersionInfoSize = sizeof(version);

    if (GetVersionEx(&version))
    {
        PCWSTR pszCPLName = NULL;

        if (version.dwMajorVersion >= 6)
        {
            // Windows Vista and later
            pszCPLName = L"Programs and Features";
        }
        else if (version.dwMajorVersion == 5 &&
                 version.dwMinorVersion == 1)
        {
            // XP
            pszCPLName = L"Add/Remove Programs";
        }

        if (pszCPLName != NULL)
        {
            WCHAR szMessage[256], szScratch[256];
            if (SUCCEEDED(StringCchPrintf(szScratch, 
                                          ARRAYSIZE(szScratch), 
                                          c_pszMessage2, 
                                          pszCPLName, 
                                          pszCPLName)))
            {
                if (SUCCEEDED(StringCchCopy(szMessage, 
                                            ARRAYSIZE(szMessage), 
                                            c_pszMessage1)))
                {
                    if (SUCCEEDED(StringCchCat(szMessage, 
                                               ARRAYSIZE(szMessage), 
                                               szScratch)))
                    {
                        if (IDOK == MessageBox(NULL, 
                                               szMessage, 
                                               c_pszApplicationName, 
                                               MB_OKCANCEL))
                        {
                            ShellExecute(NULL, 
                                         NULL, 
                                         L"appwiz.cpl", 
                                         NULL, 
                                         NULL, 
                                         SW_SHOWNORMAL);
                        }
                    }
                }
            }
        }
    }
    return 0;
}
```



## <a name="registering-for-application-entry-points"></a><span data-ttu-id="58ce7-208">Registro para puntos de entrada de la aplicación</span><span class="sxs-lookup"><span data-stu-id="58ce7-208">Registering for Application Entry Points</span></span>

<span data-ttu-id="58ce7-209">Una aplicación puede tener muchos puntos de entrada dentro del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-209">An application can have many entry points within the operating system.</span></span> <span data-ttu-id="58ce7-210">A continuación se recomiendan ubicaciones para los puntos de entrada:</span><span class="sxs-lookup"><span data-stu-id="58ce7-210">The following are recommended locations for entry points:</span></span>

-   <span data-ttu-id="58ce7-211">Escritorio</span><span class="sxs-lookup"><span data-stu-id="58ce7-211">Desktop</span></span>
-   <span data-ttu-id="58ce7-212">Menú Inicio</span><span class="sxs-lookup"><span data-stu-id="58ce7-212">Start menu</span></span>
-   <span data-ttu-id="58ce7-213">inicio rápido (solo Windows Vista y versiones anteriores)</span><span class="sxs-lookup"><span data-stu-id="58ce7-213">Quick Launch bar (Windows Vista and earlier only)</span></span>
-   <span data-ttu-id="58ce7-214">Área de notificaciones</span><span class="sxs-lookup"><span data-stu-id="58ce7-214">Notification area</span></span>
-   <span data-ttu-id="58ce7-215">Menús contextuales</span><span class="sxs-lookup"><span data-stu-id="58ce7-215">Shortcut menus</span></span>
-   <span data-ttu-id="58ce7-216">Banda de tareas de carpeta</span><span class="sxs-lookup"><span data-stu-id="58ce7-216">Folder task band</span></span>

<span data-ttu-id="58ce7-217">Esta sección se centra en estas áreas específicas:</span><span class="sxs-lookup"><span data-stu-id="58ce7-217">This section focuses on these specific areas:</span></span>

-   [<span data-ttu-id="58ce7-218">Abrir con</span><span class="sxs-lookup"><span data-stu-id="58ce7-218">Open With</span></span>](#open-with)
-   [<span data-ttu-id="58ce7-219">Menú Inicio y barra inicio rápido inicio</span><span class="sxs-lookup"><span data-stu-id="58ce7-219">Start Menu and Quick Launch Bar</span></span>](#start-menu-and-quick-launch-bar)

### <a name="open-with"></a><span data-ttu-id="58ce7-220">Abrir con</span><span class="sxs-lookup"><span data-stu-id="58ce7-220">Open With</span></span>

<span data-ttu-id="58ce7-221">El **menú contextual Abrir con** permite al usuario seleccionar una aplicación que pueda controlar un tipo de archivo específico.</span><span class="sxs-lookup"><span data-stu-id="58ce7-221">The **Open With** shortcut menu enables the user to select an application that can handle a specific file type.</span></span> <span data-ttu-id="58ce7-222">Aunque **Abrir con** se puede usar para abrir un archivo con una aplicación una vez, también se puede usar para establecer el valor predeterminado para esa extensión de nombre de archivo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-222">While **Open With** can be used to open a file with an application one time, it can also be used to set the default for that file name extension.</span></span> <span data-ttu-id="58ce7-223">Por lo tanto, una aplicación siempre debe registrarse **para Abrir con** para que los usuarios se presenten con esa aplicación como opción.</span><span class="sxs-lookup"><span data-stu-id="58ce7-223">Therefore, an application should always register for **Open With** so that users are presented with that application as a choice.</span></span> <span data-ttu-id="58ce7-224">Las aplicaciones pueden registrar tipos de archivo y protocolos para **Abrir con**.</span><span class="sxs-lookup"><span data-stu-id="58ce7-224">Applications can register both file types and protocols for **Open With**.</span></span> <span data-ttu-id="58ce7-225">Las aplicaciones que registran protocolos en el marco programas predeterminados se agregan automáticamente a las opciones **Abrir** con para los protocolos.</span><span class="sxs-lookup"><span data-stu-id="58ce7-225">Applications that register protocols in the Default Programs framework are automatically added to the **Open With** options for protocols.</span></span>

<span data-ttu-id="58ce7-226">Para obtener información sobre cómo registrarse **para Abrir con**, vea Introducción a las asociaciones de [archivos](fa-intro.md).</span><span class="sxs-lookup"><span data-stu-id="58ce7-226">For information on registering for **Open With**, see [Introduction to File Associations](fa-intro.md).</span></span>

### <a name="start-menu-and-quick-launch-bar"></a><span data-ttu-id="58ce7-227">Menú Inicio y barra inicio rápido inicio</span><span class="sxs-lookup"><span data-stu-id="58ce7-227">Start Menu and Quick Launch Bar</span></span>

<span data-ttu-id="58ce7-228">Para que el usuario sea más reconocible, las aplicaciones pueden agregar accesos directos a varias ubicaciones de Windows.</span><span class="sxs-lookup"><span data-stu-id="58ce7-228">To become more discoverable to the user, applications can add shortcuts to various locations in Windows.</span></span> <span data-ttu-id="58ce7-229">El lugar más común para agregar un acceso directo es el **menú** Inicio.</span><span class="sxs-lookup"><span data-stu-id="58ce7-229">The most common place to add a shortcut is the **Start** menu.</span></span> <span data-ttu-id="58ce7-230">En Windows Vista y versiones posteriores, una aplicación crea un acceso directo en la carpeta oculta %ProgramData% Programas del menú Inicio de Microsoft Windows para que aparezca en la lista de programas del menú Inicio para todos los \\ \\ \\ \\ usuarios. </span><span class="sxs-lookup"><span data-stu-id="58ce7-230">In Windows Vista and later, an application creates a shortcut in the hidden folder %ProgramData%\\Microsoft\\Windows\\Start Menu\\Programs to appear in the **Start** menu's list of programs for all users.</span></span> <span data-ttu-id="58ce7-231">Normalmente, una aplicación agrega una subcarpeta que contiene el acceso directo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-231">Commonly, an application adds a subfolder that contains the shortcut.</span></span>

<span data-ttu-id="58ce7-232">Para los programas de explorador y correo electrónico, el menú Inicio de Windows **Vista** también presenta dos vínculos dedicados fuera de la lista de programas, con el título de **Internet** y **correo electrónico.**</span><span class="sxs-lookup"><span data-stu-id="58ce7-232">For browser and email programs, the Windows Vista **Start** menu also presents two dedicated links outside of the program list, canonically titled **Internet** and **E-mail**.</span></span> <span data-ttu-id="58ce7-233">Una vez que una aplicación se registra para esas categorías, el marco programas predeterminados puede administrar lo que se inicia a través de esos vínculos.</span><span class="sxs-lookup"><span data-stu-id="58ce7-233">After an application registers for those categories, the Default Programs framework can manage what is launched through those links.</span></span>

> [!Note]  
> <span data-ttu-id="58ce7-234">Los **vínculos** de  **menú** Inicio dedicados de Internet y correo electrónico ya no están presentes a partir de Windows 7.</span><span class="sxs-lookup"><span data-stu-id="58ce7-234">The **Internet** and **E-mail** dedicated **Start** menu links are no longer present as of Windows 7.</span></span>

 

<span data-ttu-id="58ce7-235">Para aumentar aún más la detectabilidad, las aplicaciones también pueden agregar accesos directos al escritorio y a la inicio rápido configuración.</span><span class="sxs-lookup"><span data-stu-id="58ce7-235">To further increase discoverability, applications can also add shortcuts to the desktop and the Quick Launch bar.</span></span> <span data-ttu-id="58ce7-236">Las aplicaciones deben pedir permiso al usuario (normalmente durante la instalación  o en la primera ejecución) antes de agregar un icono al menú Inicio, al escritorio o a inicio rápido barra.</span><span class="sxs-lookup"><span data-stu-id="58ce7-236">Applications should ask the user for permission (usually during installation or on first run) before adding an icon to the **Start** menu, desktop, or Quick Launch bar.</span></span>

> [!Note]  
> <span data-ttu-id="58ce7-237">La inicio rápido ya no está disponible a partir de Windows 7.</span><span class="sxs-lookup"><span data-stu-id="58ce7-237">The Quick Launch bar is no longer available as of Windows 7.</span></span> <span data-ttu-id="58ce7-238">La alternativa de Windows 7 es que la aplicación esté anclada a la barra de tareas, pero la anclación no se puede realizar mediante programación, ya que es estrictamente una opción del usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-238">The Windows 7 alternative is to have the application pinned to the Taskbar, but pinning cannot be done programmatically as it is strictly a user choice.</span></span>

 

<span data-ttu-id="58ce7-239">Para más información, consulte los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="58ce7-239">For more information, see these topics:</span></span>

-   [<span data-ttu-id="58ce7-240">Cómo registrar un explorador de Internet o un cliente de correo electrónico con el menú Inicio de Windows</span><span class="sxs-lookup"><span data-stu-id="58ce7-240">How to Register an Internet Browser or Email Client With the Windows Start Menu</span></span>](start-menu-reg.md)
-   [<span data-ttu-id="58ce7-241">Registro de programas con tipos de cliente</span><span class="sxs-lookup"><span data-stu-id="58ce7-241">Registering Programs with Client Types</span></span>](reg-middleware-apps.md)

## <a name="application-installation-and-defaults"></a><span data-ttu-id="58ce7-242">Instalación de la aplicación y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-242">Application Installation and Defaults</span></span>

<span data-ttu-id="58ce7-243">Los procedimientos de instalación de aplicaciones no han cambiado fundamentalmente desde Windows XP, a excepción de una nueva guía para los sistemas que ejecutan versiones de Windows anteriores a Windows 8: tome los valores predeterminados por equipo en el momento de la instalación, pero no establezca ningún valor predeterminado por usuario hasta que ese usuario ejecute la aplicación por primera vez.</span><span class="sxs-lookup"><span data-stu-id="58ce7-243">Application installation procedures have not fundamentally changed since Windows XP, with the exception of a new guideline for systems running versions of Windows older than Windows 8: take per-computer defaults at installation time but do not set any per-user defaults until that user first runs the application.</span></span> <span data-ttu-id="58ce7-244">(Vea [Application First Run (Primera ejecución de la aplicación) y Defaults (Valores predeterminados).](#application-first-run-and-defaults) Las aplicaciones no deben establecer valores predeterminados por usuario durante la instalación porque hay situaciones en las que la persona que instala la aplicación no es el usuario previsto.</span><span class="sxs-lookup"><span data-stu-id="58ce7-244">(See [Application First Run and Defaults](#application-first-run-and-defaults).) Applications should not set per-user defaults during installation because there are situations in which the person installing the application is not the intended user.</span></span> <span data-ttu-id="58ce7-245">A Windows 8, no se admiten los valores predeterminados por equipo y las aplicaciones no pueden cambiar la configuración predeterminada por usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-245">As of Windows 8, per-computer defaults are not supported and applications cannot change per-user default settings.</span></span>

<span data-ttu-id="58ce7-246">Durante la instalación, una aplicación debe copiar sus archivos binarios en el disco duro y escribir sus ProgID en el Registro.</span><span class="sxs-lookup"><span data-stu-id="58ce7-246">During installation, an application should copy its binaries to the hard disk and write its ProgIDs to the registry.</span></span> <span data-ttu-id="58ce7-247">La aplicación también debe registrarse en Programas predeterminados y **Abrir** con en este momento para cada asociación de archivos que sea candidata para controlar.</span><span class="sxs-lookup"><span data-stu-id="58ce7-247">The application should also register for Default Programs and **Open With** at this time for every file association it is a candidate to handle.</span></span> <span data-ttu-id="58ce7-248">La aplicación puede usar la subclave **OpenWithProgIds** para registrarse con **Open With**.</span><span class="sxs-lookup"><span data-stu-id="58ce7-248">The application can use the **OpenWithProgIds** subkey to register with **Open With**.</span></span>

<span data-ttu-id="58ce7-249">Para más información, consulte los temas siguientes:</span><span class="sxs-lookup"><span data-stu-id="58ce7-249">For more information, see these topics:</span></span>

-   [<span data-ttu-id="58ce7-250">Programas predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-250">Default Programs</span></span>](default-programs.md)
-   [<span data-ttu-id="58ce7-251">Introducción a las asociaciones de archivos</span><span class="sxs-lookup"><span data-stu-id="58ce7-251">Introduction to File Associations</span></span>](fa-intro.md)

## <a name="application-upgrades-and-defaults"></a><span data-ttu-id="58ce7-252">Actualizaciones de aplicaciones y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-252">Application Upgrades and Defaults</span></span>

<span data-ttu-id="58ce7-253">Muchas aplicaciones tienen la capacidad de actualizarse a sí mismas a lo largo del tiempo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-253">Many applications have the ability to upgrade themselves over time.</span></span> <span data-ttu-id="58ce7-254">Este procedimiento de actualización no debe cambiar el estado de los valores predeterminados por usuario porque ese cambio sería inesperado para el usuario.</span><span class="sxs-lookup"><span data-stu-id="58ce7-254">This upgrade procedure should not change the state of per-user defaults because that change would be unexpected to the user.</span></span> <span data-ttu-id="58ce7-255">Sin embargo, es aceptable que una aplicación compruebe las asociaciones de archivos de nivel de equipo y las repare si se han dañado.</span><span class="sxs-lookup"><span data-stu-id="58ce7-255">However, it is acceptable for an application to check computer-level file associations and repair them if they have been corrupted.</span></span>

## <a name="application-first-run-and-defaults"></a><span data-ttu-id="58ce7-256">Ejecución de la primera aplicación y valores predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-256">Application First Run and Defaults</span></span>

> [!Note]  
> <span data-ttu-id="58ce7-257">A Windows 8, el sistema controla este procedimiento en nombre de todas las aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="58ce7-257">As of Windows 8, the system handles this procedure on behalf of all applications.</span></span> <span data-ttu-id="58ce7-258">Las aplicaciones ya no pueden consultar ni cambiar los valores predeterminados.</span><span class="sxs-lookup"><span data-stu-id="58ce7-258">Applications themselves can no longer query and change defaults.</span></span> <span data-ttu-id="58ce7-259">Solo el usuario puede hacerlo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-259">Only the user can do that.</span></span> <span data-ttu-id="58ce7-260">Por lo tanto, las aplicaciones no deben intentar consultar el valor predeterminado actual ni cambiar ese valor predeterminado mediante ningún mecanismo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-260">Therefore, applications should not attempt to query for the current default or change that default through any mechanism.</span></span> <span data-ttu-id="58ce7-261">Sin embargo, las aplicaciones pueden proporcionar un punto de entrada a Programas predeterminados en el Panel de control llamando al método [**LaunchAdvancedAssociationUI**](/windows/desktop/api/Shobjidl/nf-shobjidl-iapplicationassociationregistrationui-launchadvancedassociationui) de la interfaz [**IApplicationAssociationRegistrationUI.**](/windows/desktop/api/Shobjidl/nn-shobjidl-iapplicationassociationregistrationui)</span><span class="sxs-lookup"><span data-stu-id="58ce7-261">However, applications can provide an entry point to Default Programs in the Control Panel by calling the [**LaunchAdvancedAssociationUI**](/windows/desktop/api/Shobjidl/nf-shobjidl-iapplicationassociationregistrationui-launchadvancedassociationui) method of the [**IApplicationAssociationRegistrationUI**](/windows/desktop/api/Shobjidl/nn-shobjidl-iapplicationassociationregistrationui) interface.</span></span>

 

<span data-ttu-id="58ce7-262">Con la introducción de los valores predeterminados por usuario en Windows Vista, es importante que las aplicaciones que concursan por extensiones de nombre de archivo populares proporcionen una experiencia de usuario común para reclamar estas extensiones.</span><span class="sxs-lookup"><span data-stu-id="58ce7-262">With the introduction of per-user defaults in Windows Vista, it is important that applications that contest for popular file name extensions all provide a common user experience to claim these extensions.</span></span> <span data-ttu-id="58ce7-263">Dado que estos valores predeterminados ahora se establecen en el contexto del usuario, deben presentarse como una posibilidad predeterminada solo cuando el usuario ejecuta el programa después de la instalación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-263">Because these defaults are now set in the context of the user, they should present themselves as a default possibility only when the user runs the program after installation.</span></span>

<span data-ttu-id="58ce7-264">La guía para establecer los valores predeterminados por usuario es esta: cuando una aplicación se ejecuta por primera vez para un usuario específico, esa aplicación debe solicitar preferencias de usuario para los valores predeterminados y las asociaciones de archivo para sí misma.</span><span class="sxs-lookup"><span data-stu-id="58ce7-264">The guideline for establishing per-user defaults is this: When an application is first run for a specific user, that application should request user preferences for defaults and file associations for itself.</span></span>

<span data-ttu-id="58ce7-265">La interfaz de usuario recomendada debe proporcionar dos opciones claras al usuario:</span><span class="sxs-lookup"><span data-stu-id="58ce7-265">The recommended UI should provide two clear choices to the user:</span></span>

1.  <span data-ttu-id="58ce7-266">Acepte todos los valores predeterminados que la aplicación desea reclamar.</span><span class="sxs-lookup"><span data-stu-id="58ce7-266">Accept all defaults that the application would like to claim.</span></span> <span data-ttu-id="58ce7-267">Esta opción también puede establecer otras propiedades predeterminadas de la aplicación, como la privacidad o la configuración de actualización automática.</span><span class="sxs-lookup"><span data-stu-id="58ce7-267">This option might also set other default properties of the application such as privacy or automatic update settings.</span></span> <span data-ttu-id="58ce7-268">Esta opción permite que la aplicación reclame todos sus valores predeterminados registrados.</span><span class="sxs-lookup"><span data-stu-id="58ce7-268">This option allows the application to claim all of its registered defaults.</span></span>
2.  <span data-ttu-id="58ce7-269">Personalice aceptando o no las selecciones predeterminadas y la configuración del programa individualmente.</span><span class="sxs-lookup"><span data-stu-id="58ce7-269">Customize by accepting or not accepting default selections and program settings individually.</span></span> <span data-ttu-id="58ce7-270">Esta opción presenta una interfaz de usuario adicional que permite al usuario tomar opciones pormenorizados para sus opciones predeterminadas.</span><span class="sxs-lookup"><span data-stu-id="58ce7-270">This option presents further UI that enables the user to make granular choices for their default options.</span></span>

<span data-ttu-id="58ce7-271">Para obtener más información, vea [Programas predeterminados.](default-programs.md)</span><span class="sxs-lookup"><span data-stu-id="58ce7-271">For more information, see [Default Programs](default-programs.md).</span></span>

## <a name="verifying-defaults-and-asking-for-user-consent"></a><span data-ttu-id="58ce7-272">Comprobar los valores predeterminados y solicitar el consentimiento del usuario</span><span class="sxs-lookup"><span data-stu-id="58ce7-272">Verifying Defaults and Asking for User Consent</span></span>

> [!Note]  
> <span data-ttu-id="58ce7-273">Esto no se admite a Windows 8.</span><span class="sxs-lookup"><span data-stu-id="58ce7-273">This is not supported as of Windows 8.</span></span>

 

<span data-ttu-id="58ce7-274">Una vez que una aplicación se registra con programas predeterminados en Windows Vista y versiones posteriores, ciertas API estarán disponibles para la aplicación.</span><span class="sxs-lookup"><span data-stu-id="58ce7-274">After an application registers with Default Programs in Windows Vista and later, certain APIs become available to the application.</span></span> <span data-ttu-id="58ce7-275">Por ejemplo, es posible que una aplicación tenga que comprobar si es el programa predeterminado.</span><span class="sxs-lookup"><span data-stu-id="58ce7-275">For instance, an application might need to check whether it is the default program.</span></span> <span data-ttu-id="58ce7-276">La [**interfaz IApplicationAssociationRegistration proporciona**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iapplicationassociationregistration) métodos para ello.</span><span class="sxs-lookup"><span data-stu-id="58ce7-276">The [**IApplicationAssociationRegistration**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iapplicationassociationregistration) interface provides methods to do this.</span></span>

<span data-ttu-id="58ce7-277">Cualquier aplicación que quiera reclamar valores predeterminados debe preguntar primero al usuario y nunca reclamar los valores predeterminados sin permiso.</span><span class="sxs-lookup"><span data-stu-id="58ce7-277">Any application that wants to claim defaults must first ask the user and never claim defaults without permission.</span></span> <span data-ttu-id="58ce7-278">Se debe preguntar al usuario si quiere que la aplicación sea el valor predeterminado o dejar el valor predeterminado actual en su lugar.</span><span class="sxs-lookup"><span data-stu-id="58ce7-278">The user should be asked whether they want to make the application the default or leave the current default in place.</span></span> <span data-ttu-id="58ce7-279">También debe haber una opción para no volver a hacer esta pregunta después de que el usuario haya elegido.</span><span class="sxs-lookup"><span data-stu-id="58ce7-279">There should also be an option not to be asked this question again after the user has made their choice.</span></span>

<span data-ttu-id="58ce7-280">Para obtener más información, vea [Programas predeterminados.](default-programs.md)</span><span class="sxs-lookup"><span data-stu-id="58ce7-280">For more information, see [Default Programs](default-programs.md).</span></span>

## <a name="application-compatibility-tips"></a><span data-ttu-id="58ce7-281">Sugerencias de compatibilidad de aplicaciones</span><span class="sxs-lookup"><span data-stu-id="58ce7-281">Application Compatibility Tips</span></span>

<span data-ttu-id="58ce7-282">En esta sección se proporcionan algunas sugerencias de compatibilidad de aplicaciones relacionadas con la experiencia programas predeterminados en Windows.</span><span class="sxs-lookup"><span data-stu-id="58ce7-282">This section provides some application compatibility tips related to the Default Programs experience in Windows.</span></span>

### <a name="avoid-triggering-per-user-virtualization"></a><span data-ttu-id="58ce7-283">Evitar desencadenar la virtualización Per-User virtualización</span><span class="sxs-lookup"><span data-stu-id="58ce7-283">Avoid Triggering Per-User Virtualization</span></span>

<span data-ttu-id="58ce7-284">Con el entorno de control de cuentas de usuario (UAC), las aplicaciones siempre deben ejecutarse con solo derechos de usuario estándar para obtener la mejor experiencia del cliente.</span><span class="sxs-lookup"><span data-stu-id="58ce7-284">With the user account control (UAC) environment, applications should always run with only standard user rights for the best customer experience.</span></span> <span data-ttu-id="58ce7-285">Por motivos de seguridad, las aplicaciones con un nivel de privilegio de usuario estándar no pueden escribir en determinadas partes del Registro y en determinados archivos del sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-285">For security reasons, applications with a standard user privilege level are blocked from writing to certain parts of the registry and to certain system files.</span></span> <span data-ttu-id="58ce7-286">Windows Vista y versiones posteriores de Windows proporcionan una capa de compatibilidad temporal de aplicaciones (AppCompat) para ayudar a las aplicaciones a realizar la transición.</span><span class="sxs-lookup"><span data-stu-id="58ce7-286">Windows Vista and later versions of Windows provide a temporary application compatibility (AppCompat) layer to help applications make the transition.</span></span> <span data-ttu-id="58ce7-287">Los intentos bloqueados de escribir en el Registro o en los archivos del sistema se "virtualizan" para que la aplicación siga en ejecución, pero no se modifican las áreas confidenciales del sistema.</span><span class="sxs-lookup"><span data-stu-id="58ce7-287">Blocked attempts to write to the registry or to system files are "virtualized" so that the application continues to run, but the sensitive areas of the system are not altered.</span></span> <span data-ttu-id="58ce7-288">Sin embargo, las aplicaciones no deben basarse en la tecnología AppCompat como una solución a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-288">However, applications should not rely on the AppCompat technology as a long-term solution.</span></span> <span data-ttu-id="58ce7-289">En su lugar, las aplicaciones deben usar las muchas herramientas disponibles para comprobar que se pueden ejecutar correctamente con derechos de usuario estándar.</span><span class="sxs-lookup"><span data-stu-id="58ce7-289">Instead, applications should use the many available tools to verify that they can run successfully under standard user rights.</span></span> <span data-ttu-id="58ce7-290">Es posible que sea necesario realizar alguna reprogramación de la aplicación para lograr esto, pero debe realizarse en a favor de la compatibilidad a largo plazo.</span><span class="sxs-lookup"><span data-stu-id="58ce7-290">Some reprogramming of the application might be required to accomplish this, but it should be done in the interest of long-term compatibility.</span></span>

### <a name="avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant"></a><span data-ttu-id="58ce7-291">Evitar advertencias o bloques de AppCompat desde el Asistente para compatibilidad de programas</span><span class="sxs-lookup"><span data-stu-id="58ce7-291">Avoid AppCompat Warnings or Blocks from the Program Compatibility Assistant</span></span>

<span data-ttu-id="58ce7-292">El Asistente para la compatibilidad de programas (PCA) se proporciona en Windows Vista y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="58ce7-292">The Program Compatibility Assistant (PCA) is provided in Windows Vista and later.</span></span> <span data-ttu-id="58ce7-293">Su propósito es proporcionar un método automatizado para mejorar el funcionamiento de los programas antiguos con problemas de compatibilidad.</span><span class="sxs-lookup"><span data-stu-id="58ce7-293">Its purpose is to provide an automated method to make older programs with compatibility issues work better.</span></span> <span data-ttu-id="58ce7-294">El PCA supervisa los programas en busca de problemas conocidos.</span><span class="sxs-lookup"><span data-stu-id="58ce7-294">The PCA monitors programs for known issues.</span></span> <span data-ttu-id="58ce7-295">Si se detecta un problema, notifica al usuario el problema y le ofrece que aplique soluciones eficaces antes de que el usuario ejecute de nuevo el programa.</span><span class="sxs-lookup"><span data-stu-id="58ce7-295">If an issue is detected, it notifies the user of the problem and offers to apply effective solutions before the user runs the program again.</span></span> <span data-ttu-id="58ce7-296">Para evitar ver estas advertencias o bloques, los ISV deben usar las muchas herramientas disponibles para asegurarse de que sus aplicaciones son compatibles con Windows Vista, Windows 7 y versiones posteriores.</span><span class="sxs-lookup"><span data-stu-id="58ce7-296">To avoid seeing these warnings or blocks, ISVs should use the many available tools to ensure that their applications are compatible with Windows Vista, Windows 7, and later.</span></span>

### <a name="support-for-previous-windows-operating-system-versions"></a><span data-ttu-id="58ce7-297">Compatibilidad con versiones anteriores del sistema operativo Windows</span><span class="sxs-lookup"><span data-stu-id="58ce7-297">Support for Previous Windows Operating System Versions</span></span>

<span data-ttu-id="58ce7-298">La infraestructura programas predeterminados no está disponible en ningún sistema operativo Windows antes de Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="58ce7-298">The Default Programs infrastructure is not available on any Windows operating system before Windows Vista.</span></span> <span data-ttu-id="58ce7-299">Por lo tanto, cuando las aplicaciones se mueven a la nueva infraestructura de programas predeterminados, deben conservar su código anterior de los valores predeterminados de la aplicación para mantener la compatibilidad con versiones anteriores de Windows.</span><span class="sxs-lookup"><span data-stu-id="58ce7-299">Therefore, when applications move to the new Default Programs infrastructure, they should retain their older application-defaults code to maintain compatibility with older versions of Windows.</span></span> <span data-ttu-id="58ce7-300">Una aplicación debe ejecutar una comprobación de versión del sistema operativo como parte de su instalación para determinar qué código predeterminado de la aplicación se debe ejecutar.</span><span class="sxs-lookup"><span data-stu-id="58ce7-300">An application should run an operating system version check as part of its installation to determine which application-defaults code to run.</span></span>

<span data-ttu-id="58ce7-301">Para admitir una actualización de Windows XP a Windows Vista o posterior, las aplicaciones deben agregar todas las entradas del Registro necesarias para los programas predeterminados incluso cuando se instalan en un equipo que ejecuta Windows XP.</span><span class="sxs-lookup"><span data-stu-id="58ce7-301">To support an upgrade from Windows XP to Windows Vista or later, applications should add all the registry entries required for Default Programs even when they are installing on a computer running Windows XP.</span></span> <span data-ttu-id="58ce7-302">El registro no tendrá ningún efecto en un equipo que ejecuta Windows XP, pero si el equipo se actualiza más adelante, la aplicación ya estará registrada y podrá aprovechar el marco.</span><span class="sxs-lookup"><span data-stu-id="58ce7-302">The registration will have no effect on a computer running Windows XP, but if the computer is later upgraded, the application will be already registered and able to take advantage of the framework.</span></span>

<span data-ttu-id="58ce7-303">Para obtener más información, [**vea OSVERSIONINFO**](/windows/win32/api/winnt/ns-winnt-osversioninfoa).</span><span class="sxs-lookup"><span data-stu-id="58ce7-303">For more information, see [**OSVERSIONINFO**](/windows/win32/api/winnt/ns-winnt-osversioninfoa).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="58ce7-304">Recursos adicionales</span><span class="sxs-lookup"><span data-stu-id="58ce7-304">Additional Resources</span></span>

-   [<span data-ttu-id="58ce7-305">Introducción a las asociaciones de archivos</span><span class="sxs-lookup"><span data-stu-id="58ce7-305">Introduction to File Associations</span></span>](fa-intro.md)
-   [<span data-ttu-id="58ce7-306">Cómo registrar un explorador de Internet o un cliente de correo electrónico con el menú Inicio de Windows</span><span class="sxs-lookup"><span data-stu-id="58ce7-306">How to Register an Internet Browser or Email Client With the Windows Start Menu</span></span>](start-menu-reg.md)
-   <span data-ttu-id="58ce7-307">[Registro de una aplicación en un esquema uri](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="58ce7-307">[Registering an Application to a URI Scheme](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85))</span></span>

## <a name="related-topics"></a><span data-ttu-id="58ce7-308">Temas relacionados</span><span class="sxs-lookup"><span data-stu-id="58ce7-308">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="58ce7-309">Procedimientos recomendados para asociaciones de archivos</span><span class="sxs-lookup"><span data-stu-id="58ce7-309">Best Practices for File Associations</span></span>](fa-best-practices.md)
</dt> <dt>

[<span data-ttu-id="58ce7-310">Escenario de ejemplo de asociación de archivos</span><span class="sxs-lookup"><span data-stu-id="58ce7-310">File Association Sample Scenario</span></span>](fa-sample-scenarios.md)
</dt> <dt>

[<span data-ttu-id="58ce7-311">Programas predeterminados</span><span class="sxs-lookup"><span data-stu-id="58ce7-311">Default Programs</span></span>](default-programs.md)
</dt> <dt>

[<span data-ttu-id="58ce7-312">Trabajar con establecer el acceso al programa y los valores predeterminados del equipo (SPAD)</span><span class="sxs-lookup"><span data-stu-id="58ce7-312">Working with Set Program Access and Computer Defaults (SPAD)</span></span>](cpl-setprogramaccess.md)
</dt> </dl>

 

 
